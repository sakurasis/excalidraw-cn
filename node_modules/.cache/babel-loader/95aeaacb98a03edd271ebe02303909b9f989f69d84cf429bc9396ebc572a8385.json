{"ast":null,"code":"import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{getClientColor}from\"../clients\";import{Avatar}from\"../components/Avatar\";import{centerScrollOn}from\"../scene/scroll\";import{register}from\"./register\";import{jsx as _jsx}from\"react/jsx-runtime\";export var actionGoToCollaborator=register({name:\"goToCollaborator\",viewMode:true,trackEvent:{category:\"collab\"},perform:function perform(_elements,appState,value){var point=value;if(!point){return{appState:appState,commitToHistory:false};}return{appState:_objectSpread(_objectSpread(_objectSpread({},appState),centerScrollOn({scenePoint:point,viewportDimensions:{width:appState.width,height:appState.height},zoom:appState.zoom})),{},{// Close mobile menu\nopenMenu:appState.openMenu===\"canvas\"?null:appState.openMenu}),commitToHistory:false};},PanelComponent:function PanelComponent(_ref){var updateData=_ref.updateData,data=_ref.data;var _ref2=data,_ref3=_slicedToArray(_ref2,2),clientId=_ref3[0],collaborator=_ref3[1];var background=getClientColor(clientId);return/*#__PURE__*/_jsx(Avatar,{color:background,onClick:function onClick(){return updateData(collaborator.pointer);},name:collaborator.username||\"\",src:collaborator.avatarUrl});}});","map":{"version":3,"names":["getClientColor","Avatar","centerScrollOn","register","jsx","_jsx","actionGoToCollaborator","name","viewMode","trackEvent","category","perform","_elements","appState","value","point","commitToHistory","_objectSpread","scenePoint","viewportDimensions","width","height","zoom","openMenu","PanelComponent","_ref","updateData","data","_ref2","_ref3","_slicedToArray","clientId","collaborator","background","color","onClick","pointer","username","src","avatarUrl"],"sources":["D:/project/excalidraw-cn/src/actions/actionNavigate.tsx"],"sourcesContent":["import { getClientColor } from \"../clients\";\nimport { Avatar } from \"../components/Avatar\";\nimport { centerScrollOn } from \"../scene/scroll\";\nimport { Collaborator } from \"../types\";\nimport { register } from \"./register\";\n\nexport const actionGoToCollaborator = register({\n  name: \"goToCollaborator\",\n  viewMode: true,\n  trackEvent: { category: \"collab\" },\n  perform: (_elements, appState, value) => {\n    const point = value as Collaborator[\"pointer\"];\n    if (!point) {\n      return { appState, commitToHistory: false };\n    }\n\n    return {\n      appState: {\n        ...appState,\n        ...centerScrollOn({\n          scenePoint: point,\n          viewportDimensions: {\n            width: appState.width,\n            height: appState.height,\n          },\n          zoom: appState.zoom,\n        }),\n        // Close mobile menu\n        openMenu: appState.openMenu === \"canvas\" ? null : appState.openMenu,\n      },\n      commitToHistory: false,\n    };\n  },\n  PanelComponent: ({ updateData, data }) => {\n    const [clientId, collaborator] = data as [string, Collaborator];\n\n    const background = getClientColor(clientId);\n\n    return (\n      <Avatar\n        color={background}\n        onClick={() => updateData(collaborator.pointer)}\n        name={collaborator.username || \"\"}\n        src={collaborator.avatarUrl}\n      />\n    );\n  },\n});\n"],"mappings":"2NAAA,OAASA,cAAc,KAAQ,YAAY,CAC3C,OAASC,MAAM,KAAQ,sBAAsB,CAC7C,OAASC,cAAc,KAAQ,iBAAiB,CAEhD,OAASC,QAAQ,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEtC,MAAO,IAAM,CAAAC,sBAAsB,CAAGH,QAAQ,CAAC,CAC7CI,IAAI,CAAE,kBAAkB,CACxBC,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAClCC,OAAO,CAAE,SAAAA,QAACC,SAAS,CAAEC,QAAQ,CAAEC,KAAK,CAAK,CACvC,GAAM,CAAAC,KAAK,CAAGD,KAAgC,CAC9C,GAAI,CAACC,KAAK,CAAE,CACV,MAAO,CAAEF,QAAQ,CAARA,QAAQ,CAAEG,eAAe,CAAE,KAAM,CAAC,CAC7C,CAEA,MAAO,CACLH,QAAQ,CAAAI,aAAA,CAAAA,aAAA,CAAAA,aAAA,IACHJ,QAAQ,EACRX,cAAc,CAAC,CAChBgB,UAAU,CAAEH,KAAK,CACjBI,kBAAkB,CAAE,CAClBC,KAAK,CAAEP,QAAQ,CAACO,KAAK,CACrBC,MAAM,CAAER,QAAQ,CAACQ,MACnB,CAAC,CACDC,IAAI,CAAET,QAAQ,CAACS,IACjB,CAAC,CAAC,MACF;AACAC,QAAQ,CAAEV,QAAQ,CAACU,QAAQ,GAAK,QAAQ,CAAG,IAAI,CAAGV,QAAQ,CAACU,QAAQ,EACpE,CACDP,eAAe,CAAE,KACnB,CAAC,CACH,CAAC,CACDQ,cAAc,CAAE,SAAAA,eAAAC,IAAA,CAA0B,IAAvB,CAAAC,UAAU,CAAAD,IAAA,CAAVC,UAAU,CAAEC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CACjC,IAAAC,KAAA,CAAiCD,IAAI,CAAAE,KAAA,CAAAC,cAAA,CAAAF,KAAA,IAA9BG,QAAQ,CAAAF,KAAA,IAAEG,YAAY,CAAAH,KAAA,IAE7B,GAAM,CAAAI,UAAU,CAAGjC,cAAc,CAAC+B,QAAQ,CAAC,CAE3C,mBACE1B,IAAA,CAACJ,MAAM,EACLiC,KAAK,CAAED,UAAW,CAClBE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAT,UAAU,CAACM,YAAY,CAACI,OAAO,CAAC,EAAC,CAChD7B,IAAI,CAAEyB,YAAY,CAACK,QAAQ,EAAI,EAAG,CAClCC,GAAG,CAAEN,YAAY,CAACO,SAAU,EAC5B,CAEN,CACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}