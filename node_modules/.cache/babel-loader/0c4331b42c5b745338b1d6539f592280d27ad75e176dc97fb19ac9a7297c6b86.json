{"ast":null,"code":"import React, { useContext } from \"react\";\nimport { EVENT } from \"../../constants\";\nimport { composeEventHandlers } from \"../../utils\";\nexport const DropdownMenuContentPropsContext = /*#__PURE__*/React.createContext({});\nexport const getDropdownMenuItemClassName = function () {\n  let className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return `dropdown-menu-item dropdown-menu-item-base ${className}`.trim();\n};\nexport const useHandleDropdownMenuItemClick = (origOnClick, onSelect) => {\n  const DropdownMenuContentProps = useContext(DropdownMenuContentPropsContext);\n  return composeEventHandlers(origOnClick, event => {\n    const itemSelectEvent = new CustomEvent(EVENT.MENU_ITEM_SELECT, {\n      bubbles: true,\n      cancelable: true\n    });\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect(itemSelectEvent);\n    if (!itemSelectEvent.defaultPrevented) {\n      var _DropdownMenuContentP;\n      (_DropdownMenuContentP = DropdownMenuContentProps.onSelect) === null || _DropdownMenuContentP === void 0 ? void 0 : _DropdownMenuContentP.call(DropdownMenuContentProps, itemSelectEvent);\n    }\n  });\n};","map":{"version":3,"names":["React","useContext","EVENT","composeEventHandlers","DropdownMenuContentPropsContext","createContext","getDropdownMenuItemClassName","className","arguments","length","undefined","trim","useHandleDropdownMenuItemClick","origOnClick","onSelect","DropdownMenuContentProps","event","itemSelectEvent","CustomEvent","MENU_ITEM_SELECT","bubbles","cancelable","defaultPrevented","_DropdownMenuContentP","call"],"sources":["D:/project/excalidraw-cn/src/components/dropdownMenu/common.ts"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { EVENT } from \"../../constants\";\nimport { composeEventHandlers } from \"../../utils\";\n\nexport const DropdownMenuContentPropsContext = React.createContext<{\n  onSelect?: (event: Event) => void;\n}>({});\n\nexport const getDropdownMenuItemClassName = (className = \"\") => {\n  return `dropdown-menu-item dropdown-menu-item-base ${className}`.trim();\n};\n\nexport const useHandleDropdownMenuItemClick = (\n  origOnClick:\n    | React.MouseEventHandler<HTMLAnchorElement | HTMLButtonElement>\n    | undefined,\n  onSelect: ((event: Event) => void) | undefined,\n) => {\n  const DropdownMenuContentProps = useContext(DropdownMenuContentPropsContext);\n\n  return composeEventHandlers(origOnClick, (event) => {\n    const itemSelectEvent = new CustomEvent(EVENT.MENU_ITEM_SELECT, {\n      bubbles: true,\n      cancelable: true,\n    });\n    onSelect?.(itemSelectEvent);\n    if (!itemSelectEvent.defaultPrevented) {\n      DropdownMenuContentProps.onSelect?.(itemSelectEvent);\n    }\n  });\n};\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,oBAAoB,QAAQ,aAAa;AAElD,OAAO,MAAMC,+BAA+B,gBAAGJ,KAAK,CAACK,aAAa,CAE/D,CAAC,CAAC,CAAC;AAEN,OAAO,MAAMC,4BAA4B,GAAG,SAAAA,CAAA,EAAoB;EAAA,IAAnBC,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACzD,OAAQ,8CAA6CD,SAAU,EAAC,CAACI,IAAI,EAAE;AACzE,CAAC;AAED,OAAO,MAAMC,8BAA8B,GAAGA,CAC5CC,WAEa,EACbC,QAA8C,KAC3C;EACH,MAAMC,wBAAwB,GAAGd,UAAU,CAACG,+BAA+B,CAAC;EAE5E,OAAOD,oBAAoB,CAACU,WAAW,EAAGG,KAAK,IAAK;IAClD,MAAMC,eAAe,GAAG,IAAIC,WAAW,CAAChB,KAAK,CAACiB,gBAAgB,EAAE;MAC9DC,OAAO,EAAE,IAAI;MACbC,UAAU,EAAE;IACd,CAAC,CAAC;IACFP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAGG,eAAe,CAAC;IAC3B,IAAI,CAACA,eAAe,CAACK,gBAAgB,EAAE;MAAA,IAAAC,qBAAA;MACrC,CAAAA,qBAAA,GAAAR,wBAAwB,CAACD,QAAQ,cAAAS,qBAAA,uBAAjCA,qBAAA,CAAAC,IAAA,CAAAT,wBAAwB,EAAYE,eAAe,CAAC;IACtD;EACF,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}