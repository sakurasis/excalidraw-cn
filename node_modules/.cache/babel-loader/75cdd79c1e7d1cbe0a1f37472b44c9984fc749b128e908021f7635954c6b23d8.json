{"ast":null,"code":"import{forwardRef,useRef,useImperativeHandle,useLayoutEffect}from\"react\";import clsx from\"clsx\";import\"./TextField.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var TextField=/*#__PURE__*/forwardRef(function(_ref,ref){var value=_ref.value,_onChange=_ref.onChange,label=_ref.label,fullWidth=_ref.fullWidth,placeholder=_ref.placeholder,readonly=_ref.readonly,selectOnRender=_ref.selectOnRender,onKeyDown=_ref.onKeyDown;var innerRef=useRef(null);useImperativeHandle(ref,function(){return innerRef.current;});useLayoutEffect(function(){if(selectOnRender){var _innerRef$current;(_innerRef$current=innerRef.current)===null||_innerRef$current===void 0?void 0:_innerRef$current.select();}},[selectOnRender]);return/*#__PURE__*/_jsxs(\"div\",{className:clsx(\"ExcTextField\",{\"ExcTextField--fullWidth\":fullWidth}),onClick:function onClick(){var _innerRef$current2;(_innerRef$current2=innerRef.current)===null||_innerRef$current2===void 0?void 0:_innerRef$current2.focus();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"ExcTextField__label\",children:label}),/*#__PURE__*/_jsx(\"div\",{className:clsx(\"ExcTextField__input\",{\"ExcTextField__input--readonly\":readonly}),children:/*#__PURE__*/_jsx(\"input\",{readOnly:readonly,type:\"text\",value:value,placeholder:placeholder,ref:innerRef,onChange:function onChange(event){return _onChange===null||_onChange===void 0?void 0:_onChange(event.target.value);},onKeyDown:onKeyDown})})]});});","map":{"version":3,"names":["forwardRef","useRef","useImperativeHandle","useLayoutEffect","clsx","jsx","_jsx","jsxs","_jsxs","TextField","_ref","ref","value","onChange","label","fullWidth","placeholder","readonly","selectOnRender","onKeyDown","innerRef","current","_innerRef$current","select","className","onClick","_innerRef$current2","focus","children","readOnly","type","event","target"],"sources":["D:/project/excalidraw-cn/src/components/TextField.tsx"],"sourcesContent":["import {\n  forwardRef,\n  useRef,\n  useImperativeHandle,\n  KeyboardEvent,\n  useLayoutEffect,\n} from \"react\";\nimport clsx from \"clsx\";\n\nimport \"./TextField.scss\";\n\nexport type TextFieldProps = {\n  value?: string;\n\n  onChange?: (value: string) => void;\n  onClick?: () => void;\n  onKeyDown?: (event: KeyboardEvent<HTMLInputElement>) => void;\n\n  readonly?: boolean;\n  fullWidth?: boolean;\n  selectOnRender?: boolean;\n\n  label?: string;\n  placeholder?: string;\n};\n\nexport const TextField = forwardRef<HTMLInputElement, TextFieldProps>(\n  (\n    {\n      value,\n      onChange,\n      label,\n      fullWidth,\n      placeholder,\n      readonly,\n      selectOnRender,\n      onKeyDown,\n    },\n    ref,\n  ) => {\n    const innerRef = useRef<HTMLInputElement | null>(null);\n\n    useImperativeHandle(ref, () => innerRef.current!);\n\n    useLayoutEffect(() => {\n      if (selectOnRender) {\n        innerRef.current?.select();\n      }\n    }, [selectOnRender]);\n\n    return (\n      <div\n        className={clsx(\"ExcTextField\", {\n          \"ExcTextField--fullWidth\": fullWidth,\n        })}\n        onClick={() => {\n          innerRef.current?.focus();\n        }}\n      >\n        <div className=\"ExcTextField__label\">{label}</div>\n        <div\n          className={clsx(\"ExcTextField__input\", {\n            \"ExcTextField__input--readonly\": readonly,\n          })}\n        >\n          <input\n            readOnly={readonly}\n            type=\"text\"\n            value={value}\n            placeholder={placeholder}\n            ref={innerRef}\n            onChange={(event) => onChange?.(event.target.value)}\n            onKeyDown={onKeyDown}\n          />\n        </div>\n      </div>\n    );\n  },\n);\n"],"mappings":"AAAA,OACEA,UAAU,CACVC,MAAM,CACNC,mBAAmB,CAEnBC,eAAe,KACV,OAAO,CACd,MAAO,CAAAC,IAAI,KAAM,MAAM,CAEvB,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAiB1B,MAAO,IAAM,CAAAC,SAAS,cAAGT,UAAU,CACjC,SAAAU,IAAA,CAWEC,GAAG,CACA,IAVD,CAAAC,KAAK,CAAAF,IAAA,CAALE,KAAK,CACLC,SAAQ,CAAAH,IAAA,CAARG,QAAQ,CACRC,KAAK,CAAAJ,IAAA,CAALI,KAAK,CACLC,SAAS,CAAAL,IAAA,CAATK,SAAS,CACTC,WAAW,CAAAN,IAAA,CAAXM,WAAW,CACXC,QAAQ,CAAAP,IAAA,CAARO,QAAQ,CACRC,cAAc,CAAAR,IAAA,CAAdQ,cAAc,CACdC,SAAS,CAAAT,IAAA,CAATS,SAAS,CAIX,GAAM,CAAAC,QAAQ,CAAGnB,MAAM,CAA0B,IAAI,CAAC,CAEtDC,mBAAmB,CAACS,GAAG,CAAE,iBAAM,CAAAS,QAAQ,CAACC,OAAO,EAAC,CAAC,CAEjDlB,eAAe,CAAC,UAAM,CACpB,GAAIe,cAAc,CAAE,KAAAI,iBAAA,CAClB,CAAAA,iBAAA,CAAAF,QAAQ,CAACC,OAAO,UAAAC,iBAAA,iBAAhBA,iBAAA,CAAkBC,MAAM,EAAE,CAC5B,CACF,CAAC,CAAE,CAACL,cAAc,CAAC,CAAC,CAEpB,mBACEV,KAAA,QACEgB,SAAS,CAAEpB,IAAI,CAAC,cAAc,CAAE,CAC9B,yBAAyB,CAAEW,SAC7B,CAAC,CAAE,CACHU,OAAO,CAAE,SAAAA,QAAA,CAAM,KAAAC,kBAAA,CACb,CAAAA,kBAAA,CAAAN,QAAQ,CAACC,OAAO,UAAAK,kBAAA,iBAAhBA,kBAAA,CAAkBC,KAAK,EAAE,CAC3B,CAAE,CAAAC,QAAA,eAEFtB,IAAA,QAAKkB,SAAS,CAAC,qBAAqB,CAAAI,QAAA,CAAEd,KAAK,EAAO,cAClDR,IAAA,QACEkB,SAAS,CAAEpB,IAAI,CAAC,qBAAqB,CAAE,CACrC,+BAA+B,CAAEa,QACnC,CAAC,CAAE,CAAAW,QAAA,cAEHtB,IAAA,UACEuB,QAAQ,CAAEZ,QAAS,CACnBa,IAAI,CAAC,MAAM,CACXlB,KAAK,CAAEA,KAAM,CACbI,WAAW,CAAEA,WAAY,CACzBL,GAAG,CAAES,QAAS,CACdP,QAAQ,CAAE,SAAAA,SAACkB,KAAK,QAAK,CAAAlB,SAAQ,SAARA,SAAQ,iBAARA,SAAQ,CAAGkB,KAAK,CAACC,MAAM,CAACpB,KAAK,CAAC,EAAC,CACpDO,SAAS,CAAEA,SAAU,EACrB,EACE,GACF,CAEV,CAAC,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}