{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\excalidraw-cn\\\\src\\\\components\\\\DefaultSidebar.tsx\";\nimport clsx from \"clsx\";\nimport { DEFAULT_SIDEBAR, LIBRARY_SIDEBAR_TAB } from \"../constants\";\nimport { useTunnels } from \"../context/tunnels\";\nimport { useUIAppState } from \"../context/ui-appState\";\nimport { t } from \"../i18n\";\nimport { composeEventHandlers } from \"../utils\";\nimport { useExcalidrawSetAppState } from \"./App\";\nimport { withInternalFallback } from \"./hoc/withInternalFallback\";\nimport { LibraryMenu } from \"./LibraryMenu\";\nimport { Sidebar } from \"./Sidebar/Sidebar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nconst DefaultSidebarTrigger = withInternalFallback(\"DefaultSidebarTrigger\", props => {\n  const {\n    DefaultSidebarTriggerTunnel\n  } = useTunnels();\n  return /*#__PURE__*/_jsxDEV(DefaultSidebarTriggerTunnel.In, {\n    children: /*#__PURE__*/_jsxDEV(Sidebar.Trigger, {\n      ...props,\n      className: \"default-sidebar-trigger\",\n      name: DEFAULT_SIDEBAR.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 7\n  }, this);\n});\nDefaultSidebarTrigger.displayName = \"DefaultSidebarTrigger\";\nconst DefaultTabTriggers = _ref => {\n  let {\n    children,\n    ...rest\n  } = _ref;\n  const {\n    DefaultSidebarTabTriggersTunnel\n  } = useTunnels();\n  return /*#__PURE__*/_jsxDEV(DefaultSidebarTabTriggersTunnel.In, {\n    children: /*#__PURE__*/_jsxDEV(Sidebar.TabTriggers, {\n      ...rest,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\nDefaultTabTriggers.displayName = \"DefaultTabTriggers\";\nexport const DefaultSidebar = Object.assign(withInternalFallback(\"DefaultSidebar\", _ref2 => {\n  let {\n    children,\n    className,\n    onDock,\n    docked,\n    ...rest\n  } = _ref2;\n  const appState = useUIAppState();\n  const setAppState = useExcalidrawSetAppState();\n  const {\n    DefaultSidebarTabTriggersTunnel\n  } = useTunnels();\n  return /*#__PURE__*/_createElement(Sidebar, {\n    ...rest,\n    name: \"default\",\n    key: \"default\",\n    className: clsx(\"default-sidebar\", className),\n    docked: docked !== null && docked !== void 0 ? docked : appState.defaultSidebarDockedPreference,\n    onDock:\n    // `onDock=false` disables docking.\n    // if `docked` passed, but no onDock passed, disable manual docking.\n    onDock === false || !onDock && docked != null ? undefined :\n    // compose to allow the host app to listen on default behavior\n    composeEventHandlers(onDock, docked => {\n      setAppState({\n        defaultSidebarDockedPreference: docked\n      });\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/_jsxDEV(Sidebar.Tabs, {\n    children: [/*#__PURE__*/_jsxDEV(Sidebar.Header, {\n      children: [rest.__fallback && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"var(--color-primary)\",\n          fontSize: \"1.2em\",\n          fontWeight: \"bold\",\n          textOverflow: \"ellipsis\",\n          overflow: \"hidden\",\n          whiteSpace: \"nowrap\",\n          paddingRight: \"1em\"\n        },\n        children: t(\"toolBar.library\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DefaultSidebarTabTriggersTunnel.Out, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar.Tab, {\n      tab: LIBRARY_SIDEBAR_TAB,\n      children: /*#__PURE__*/_jsxDEV(LibraryMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 11\n  }, this));\n}), {\n  Trigger: DefaultSidebarTrigger,\n  TabTriggers: DefaultTabTriggers\n});","map":{"version":3,"names":["clsx","DEFAULT_SIDEBAR","LIBRARY_SIDEBAR_TAB","useTunnels","useUIAppState","t","composeEventHandlers","useExcalidrawSetAppState","withInternalFallback","LibraryMenu","Sidebar","jsxDEV","_jsxDEV","createElement","_createElement","DefaultSidebarTrigger","props","DefaultSidebarTriggerTunnel","In","children","Trigger","className","name","fileName","_jsxFileName","lineNumber","columnNumber","displayName","DefaultTabTriggers","_ref","rest","DefaultSidebarTabTriggersTunnel","TabTriggers","DefaultSidebar","Object","assign","_ref2","onDock","docked","appState","setAppState","key","defaultSidebarDockedPreference","undefined","__self","__source","Tabs","Header","__fallback","style","color","fontSize","fontWeight","textOverflow","overflow","whiteSpace","paddingRight","Out","Tab","tab"],"sources":["D:/project/excalidraw-cn/src/components/DefaultSidebar.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport { DEFAULT_SIDEBAR, LIBRARY_SIDEBAR_TAB } from \"../constants\";\nimport { useTunnels } from \"../context/tunnels\";\nimport { useUIAppState } from \"../context/ui-appState\";\nimport { t } from \"../i18n\";\nimport { MarkOptional, Merge } from \"../utility-types\";\nimport { composeEventHandlers } from \"../utils\";\nimport { useExcalidrawSetAppState } from \"./App\";\nimport { withInternalFallback } from \"./hoc/withInternalFallback\";\nimport { LibraryMenu } from \"./LibraryMenu\";\nimport { SidebarProps, SidebarTriggerProps } from \"./Sidebar/common\";\nimport { Sidebar } from \"./Sidebar/Sidebar\";\n\nconst DefaultSidebarTrigger = withInternalFallback(\n  \"DefaultSidebarTrigger\",\n  (\n    props: Omit<SidebarTriggerProps, \"name\"> &\n      React.HTMLAttributes<HTMLDivElement>,\n  ) => {\n    const { DefaultSidebarTriggerTunnel } = useTunnels();\n    return (\n      <DefaultSidebarTriggerTunnel.In>\n        <Sidebar.Trigger\n          {...props}\n          className=\"default-sidebar-trigger\"\n          name={DEFAULT_SIDEBAR.name}\n        />\n      </DefaultSidebarTriggerTunnel.In>\n    );\n  },\n);\nDefaultSidebarTrigger.displayName = \"DefaultSidebarTrigger\";\n\nconst DefaultTabTriggers = ({\n  children,\n  ...rest\n}: { children: React.ReactNode } & React.HTMLAttributes<HTMLDivElement>) => {\n  const { DefaultSidebarTabTriggersTunnel } = useTunnels();\n  return (\n    <DefaultSidebarTabTriggersTunnel.In>\n      <Sidebar.TabTriggers {...rest}>{children}</Sidebar.TabTriggers>\n    </DefaultSidebarTabTriggersTunnel.In>\n  );\n};\nDefaultTabTriggers.displayName = \"DefaultTabTriggers\";\n\nexport const DefaultSidebar = Object.assign(\n  withInternalFallback(\n    \"DefaultSidebar\",\n    ({\n      children,\n      className,\n      onDock,\n      docked,\n      ...rest\n    }: Merge<\n      MarkOptional<Omit<SidebarProps, \"name\">, \"children\">,\n      {\n        /** pass `false` to disable docking */\n        onDock?: SidebarProps[\"onDock\"] | false;\n      }\n    >) => {\n      const appState = useUIAppState();\n      const setAppState = useExcalidrawSetAppState();\n\n      const { DefaultSidebarTabTriggersTunnel } = useTunnels();\n\n      return (\n        <Sidebar\n          {...rest}\n          name=\"default\"\n          key=\"default\"\n          className={clsx(\"default-sidebar\", className)}\n          docked={docked ?? appState.defaultSidebarDockedPreference}\n          onDock={\n            // `onDock=false` disables docking.\n            // if `docked` passed, but no onDock passed, disable manual docking.\n            onDock === false || (!onDock && docked != null)\n              ? undefined\n              : // compose to allow the host app to listen on default behavior\n                composeEventHandlers(onDock, (docked) => {\n                  setAppState({ defaultSidebarDockedPreference: docked });\n                })\n          }\n        >\n          <Sidebar.Tabs>\n            <Sidebar.Header>\n              {rest.__fallback && (\n                <div\n                  style={{\n                    color: \"var(--color-primary)\",\n                    fontSize: \"1.2em\",\n                    fontWeight: \"bold\",\n                    textOverflow: \"ellipsis\",\n                    overflow: \"hidden\",\n                    whiteSpace: \"nowrap\",\n                    paddingRight: \"1em\",\n                  }}\n                >\n                  {t(\"toolBar.library\")}\n                </div>\n              )}\n              <DefaultSidebarTabTriggersTunnel.Out />\n            </Sidebar.Header>\n            <Sidebar.Tab tab={LIBRARY_SIDEBAR_TAB}>\n              <LibraryMenu />\n            </Sidebar.Tab>\n            {children}\n          </Sidebar.Tabs>\n        </Sidebar>\n      );\n    },\n  ),\n  {\n    Trigger: DefaultSidebarTrigger,\n    TabTriggers: DefaultTabTriggers,\n  },\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}