{"ast":null,"code":"export class Locker {\n  constructor() {\n    this.locks = new Map();\n    this.lock = lockType => {\n      this.locks.set(lockType, true);\n    };\n    /** @returns whether no locks remaining */\n    this.unlock = lockType => {\n      this.locks.delete(lockType);\n      return !this.isLocked();\n    };\n  }\n  /** @returns whether some (or specific) locks are present */\n  isLocked(lockType) {\n    return lockType ? this.locks.has(lockType) : !!this.locks.size;\n  }\n}","map":{"version":3,"names":["Locker","constructor","locks","Map","lock","lockType","set","unlock","delete","isLocked","has","size"],"sources":["D:/project/excalidraw-cn/src/excalidraw-app/data/Locker.ts"],"sourcesContent":["export class Locker<T extends string> {\n  private locks = new Map<T, true>();\n\n  lock = (lockType: T) => {\n    this.locks.set(lockType, true);\n  };\n\n  /** @returns whether no locks remaining */\n  unlock = (lockType: T) => {\n    this.locks.delete(lockType);\n    return !this.isLocked();\n  };\n\n  /** @returns whether some (or specific) locks are present */\n  isLocked(lockType?: T) {\n    return lockType ? this.locks.has(lockType) : !!this.locks.size;\n  }\n}\n"],"mappings":"AAAA,OAAO,MAAMA,MAAM,CAAmB;EAAAC,YAAA;IAAA,KAC5BC,KAAK,GAAG,IAAIC,GAAG,EAAW;IAAA,KAElCC,IAAI,GAAIC,QAAW,IAAK;MACtB,IAAI,CAACH,KAAK,CAACI,GAAG,CAACD,QAAQ,EAAE,IAAI,CAAC;IAChC,CAAC;IAED;IAAA,KACAE,MAAM,GAAIF,QAAW,IAAK;MACxB,IAAI,CAACH,KAAK,CAACM,MAAM,CAACH,QAAQ,CAAC;MAC3B,OAAO,CAAC,IAAI,CAACI,QAAQ,EAAE;IACzB,CAAC;EAAA;EAED;EACAA,QAAQA,CAACJ,QAAY,EAAE;IACrB,OAAOA,QAAQ,GAAG,IAAI,CAACH,KAAK,CAACQ,GAAG,CAACL,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAACH,KAAK,CAACS,IAAI;EAChE;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}