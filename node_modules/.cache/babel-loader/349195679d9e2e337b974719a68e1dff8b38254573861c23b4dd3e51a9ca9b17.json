{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\excalidraw-cn\\\\src\\\\components\\\\ConfirmDialog.tsx\";\nimport { t } from \"../i18n\";\nimport { Dialog } from \"./Dialog\";\nimport \"./ConfirmDialog.scss\";\nimport DialogActionButton from \"./DialogActionButton\";\nimport { useSetAtom } from \"jotai\";\nimport { isLibraryMenuOpenAtom } from \"./LibraryMenu\";\nimport { useExcalidrawContainer, useExcalidrawSetAppState } from \"./App\";\nimport { jotaiScope } from \"../jotai\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ConfirmDialog = props => {\n  const {\n    onConfirm,\n    onCancel,\n    children,\n    confirmText = t(\"buttons.confirm\"),\n    cancelText = t(\"buttons.cancel\"),\n    className = \"\",\n    ...rest\n  } = props;\n  const setAppState = useExcalidrawSetAppState();\n  const setIsLibraryMenuOpen = useSetAtom(isLibraryMenuOpenAtom, jotaiScope);\n  const {\n    container\n  } = useExcalidrawContainer();\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    onCloseRequest: onCancel,\n    size: \"small\",\n    ...rest,\n    className: `confirm-dialog ${className}`,\n    children: [children, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confirm-dialog-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(DialogActionButton, {\n        label: cancelText,\n        onClick: () => {\n          setAppState({\n            openMenu: null\n          });\n          setIsLibraryMenuOpen(false);\n          onCancel();\n          container === null || container === void 0 ? void 0 : container.focus();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActionButton, {\n        label: confirmText,\n        onClick: () => {\n          setAppState({\n            openMenu: null\n          });\n          setIsLibraryMenuOpen(false);\n          onConfirm();\n          container === null || container === void 0 ? void 0 : container.focus();\n        },\n        actionType: \"danger\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\nexport default ConfirmDialog;","map":{"version":3,"names":["t","Dialog","DialogActionButton","useSetAtom","isLibraryMenuOpenAtom","useExcalidrawContainer","useExcalidrawSetAppState","jotaiScope","jsxDEV","_jsxDEV","ConfirmDialog","props","onConfirm","onCancel","children","confirmText","cancelText","className","rest","setAppState","setIsLibraryMenuOpen","container","onCloseRequest","size","label","onClick","openMenu","focus","fileName","_jsxFileName","lineNumber","columnNumber","actionType"],"sources":["D:/project/excalidraw-cn/src/components/ConfirmDialog.tsx"],"sourcesContent":["import { t } from \"../i18n\";\nimport { Dialog, DialogProps } from \"./Dialog\";\n\nimport \"./ConfirmDialog.scss\";\nimport DialogActionButton from \"./DialogActionButton\";\nimport { useSetAtom } from \"jotai\";\nimport { isLibraryMenuOpenAtom } from \"./LibraryMenu\";\nimport { useExcalidrawContainer, useExcalidrawSetAppState } from \"./App\";\nimport { jotaiScope } from \"../jotai\";\n\ninterface Props extends Omit<DialogProps, \"onCloseRequest\"> {\n  onConfirm: () => void;\n  onCancel: () => void;\n  confirmText?: string;\n  cancelText?: string;\n}\nconst ConfirmDialog = (props: Props) => {\n  const {\n    onConfirm,\n    onCancel,\n    children,\n    confirmText = t(\"buttons.confirm\"),\n    cancelText = t(\"buttons.cancel\"),\n    className = \"\",\n    ...rest\n  } = props;\n  const setAppState = useExcalidrawSetAppState();\n  const setIsLibraryMenuOpen = useSetAtom(isLibraryMenuOpenAtom, jotaiScope);\n  const { container } = useExcalidrawContainer();\n\n  return (\n    <Dialog\n      onCloseRequest={onCancel}\n      size=\"small\"\n      {...rest}\n      className={`confirm-dialog ${className}`}\n    >\n      {children}\n      <div className=\"confirm-dialog-buttons\">\n        <DialogActionButton\n          label={cancelText}\n          onClick={() => {\n            setAppState({ openMenu: null });\n            setIsLibraryMenuOpen(false);\n            onCancel();\n            container?.focus();\n          }}\n        />\n        <DialogActionButton\n          label={confirmText}\n          onClick={() => {\n            setAppState({ openMenu: null });\n            setIsLibraryMenuOpen(false);\n            onConfirm();\n            container?.focus();\n          }}\n          actionType=\"danger\"\n        />\n      </div>\n    </Dialog>\n  );\n};\nexport default ConfirmDialog;\n"],"mappings":";AAAA,SAASA,CAAC,QAAQ,SAAS;AAC3B,SAASC,MAAM,QAAqB,UAAU;AAE9C,OAAO,sBAAsB;AAC7B,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,qBAAqB,QAAQ,eAAe;AACrD,SAASC,sBAAsB,EAAEC,wBAAwB,QAAQ,OAAO;AACxE,SAASC,UAAU,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQtC,MAAMC,aAAa,GAAIC,KAAY,IAAK;EACtC,MAAM;IACJC,SAAS;IACTC,QAAQ;IACRC,QAAQ;IACRC,WAAW,GAAGf,CAAC,CAAC,iBAAiB,CAAC;IAClCgB,UAAU,GAAGhB,CAAC,CAAC,gBAAgB,CAAC;IAChCiB,SAAS,GAAG,EAAE;IACd,GAAGC;EACL,CAAC,GAAGP,KAAK;EACT,MAAMQ,WAAW,GAAGb,wBAAwB,EAAE;EAC9C,MAAMc,oBAAoB,GAAGjB,UAAU,CAACC,qBAAqB,EAAEG,UAAU,CAAC;EAC1E,MAAM;IAAEc;EAAU,CAAC,GAAGhB,sBAAsB,EAAE;EAE9C,oBACEI,OAAA,CAACR,MAAM;IACLqB,cAAc,EAAET,QAAS;IACzBU,IAAI,EAAC,OAAO;IAAA,GACRL,IAAI;IACRD,SAAS,EAAG,kBAAiBA,SAAU,EAAE;IAAAH,QAAA,GAExCA,QAAQ,eACTL,OAAA;MAAKQ,SAAS,EAAC,wBAAwB;MAAAH,QAAA,gBACrCL,OAAA,CAACP,kBAAkB;QACjBsB,KAAK,EAAER,UAAW;QAClBS,OAAO,EAAEA,CAAA,KAAM;UACbN,WAAW,CAAC;YAAEO,QAAQ,EAAE;UAAK,CAAC,CAAC;UAC/BN,oBAAoB,CAAC,KAAK,CAAC;UAC3BP,QAAQ,EAAE;UACVQ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEM,KAAK,EAAE;QACpB;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACF,eACFtB,OAAA,CAACP,kBAAkB;QACjBsB,KAAK,EAAET,WAAY;QACnBU,OAAO,EAAEA,CAAA,KAAM;UACbN,WAAW,CAAC;YAAEO,QAAQ,EAAE;UAAK,CAAC,CAAC;UAC/BN,oBAAoB,CAAC,KAAK,CAAC;UAC3BR,SAAS,EAAE;UACXS,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEM,KAAK,EAAE;QACpB,CAAE;QACFK,UAAU,EAAC;MAAQ;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACnB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACE;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACC;AAEb,CAAC;AACD,eAAerB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}