{"ast":null,"code":"import React from\"react\";import{getCommonBounds}from\"../element/bounds\";import{t}from\"../i18n\";import{getTargetElements}from\"../scene\";import{CloseIcon}from\"./icons\";import{Island}from\"./Island\";import\"./Stats.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Stats=function Stats(props){var _props$renderCustomSt;var boundingBox=getCommonBounds(props.elements);var selectedElements=getTargetElements(props.elements,props.appState);var selectedBoundingBox=getCommonBounds(selectedElements);return/*#__PURE__*/_jsx(\"div\",{className:\"Stats\",children:/*#__PURE__*/_jsxs(Island,{padding:2,children:[/*#__PURE__*/_jsx(\"div\",{className:\"close\",onClick:props.onClose,children:CloseIcon}),/*#__PURE__*/_jsx(\"h3\",{children:t(\"stats.title\")}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{colSpan:2,children:t(\"stats.scene\")})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"stats.elements\")}),/*#__PURE__*/_jsx(\"td\",{children:props.elements.length})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"stats.width\")}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(boundingBox[2])-Math.round(boundingBox[0])})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"stats.height\")}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(boundingBox[3])-Math.round(boundingBox[1])})]}),selectedElements.length===1&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{colSpan:2,children:t(\"stats.element\")})}),selectedElements.length>1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{colSpan:2,children:t(\"stats.selected\")})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"stats.elements\")}),/*#__PURE__*/_jsx(\"td\",{children:selectedElements.length})]})]}),selectedElements.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"x\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(selectedBoundingBox[0])})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"y\"}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(selectedBoundingBox[1])})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"stats.width\")}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(selectedBoundingBox[2]-selectedBoundingBox[0])})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"stats.height\")}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(selectedBoundingBox[3]-selectedBoundingBox[1])})]})]}),selectedElements.length===1&&/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t(\"stats.angle\")}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(Math.round(selectedElements[0].angle*180/Math.PI),\"\\xB0\")})]}),(_props$renderCustomSt=props.renderCustomStats)===null||_props$renderCustomSt===void 0?void 0:_props$renderCustomSt.call(props,props.elements,props.appState)]})})]})});};","map":{"version":3,"names":["React","getCommonBounds","t","getTargetElements","CloseIcon","Island","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Stats","props","_props$renderCustomSt","boundingBox","elements","selectedElements","appState","selectedBoundingBox","className","children","padding","onClick","onClose","colSpan","length","Math","round","concat","angle","PI","renderCustomStats","call"],"sources":["D:/project/excalidraw-cn/src/components/Stats.tsx"],"sourcesContent":["import React from \"react\";\nimport { getCommonBounds } from \"../element/bounds\";\nimport { NonDeletedExcalidrawElement } from \"../element/types\";\nimport { t } from \"../i18n\";\nimport { getTargetElements } from \"../scene\";\nimport { ExcalidrawProps, UIAppState } from \"../types\";\nimport { CloseIcon } from \"./icons\";\nimport { Island } from \"./Island\";\nimport \"./Stats.scss\";\n\nexport const Stats = (props: {\n  appState: UIAppState;\n  setAppState: React.Component<any, UIAppState>[\"setState\"];\n  elements: readonly NonDeletedExcalidrawElement[];\n  onClose: () => void;\n  renderCustomStats: ExcalidrawProps[\"renderCustomStats\"];\n}) => {\n  const boundingBox = getCommonBounds(props.elements);\n  const selectedElements = getTargetElements(props.elements, props.appState);\n  const selectedBoundingBox = getCommonBounds(selectedElements);\n\n  return (\n    <div className=\"Stats\">\n      <Island padding={2}>\n        <div className=\"close\" onClick={props.onClose}>\n          {CloseIcon}\n        </div>\n        <h3>{t(\"stats.title\")}</h3>\n        <table>\n          <tbody>\n            <tr>\n              <th colSpan={2}>{t(\"stats.scene\")}</th>\n            </tr>\n            <tr>\n              <td>{t(\"stats.elements\")}</td>\n              <td>{props.elements.length}</td>\n            </tr>\n            <tr>\n              <td>{t(\"stats.width\")}</td>\n              <td>{Math.round(boundingBox[2]) - Math.round(boundingBox[0])}</td>\n            </tr>\n            <tr>\n              <td>{t(\"stats.height\")}</td>\n              <td>{Math.round(boundingBox[3]) - Math.round(boundingBox[1])}</td>\n            </tr>\n\n            {selectedElements.length === 1 && (\n              <tr>\n                <th colSpan={2}>{t(\"stats.element\")}</th>\n              </tr>\n            )}\n\n            {selectedElements.length > 1 && (\n              <>\n                <tr>\n                  <th colSpan={2}>{t(\"stats.selected\")}</th>\n                </tr>\n                <tr>\n                  <td>{t(\"stats.elements\")}</td>\n                  <td>{selectedElements.length}</td>\n                </tr>\n              </>\n            )}\n            {selectedElements.length > 0 && (\n              <>\n                <tr>\n                  <td>{\"x\"}</td>\n                  <td>{Math.round(selectedBoundingBox[0])}</td>\n                </tr>\n                <tr>\n                  <td>{\"y\"}</td>\n                  <td>{Math.round(selectedBoundingBox[1])}</td>\n                </tr>\n                <tr>\n                  <td>{t(\"stats.width\")}</td>\n                  <td>\n                    {Math.round(\n                      selectedBoundingBox[2] - selectedBoundingBox[0],\n                    )}\n                  </td>\n                </tr>\n                <tr>\n                  <td>{t(\"stats.height\")}</td>\n                  <td>\n                    {Math.round(\n                      selectedBoundingBox[3] - selectedBoundingBox[1],\n                    )}\n                  </td>\n                </tr>\n              </>\n            )}\n            {selectedElements.length === 1 && (\n              <tr>\n                <td>{t(\"stats.angle\")}</td>\n                <td>\n                  {`${Math.round(\n                    (selectedElements[0].angle * 180) / Math.PI,\n                  )}Â°`}\n                </td>\n              </tr>\n            )}\n            {props.renderCustomStats?.(props.elements, props.appState)}\n          </tbody>\n        </table>\n      </Island>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}