{"ast":null,"code":"import _classCallCheck from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/createClass.js\";export var Locker=/*#__PURE__*/function(){function Locker(){var _this=this;_classCallCheck(this,Locker);this.locks=new Map();this.lock=function(lockType){_this.locks.set(lockType,true);};/** @returns whether no locks remaining */this.unlock=function(lockType){_this.locks.delete(lockType);return!_this.isLocked();};}_createClass(Locker,[{key:\"isLocked\",value:/** @returns whether some (or specific) locks are present */function isLocked(lockType){return lockType?this.locks.has(lockType):!!this.locks.size;}}]);return Locker;}();","map":{"version":3,"names":["Locker","_this","_classCallCheck","locks","Map","lock","lockType","set","unlock","delete","isLocked","_createClass","key","value","has","size"],"sources":["D:/project/excalidraw-cn/src/excalidraw-app/data/Locker.ts"],"sourcesContent":["export class Locker<T extends string> {\n  private locks = new Map<T, true>();\n\n  lock = (lockType: T) => {\n    this.locks.set(lockType, true);\n  };\n\n  /** @returns whether no locks remaining */\n  unlock = (lockType: T) => {\n    this.locks.delete(lockType);\n    return !this.isLocked();\n  };\n\n  /** @returns whether some (or specific) locks are present */\n  isLocked(lockType?: T) {\n    return lockType ? this.locks.has(lockType) : !!this.locks.size;\n  }\n}\n"],"mappings":"0NAAA,UAAa,CAAAA,MAAM,kCAAAA,OAAA,MAAAC,KAAA,MAAAC,eAAA,MAAAF,MAAA,OACTG,KAAK,CAAG,GAAI,CAAAC,GAAG,EAAW,MAElCC,IAAI,CAAG,SAACC,QAAW,CAAK,CACtBL,KAAI,CAACE,KAAK,CAACI,GAAG,CAACD,QAAQ,CAAE,IAAI,CAAC,CAChC,CAAC,CAED,+CACAE,MAAM,CAAG,SAACF,QAAW,CAAK,CACxBL,KAAI,CAACE,KAAK,CAACM,MAAM,CAACH,QAAQ,CAAC,CAC3B,MAAO,CAACL,KAAI,CAACS,QAAQ,EAAE,CACzB,CAAC,EAAAC,YAAA,CAAAX,MAAA,GAAAY,GAAA,YAAAC,KAAA,CAED,4DACA,SAAAH,SAASJ,QAAY,CAAE,CACrB,MAAO,CAAAA,QAAQ,CAAG,IAAI,CAACH,KAAK,CAACW,GAAG,CAACR,QAAQ,CAAC,CAAG,CAAC,CAAC,IAAI,CAACH,KAAK,CAACY,IAAI,CAChE,CAAC,WAAAf,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}