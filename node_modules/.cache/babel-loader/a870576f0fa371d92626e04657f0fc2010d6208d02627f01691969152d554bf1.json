{"ast":null,"code":"import _regeneratorRuntime from \"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar e = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_e) {\n    var t,\n      a,\n      i,\n      n,\n      s,\n      c,\n      r,\n      l,\n      _t,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          t = _args.length > 1 && _args[1] !== undefined ? _args[1] : [{}];\n          a = _args.length > 2 && _args[2] !== undefined ? _args[2] : null;\n          i = _args.length > 3 && _args[3] !== undefined ? _args[3] : !1;\n          n = _args.length > 4 && _args[4] !== undefined ? _args[4] : null;\n          Array.isArray(t) || (t = [t]), t[0].fileName = t[0].fileName || \"Untitled\";\n          s = [];\n          c = null;\n          if (!(_e instanceof Blob && _e.type ? c = _e.type : _e.headers && _e.headers.get(\"content-type\") && (c = _e.headers.get(\"content-type\")), t.forEach(function (e, t) {\n            s[t] = {\n              description: e.description || \"\",\n              accept: {}\n            }, e.mimeTypes ? (0 === t && c && e.mimeTypes.push(c), e.mimeTypes.map(function (a) {\n              s[t].accept[a] = e.extensions || [];\n            })) : c && (s[t].accept[c] = e.extensions || []);\n          }), a)) {\n            _context.next = 17;\n            break;\n          }\n          _context.prev = 8;\n          _context.next = 11;\n          return a.getFile();\n        case 11:\n          _context.next = 17;\n          break;\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](8);\n          if (!(a = null, i)) {\n            _context.next = 17;\n            break;\n          }\n          throw _context.t0;\n        case 17:\n          _context.t1 = a;\n          if (_context.t1) {\n            _context.next = 22;\n            break;\n          }\n          _context.next = 21;\n          return window.showSaveFilePicker({\n            suggestedName: t[0].fileName,\n            id: t[0].id,\n            startIn: t[0].startIn,\n            types: s,\n            excludeAcceptAllOption: t[0].excludeAcceptAllOption || !1\n          });\n        case 21:\n          _context.t1 = _context.sent;\n        case 22:\n          r = _context.t1;\n          !a && n && n();\n          _context.next = 26;\n          return r.createWritable();\n        case 26:\n          l = _context.sent;\n          if (!(\"stream\" in _e)) {\n            _context.next = 32;\n            break;\n          }\n          _t = _e.stream();\n          _context.next = 31;\n          return _t.pipeTo(l);\n        case 31:\n          return _context.abrupt(\"return\", r);\n        case 32:\n          if (!(\"body\" in _e)) {\n            _context.next = 38;\n            break;\n          }\n          _context.next = 35;\n          return _e.body.pipeTo(l);\n        case 35:\n          _context.t2 = r;\n          _context.next = 47;\n          break;\n        case 38:\n          _context.t3 = l;\n          _context.next = 41;\n          return _e;\n        case 41:\n          _context.t4 = _context.sent;\n          _context.next = 44;\n          return _context.t3.write.call(_context.t3, _context.t4);\n        case 44:\n          _context.next = 46;\n          return l.close();\n        case 46:\n          _context.t2 = r;\n        case 47:\n          return _context.abrupt(\"return\", _context.t2);\n        case 48:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[8, 13]]);\n  }));\n  return function e(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport { e as default };","map":{"version":3,"names":["e","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","t","a","i","n","s","c","r","l","_t","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","Array","isArray","fileName","Blob","type","headers","get","forEach","description","accept","mimeTypes","push","map","extensions","getFile","t0","t1","window","showSaveFilePicker","suggestedName","id","startIn","types","excludeAcceptAllOption","sent","createWritable","stream","pipeTo","abrupt","body","t2","t3","t4","write","call","close","stop","_x","apply","default"],"sources":["D:/project/excalidraw-cn/node_modules/browser-fs-access/dist/file-save-745eba88.js"],"sourcesContent":["var e=async(e,t=[{}],a=null,i=!1,n=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||\"Untitled\";const s=[];let c=null;if(e instanceof Blob&&e.type?c=e.type:e.headers&&e.headers.get(\"content-type\")&&(c=e.headers.get(\"content-type\")),t.forEach((e,t)=>{s[t]={description:e.description||\"\",accept:{}},e.mimeTypes?(0===t&&c&&e.mimeTypes.push(c),e.mimeTypes.map(a=>{s[t].accept[a]=e.extensions||[]})):c&&(s[t].accept[c]=e.extensions||[])}),a)try{await a.getFile()}catch(e){if(a=null,i)throw e}const r=a||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:s,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!a&&n&&n();const l=await r.createWritable();if(\"stream\"in e){const t=e.stream();return await t.pipeTo(l),r}return\"body\"in e?(await e.body.pipeTo(l),r):(await l.write(await e),await l.close(),r)};export{e as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}