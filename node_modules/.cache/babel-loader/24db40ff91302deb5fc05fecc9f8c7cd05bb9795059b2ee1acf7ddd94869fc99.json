{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\excalidraw-cn\\\\src\\\\components\\\\dropdownMenu\\\\DropdownMenuContent.tsx\";\nimport { Island } from \"../Island\";\nimport { useDevice } from \"../App\";\nimport clsx from \"clsx\";\nimport Stack from \"../Stack\";\nimport React, { useRef } from \"react\";\nimport { DropdownMenuContentPropsContext } from \"./common\";\nimport { useOutsideClick } from \"../../hooks/useOutsideClick\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MenuContent = _ref => {\n  let {\n    children,\n    onClickOutside,\n    className = \"\",\n    onSelect,\n    style\n  } = _ref;\n  const device = useDevice();\n  const menuRef = useRef(null);\n  useOutsideClick(menuRef, () => {\n    onClickOutside === null || onClickOutside === void 0 ? void 0 : onClickOutside();\n  });\n  const classNames = clsx(`dropdown-menu ${className}`, {\n    \"dropdown-menu--mobile\": device.isMobile\n  }).trim();\n  return /*#__PURE__*/_jsxDEV(DropdownMenuContentPropsContext.Provider, {\n    value: {\n      onSelect\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: menuRef,\n      className: classNames,\n      style: style,\n      \"data-testid\": \"dropdown-menu\",\n      children: device.isMobile ? /*#__PURE__*/_jsxDEV(Stack.Col, {\n        className: \"dropdown-menu-container\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Island, {\n        className: \"dropdown-menu-container\",\n        padding: 2,\n        style: {\n          zIndex: 2\n        },\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\nMenuContent.displayName = \"DropdownMenuContent\";\nexport default MenuContent;","map":{"version":3,"names":["Island","useDevice","clsx","Stack","React","useRef","DropdownMenuContentPropsContext","useOutsideClick","jsxDEV","_jsxDEV","MenuContent","_ref","children","onClickOutside","className","onSelect","style","device","menuRef","classNames","isMobile","trim","Provider","value","ref","Col","fileName","_jsxFileName","lineNumber","columnNumber","padding","zIndex","displayName"],"sources":["D:/project/excalidraw-cn/src/components/dropdownMenu/DropdownMenuContent.tsx"],"sourcesContent":["import { Island } from \"../Island\";\nimport { useDevice } from \"../App\";\nimport clsx from \"clsx\";\nimport Stack from \"../Stack\";\nimport React, { useRef } from \"react\";\nimport { DropdownMenuContentPropsContext } from \"./common\";\nimport { useOutsideClick } from \"../../hooks/useOutsideClick\";\n\nconst MenuContent = ({\n  children,\n  onClickOutside,\n  className = \"\",\n  onSelect,\n  style,\n}: {\n  children?: React.ReactNode;\n  onClickOutside?: () => void;\n  className?: string;\n  /**\n   * Called when any menu item is selected (clicked on).\n   */\n  onSelect?: (event: Event) => void;\n  style?: React.CSSProperties;\n}) => {\n  const device = useDevice();\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useOutsideClick(menuRef, () => {\n    onClickOutside?.();\n  });\n\n  const classNames = clsx(`dropdown-menu ${className}`, {\n    \"dropdown-menu--mobile\": device.isMobile,\n  }).trim();\n\n  return (\n    <DropdownMenuContentPropsContext.Provider value={{ onSelect }}>\n      <div\n        ref={menuRef}\n        className={classNames}\n        style={style}\n        data-testid=\"dropdown-menu\"\n      >\n        {/* the zIndex ensures this menu has higher stacking order,\n    see https://github.com/excalidraw/excalidraw/pull/1445 */}\n        {device.isMobile ? (\n          <Stack.Col className=\"dropdown-menu-container\">{children}</Stack.Col>\n        ) : (\n          <Island\n            className=\"dropdown-menu-container\"\n            padding={2}\n            style={{ zIndex: 2 }}\n          >\n            {children}\n          </Island>\n        )}\n      </div>\n    </DropdownMenuContentPropsContext.Provider>\n  );\n};\nMenuContent.displayName = \"DropdownMenuContent\";\n\nexport default MenuContent;\n"],"mappings":";AAAA,SAASA,MAAM,QAAQ,WAAW;AAClC,SAASC,SAAS,QAAQ,QAAQ;AAClC,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,MAAM,UAAU;AAC5B,OAAOC,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,+BAA+B,QAAQ,UAAU;AAC1D,SAASC,eAAe,QAAQ,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,WAAW,GAAGC,IAAA,IAed;EAAA,IAfe;IACnBC,QAAQ;IACRC,cAAc;IACdC,SAAS,GAAG,EAAE;IACdC,QAAQ;IACRC;EAUF,CAAC,GAAAL,IAAA;EACC,MAAMM,MAAM,GAAGhB,SAAS,EAAE;EAC1B,MAAMiB,OAAO,GAAGb,MAAM,CAAiB,IAAI,CAAC;EAE5CE,eAAe,CAACW,OAAO,EAAE,MAAM;IAC7BL,cAAc,aAAdA,cAAc,uBAAdA,cAAc,EAAI;EACpB,CAAC,CAAC;EAEF,MAAMM,UAAU,GAAGjB,IAAI,CAAE,iBAAgBY,SAAU,EAAC,EAAE;IACpD,uBAAuB,EAAEG,MAAM,CAACG;EAClC,CAAC,CAAC,CAACC,IAAI,EAAE;EAET,oBACEZ,OAAA,CAACH,+BAA+B,CAACgB,QAAQ;IAACC,KAAK,EAAE;MAAER;IAAS,CAAE;IAAAH,QAAA,eAC5DH,OAAA;MACEe,GAAG,EAAEN,OAAQ;MACbJ,SAAS,EAAEK,UAAW;MACtBH,KAAK,EAAEA,KAAM;MACb,eAAY,eAAe;MAAAJ,QAAA,EAI1BK,MAAM,CAACG,QAAQ,gBACdX,OAAA,CAACN,KAAK,CAACsB,GAAG;QAACX,SAAS,EAAC,yBAAyB;QAAAF,QAAA,EAAEA;MAAQ;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAa,gBAErEpB,OAAA,CAACT,MAAM;QACLc,SAAS,EAAC,yBAAyB;QACnCgB,OAAO,EAAE,CAAE;QACXd,KAAK,EAAE;UAAEe,MAAM,EAAE;QAAE,CAAE;QAAAnB,QAAA,EAEpBA;MAAQ;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAEZ;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACG;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACmC;AAE/C,CAAC;AACDnB,WAAW,CAACsB,WAAW,GAAG,qBAAqB;AAE/C,eAAetB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}