{"ast":null,"code":"var e = async function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [{}];\n  let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n  let n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n  Array.isArray(t) || (t = [t]), t[0].fileName = t[0].fileName || \"Untitled\";\n  const s = [];\n  let c = null;\n  if (e instanceof Blob && e.type ? c = e.type : e.headers && e.headers.get(\"content-type\") && (c = e.headers.get(\"content-type\")), t.forEach((e, t) => {\n    s[t] = {\n      description: e.description || \"\",\n      accept: {}\n    }, e.mimeTypes ? (0 === t && c && e.mimeTypes.push(c), e.mimeTypes.map(a => {\n      s[t].accept[a] = e.extensions || [];\n    })) : c && (s[t].accept[c] = e.extensions || []);\n  }), a) try {\n    await a.getFile();\n  } catch (e) {\n    if (a = null, i) throw e;\n  }\n  const r = a || (await window.showSaveFilePicker({\n    suggestedName: t[0].fileName,\n    id: t[0].id,\n    startIn: t[0].startIn,\n    types: s,\n    excludeAcceptAllOption: t[0].excludeAcceptAllOption || !1\n  }));\n  !a && n && n();\n  const l = await r.createWritable();\n  if (\"stream\" in e) {\n    const t = e.stream();\n    return await t.pipeTo(l), r;\n  }\n  return \"body\" in e ? (await e.body.pipeTo(l), r) : (await l.write(await e), await l.close(), r);\n};\nexport { e as default };","map":{"version":3,"names":["e","t","arguments","length","undefined","a","i","n","Array","isArray","fileName","s","c","Blob","type","headers","get","forEach","description","accept","mimeTypes","push","map","extensions","getFile","r","window","showSaveFilePicker","suggestedName","id","startIn","types","excludeAcceptAllOption","l","createWritable","stream","pipeTo","body","write","close","default"],"sources":["D:/project/excalidraw-cn/node_modules/browser-fs-access/dist/file-save-745eba88.js"],"sourcesContent":["var e=async(e,t=[{}],a=null,i=!1,n=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||\"Untitled\";const s=[];let c=null;if(e instanceof Blob&&e.type?c=e.type:e.headers&&e.headers.get(\"content-type\")&&(c=e.headers.get(\"content-type\")),t.forEach((e,t)=>{s[t]={description:e.description||\"\",accept:{}},e.mimeTypes?(0===t&&c&&e.mimeTypes.push(c),e.mimeTypes.map(a=>{s[t].accept[a]=e.extensions||[]})):c&&(s[t].accept[c]=e.extensions||[])}),a)try{await a.getFile()}catch(e){if(a=null,i)throw e}const r=a||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:s,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!a&&n&&n();const l=await r.createWritable();if(\"stream\"in e){const t=e.stream();return await t.pipeTo(l),r}return\"body\"in e?(await e.body.pipeTo(l),r):(await l.write(await e),await l.close(),r)};export{e as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}