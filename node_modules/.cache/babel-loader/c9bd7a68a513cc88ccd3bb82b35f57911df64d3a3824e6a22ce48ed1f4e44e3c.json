{"ast":null,"code":"import * as Sentry from \"@sentry/browser\";\nimport * as SentryIntegrations from \"@sentry/integrations\";\nconst SentryEnvHostnameMap = {\n  \"excalidraw.com\": \"production\",\n  \"vercel.app\": \"staging\"\n};\nconst REACT_APP_DISABLE_SENTRY = process.env.REACT_APP_DISABLE_SENTRY === \"true\";\n\n// Disable Sentry locally or inside the Docker to avoid noise/respect privacy\nconst onlineEnv = !REACT_APP_DISABLE_SENTRY && Object.keys(SentryEnvHostnameMap).find(item => window.location.hostname.indexOf(item) >= 0);\nSentry.init({\n  dsn: onlineEnv ? \"https://7bfc596a5bf945eda6b660d3015a5460@sentry.io/5179260\" : undefined,\n  environment: onlineEnv ? SentryEnvHostnameMap[onlineEnv] : undefined,\n  release: process.env.REACT_APP_GIT_SHA,\n  ignoreErrors: [\"undefined is not an object (evaluating 'window.__pad.performLoop')\" // Only happens on Safari, but spams our servers. Doesn't break anything\n  ],\n\n  integrations: [new SentryIntegrations.CaptureConsole({\n    levels: [\"error\"]\n  })],\n  beforeSend(event) {\n    var _event$request;\n    if ((_event$request = event.request) !== null && _event$request !== void 0 && _event$request.url) {\n      event.request.url = event.request.url.replace(/#.*$/, \"\");\n    }\n    return event;\n  }\n});","map":{"version":3,"names":["Sentry","SentryIntegrations","SentryEnvHostnameMap","REACT_APP_DISABLE_SENTRY","process","env","onlineEnv","Object","keys","find","item","window","location","hostname","indexOf","init","dsn","undefined","environment","release","REACT_APP_GIT_SHA","ignoreErrors","integrations","CaptureConsole","levels","beforeSend","event","_event$request","request","url","replace"],"sources":["D:/project/excalidraw-cn/src/excalidraw-app/sentry.ts"],"sourcesContent":["import * as Sentry from \"@sentry/browser\";\nimport * as SentryIntegrations from \"@sentry/integrations\";\n\nconst SentryEnvHostnameMap: { [key: string]: string } = {\n  \"excalidraw.com\": \"production\",\n  \"vercel.app\": \"staging\",\n};\n\nconst REACT_APP_DISABLE_SENTRY =\n  process.env.REACT_APP_DISABLE_SENTRY === \"true\";\n\n// Disable Sentry locally or inside the Docker to avoid noise/respect privacy\nconst onlineEnv =\n  !REACT_APP_DISABLE_SENTRY &&\n  Object.keys(SentryEnvHostnameMap).find(\n    (item) => window.location.hostname.indexOf(item) >= 0,\n  );\n\nSentry.init({\n  dsn: onlineEnv\n    ? \"https://7bfc596a5bf945eda6b660d3015a5460@sentry.io/5179260\"\n    : undefined,\n  environment: onlineEnv ? SentryEnvHostnameMap[onlineEnv] : undefined,\n  release: process.env.REACT_APP_GIT_SHA,\n  ignoreErrors: [\n    \"undefined is not an object (evaluating 'window.__pad.performLoop')\", // Only happens on Safari, but spams our servers. Doesn't break anything\n  ],\n  integrations: [\n    new SentryIntegrations.CaptureConsole({\n      levels: [\"error\"],\n    }),\n  ],\n  beforeSend(event) {\n    if (event.request?.url) {\n      event.request.url = event.request.url.replace(/#.*$/, \"\");\n    }\n    return event;\n  },\n});\n"],"mappings":"AAAA,OAAO,KAAKA,MAAM,MAAM,iBAAiB;AACzC,OAAO,KAAKC,kBAAkB,MAAM,sBAAsB;AAE1D,MAAMC,oBAA+C,GAAG;EACtD,gBAAgB,EAAE,YAAY;EAC9B,YAAY,EAAE;AAChB,CAAC;AAED,MAAMC,wBAAwB,GAC5BC,OAAO,CAACC,GAAG,CAACF,wBAAwB,KAAK,MAAM;;AAEjD;AACA,MAAMG,SAAS,GACb,CAACH,wBAAwB,IACzBI,MAAM,CAACC,IAAI,CAACN,oBAAoB,CAAC,CAACO,IAAI,CACnCC,IAAI,IAAKC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,OAAO,CAACJ,IAAI,CAAC,IAAI,CAAC,CACtD;AAEHV,MAAM,CAACe,IAAI,CAAC;EACVC,GAAG,EAAEV,SAAS,GACV,4DAA4D,GAC5DW,SAAS;EACbC,WAAW,EAAEZ,SAAS,GAAGJ,oBAAoB,CAACI,SAAS,CAAC,GAAGW,SAAS;EACpEE,OAAO,EAAEf,OAAO,CAACC,GAAG,CAACe,iBAAiB;EACtCC,YAAY,EAAE,CACZ,oEAAoE,CAAE;EAAA,CACvE;;EACDC,YAAY,EAAE,CACZ,IAAIrB,kBAAkB,CAACsB,cAAc,CAAC;IACpCC,MAAM,EAAE,CAAC,OAAO;EAClB,CAAC,CAAC,CACH;EACDC,UAAUA,CAACC,KAAK,EAAE;IAAA,IAAAC,cAAA;IAChB,KAAAA,cAAA,GAAID,KAAK,CAACE,OAAO,cAAAD,cAAA,eAAbA,cAAA,CAAeE,GAAG,EAAE;MACtBH,KAAK,CAACE,OAAO,CAACC,GAAG,GAAGH,KAAK,CAACE,OAAO,CAACC,GAAG,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;IAC3D;IACA,OAAOJ,KAAK;EACd;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}