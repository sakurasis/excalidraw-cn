{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\excalidraw-cn\\\\src\\\\components\\\\LibraryMenuItems.tsx\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { serializeLibraryAsJSON } from \"../data/json\";\nimport { t } from \"../i18n\";\nimport { arrayToMap } from \"../utils\";\nimport Stack from \"./Stack\";\nimport { MIME_TYPES } from \"../constants\";\nimport Spinner from \"./Spinner\";\nimport { duplicateElements } from \"../element/newElement\";\nimport { LibraryMenuControlButtons } from \"./LibraryMenuControlButtons\";\nimport { LibraryDropdownMenu } from \"./LibraryMenuHeaderContent\";\nimport { LibraryMenuSection, LibraryMenuSectionGrid } from \"./LibraryMenuSection\";\nimport { useScrollPosition } from \"../hooks/useScrollPosition\";\nimport { useLibraryCache } from \"../hooks/useLibraryItemSvg\";\nimport \"./LibraryMenuItems.scss\";\n\n// using an odd number of items per batch so the rendering creates an irregular\n// pattern which looks more organic\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ITEMS_RENDERED_PER_BATCH = 17;\n// when render outputs cached we can render many more items per batch to\n// speed it up\nconst CACHED_ITEMS_RENDERED_PER_BATCH = 64;\nexport default function LibraryMenuItems(_ref) {\n  let {\n    isLoading,\n    libraryItems,\n    onAddToLibrary,\n    onInsertLibraryItems,\n    pendingElements,\n    theme,\n    id,\n    libraryReturnUrl,\n    onSelectItems,\n    selectedItems\n  } = _ref;\n  const libraryContainerRef = useRef(null);\n  const scrollPosition = useScrollPosition(libraryContainerRef);\n\n  // This effect has to be called only on first render, therefore  `scrollPosition` isn't in the dependency array\n  useEffect(() => {\n    if (scrollPosition > 0) {\n      var _libraryContainerRef$;\n      (_libraryContainerRef$ = libraryContainerRef.current) === null || _libraryContainerRef$ === void 0 ? void 0 : _libraryContainerRef$.scrollTo(0, scrollPosition);\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const {\n    svgCache\n  } = useLibraryCache();\n  const unpublishedItems = useMemo(() => libraryItems.filter(item => item.status !== \"published\"), [libraryItems]);\n  const publishedItems = useMemo(() => libraryItems.filter(item => item.status === \"published\"), [libraryItems]);\n  const showBtn = !libraryItems.length && !pendingElements.length;\n  const isLibraryEmpty = !pendingElements.length && !unpublishedItems.length && !publishedItems.length;\n  const [lastSelectedItem, setLastSelectedItem] = useState(null);\n  const onItemSelectToggle = useCallback((id, event) => {\n    const shouldSelect = !selectedItems.includes(id);\n    const orderedItems = [...unpublishedItems, ...publishedItems];\n    if (shouldSelect) {\n      if (event.shiftKey && lastSelectedItem) {\n        const rangeStart = orderedItems.findIndex(item => item.id === lastSelectedItem);\n        const rangeEnd = orderedItems.findIndex(item => item.id === id);\n        if (rangeStart === -1 || rangeEnd === -1) {\n          onSelectItems([...selectedItems, id]);\n          return;\n        }\n        const selectedItemsMap = arrayToMap(selectedItems);\n        const nextSelectedIds = orderedItems.reduce((acc, item, idx) => {\n          if (idx >= rangeStart && idx <= rangeEnd || selectedItemsMap.has(item.id)) {\n            acc.push(item.id);\n          }\n          return acc;\n        }, []);\n        onSelectItems(nextSelectedIds);\n      } else {\n        onSelectItems([...selectedItems, id]);\n      }\n      setLastSelectedItem(id);\n    } else {\n      setLastSelectedItem(null);\n      onSelectItems(selectedItems.filter(_id => _id !== id));\n    }\n  }, [lastSelectedItem, onSelectItems, publishedItems, selectedItems, unpublishedItems]);\n  const getInsertedElements = useCallback(id => {\n    let targetElements;\n    if (selectedItems.includes(id)) {\n      targetElements = libraryItems.filter(item => selectedItems.includes(item.id));\n    } else {\n      targetElements = libraryItems.filter(item => item.id === id);\n    }\n    return targetElements.map(item => {\n      return {\n        ...item,\n        // duplicate each library item before inserting on canvas to confine\n        // ids and bindings to each library item. See #6465\n        elements: duplicateElements(item.elements, {\n          randomizeSeed: true\n        })\n      };\n    });\n  }, [libraryItems, selectedItems]);\n  const onItemDrag = useCallback((id, event) => {\n    event.dataTransfer.setData(MIME_TYPES.excalidrawlib, serializeLibraryAsJSON(getInsertedElements(id)));\n  }, [getInsertedElements]);\n  const isItemSelected = useCallback(id => {\n    if (!id) {\n      return false;\n    }\n    return selectedItems.includes(id);\n  }, [selectedItems]);\n  const onAddToLibraryClick = useCallback(() => {\n    onAddToLibrary(pendingElements);\n  }, [pendingElements, onAddToLibrary]);\n  const onItemClick = useCallback(id => {\n    if (id) {\n      onInsertLibraryItems(getInsertedElements(id));\n    }\n  }, [getInsertedElements, onInsertLibraryItems]);\n  const itemsRenderedPerBatch = svgCache.size >= libraryItems.length ? CACHED_ITEMS_RENDERED_PER_BATCH : ITEMS_RENDERED_PER_BATCH;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"library-menu-items-container\",\n    style: pendingElements.length || unpublishedItems.length || publishedItems.length ? {\n      justifyContent: \"flex-start\"\n    } : {\n      borderBottom: 0\n    },\n    children: [!isLibraryEmpty && /*#__PURE__*/_jsxDEV(LibraryDropdownMenu, {\n      selectedItems: selectedItems,\n      onSelectItems: onSelectItems,\n      className: \"library-menu-dropdown-container--in-heading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Stack.Col, {\n      className: \"library-menu-items-container__items\",\n      align: \"start\",\n      gap: 1,\n      style: {\n        flex: publishedItems.length > 0 ? 1 : \"0 1 auto\",\n        marginBottom: 0\n      },\n      ref: libraryContainerRef,\n      children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [!isLibraryEmpty && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"library-menu-items-container__header\",\n          children: t(\"labels.personalLib\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: \"var(--container-padding-y)\",\n            right: \"var(--container-padding-x)\",\n            transform: \"translateY(50%)\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), !pendingElements.length && !unpublishedItems.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"library-menu-items__no-items\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"library-menu-items__no-items__label\",\n            children: t(\"library.noItems\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"library-menu-items__no-items__hint\",\n            children: publishedItems.length > 0 ? t(\"library.hint_emptyPrivateLibrary\") : t(\"library.hint_emptyLibrary\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(LibraryMenuSectionGrid, {\n          children: [pendingElements.length > 0 && /*#__PURE__*/_jsxDEV(LibraryMenuSection, {\n            itemsRenderedPerBatch: itemsRenderedPerBatch,\n            items: [{\n              id: null,\n              elements: pendingElements\n            }],\n            onItemSelectToggle: onItemSelectToggle,\n            onItemDrag: onItemDrag,\n            onClick: onAddToLibraryClick,\n            isItemSelected: isItemSelected,\n            svgCache: svgCache\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(LibraryMenuSection, {\n            itemsRenderedPerBatch: itemsRenderedPerBatch,\n            items: unpublishedItems,\n            onItemSelectToggle: onItemSelectToggle,\n            onItemDrag: onItemDrag,\n            onClick: onItemClick,\n            isItemSelected: isItemSelected,\n            svgCache: svgCache\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [(publishedItems.length > 0 || pendingElements.length > 0 || unpublishedItems.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"library-menu-items-container__header library-menu-items-container__header--excal\",\n          children: t(\"labels.excalidrawLib\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this), publishedItems.length > 0 ? /*#__PURE__*/_jsxDEV(LibraryMenuSectionGrid, {\n          children: /*#__PURE__*/_jsxDEV(LibraryMenuSection, {\n            itemsRenderedPerBatch: itemsRenderedPerBatch,\n            items: publishedItems,\n            onItemSelectToggle: onItemSelectToggle,\n            onItemDrag: onItemDrag,\n            onClick: onItemClick,\n            isItemSelected: isItemSelected,\n            svgCache: svgCache\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this) : unpublishedItems.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"1rem 0\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            width: \"100%\",\n            fontSize: \".9rem\"\n          },\n          children: t(\"library.noItems\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true), showBtn && /*#__PURE__*/_jsxDEV(LibraryMenuControlButtons, {\n        style: {\n          padding: \"16px 0\",\n          width: \"100%\"\n        },\n        id: id,\n        libraryReturnUrl: libraryReturnUrl,\n        theme: theme,\n        children: /*#__PURE__*/_jsxDEV(LibraryDropdownMenu, {\n          selectedItems: selectedItems,\n          onSelectItems: onSelectItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","serializeLibraryAsJSON","t","arrayToMap","Stack","MIME_TYPES","Spinner","duplicateElements","LibraryMenuControlButtons","LibraryDropdownMenu","LibraryMenuSection","LibraryMenuSectionGrid","useScrollPosition","useLibraryCache","jsxDEV","_jsxDEV","Fragment","_Fragment","ITEMS_RENDERED_PER_BATCH","CACHED_ITEMS_RENDERED_PER_BATCH","LibraryMenuItems","_ref","isLoading","libraryItems","onAddToLibrary","onInsertLibraryItems","pendingElements","theme","id","libraryReturnUrl","onSelectItems","selectedItems","libraryContainerRef","scrollPosition","_libraryContainerRef$","current","scrollTo","svgCache","unpublishedItems","filter","item","status","publishedItems","showBtn","length","isLibraryEmpty","lastSelectedItem","setLastSelectedItem","onItemSelectToggle","event","shouldSelect","includes","orderedItems","shiftKey","rangeStart","findIndex","rangeEnd","selectedItemsMap","nextSelectedIds","reduce","acc","idx","has","push","_id","getInsertedElements","targetElements","map","elements","randomizeSeed","onItemDrag","dataTransfer","setData","excalidrawlib","isItemSelected","onAddToLibraryClick","onItemClick","itemsRenderedPerBatch","size","className","style","justifyContent","borderBottom","children","fileName","_jsxFileName","lineNumber","columnNumber","Col","align","gap","flex","marginBottom","ref","position","top","right","transform","items","onClick","margin","display","flexDirection","alignItems","width","fontSize","padding"],"sources":["D:/project/excalidraw-cn/src/components/LibraryMenuItems.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { serializeLibraryAsJSON } from \"../data/json\";\nimport { t } from \"../i18n\";\nimport {\n  ExcalidrawProps,\n  LibraryItem,\n  LibraryItems,\n  UIAppState,\n} from \"../types\";\nimport { arrayToMap } from \"../utils\";\nimport Stack from \"./Stack\";\nimport { MIME_TYPES } from \"../constants\";\nimport Spinner from \"./Spinner\";\nimport { duplicateElements } from \"../element/newElement\";\nimport { LibraryMenuControlButtons } from \"./LibraryMenuControlButtons\";\nimport { LibraryDropdownMenu } from \"./LibraryMenuHeaderContent\";\nimport {\n  LibraryMenuSection,\n  LibraryMenuSectionGrid,\n} from \"./LibraryMenuSection\";\nimport { useScrollPosition } from \"../hooks/useScrollPosition\";\nimport { useLibraryCache } from \"../hooks/useLibraryItemSvg\";\n\nimport \"./LibraryMenuItems.scss\";\n\n// using an odd number of items per batch so the rendering creates an irregular\n// pattern which looks more organic\nconst ITEMS_RENDERED_PER_BATCH = 17;\n// when render outputs cached we can render many more items per batch to\n// speed it up\nconst CACHED_ITEMS_RENDERED_PER_BATCH = 64;\n\nexport default function LibraryMenuItems({\n  isLoading,\n  libraryItems,\n  onAddToLibrary,\n  onInsertLibraryItems,\n  pendingElements,\n  theme,\n  id,\n  libraryReturnUrl,\n  onSelectItems,\n  selectedItems,\n}: {\n  isLoading: boolean;\n  libraryItems: LibraryItems;\n  pendingElements: LibraryItem[\"elements\"];\n  onInsertLibraryItems: (libraryItems: LibraryItems) => void;\n  onAddToLibrary: (elements: LibraryItem[\"elements\"]) => void;\n  libraryReturnUrl: ExcalidrawProps[\"libraryReturnUrl\"];\n  theme: UIAppState[\"theme\"];\n  id: string;\n  selectedItems: LibraryItem[\"id\"][];\n  onSelectItems: (id: LibraryItem[\"id\"][]) => void;\n}) {\n  const libraryContainerRef = useRef<HTMLDivElement>(null);\n  const scrollPosition = useScrollPosition<HTMLDivElement>(libraryContainerRef);\n\n  // This effect has to be called only on first render, therefore  `scrollPosition` isn't in the dependency array\n  useEffect(() => {\n    if (scrollPosition > 0) {\n      libraryContainerRef.current?.scrollTo(0, scrollPosition);\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const { svgCache } = useLibraryCache();\n  const unpublishedItems = useMemo(\n    () => libraryItems.filter((item) => item.status !== \"published\"),\n    [libraryItems],\n  );\n\n  const publishedItems = useMemo(\n    () => libraryItems.filter((item) => item.status === \"published\"),\n    [libraryItems],\n  );\n\n  const showBtn = !libraryItems.length && !pendingElements.length;\n\n  const isLibraryEmpty =\n    !pendingElements.length &&\n    !unpublishedItems.length &&\n    !publishedItems.length;\n\n  const [lastSelectedItem, setLastSelectedItem] = useState<\n    LibraryItem[\"id\"] | null\n  >(null);\n\n  const onItemSelectToggle = useCallback(\n    (id: LibraryItem[\"id\"], event: React.MouseEvent) => {\n      const shouldSelect = !selectedItems.includes(id);\n\n      const orderedItems = [...unpublishedItems, ...publishedItems];\n\n      if (shouldSelect) {\n        if (event.shiftKey && lastSelectedItem) {\n          const rangeStart = orderedItems.findIndex(\n            (item) => item.id === lastSelectedItem,\n          );\n          const rangeEnd = orderedItems.findIndex((item) => item.id === id);\n\n          if (rangeStart === -1 || rangeEnd === -1) {\n            onSelectItems([...selectedItems, id]);\n            return;\n          }\n\n          const selectedItemsMap = arrayToMap(selectedItems);\n          const nextSelectedIds = orderedItems.reduce(\n            (acc: LibraryItem[\"id\"][], item, idx) => {\n              if (\n                (idx >= rangeStart && idx <= rangeEnd) ||\n                selectedItemsMap.has(item.id)\n              ) {\n                acc.push(item.id);\n              }\n              return acc;\n            },\n            [],\n          );\n\n          onSelectItems(nextSelectedIds);\n        } else {\n          onSelectItems([...selectedItems, id]);\n        }\n        setLastSelectedItem(id);\n      } else {\n        setLastSelectedItem(null);\n        onSelectItems(selectedItems.filter((_id) => _id !== id));\n      }\n    },\n    [\n      lastSelectedItem,\n      onSelectItems,\n      publishedItems,\n      selectedItems,\n      unpublishedItems,\n    ],\n  );\n\n  const getInsertedElements = useCallback(\n    (id: string) => {\n      let targetElements;\n      if (selectedItems.includes(id)) {\n        targetElements = libraryItems.filter((item) =>\n          selectedItems.includes(item.id),\n        );\n      } else {\n        targetElements = libraryItems.filter((item) => item.id === id);\n      }\n      return targetElements.map((item) => {\n        return {\n          ...item,\n          // duplicate each library item before inserting on canvas to confine\n          // ids and bindings to each library item. See #6465\n          elements: duplicateElements(item.elements, { randomizeSeed: true }),\n        };\n      });\n    },\n    [libraryItems, selectedItems],\n  );\n\n  const onItemDrag = useCallback(\n    (id: LibraryItem[\"id\"], event: React.DragEvent) => {\n      event.dataTransfer.setData(\n        MIME_TYPES.excalidrawlib,\n        serializeLibraryAsJSON(getInsertedElements(id)),\n      );\n    },\n    [getInsertedElements],\n  );\n\n  const isItemSelected = useCallback(\n    (id: LibraryItem[\"id\"] | null) => {\n      if (!id) {\n        return false;\n      }\n\n      return selectedItems.includes(id);\n    },\n    [selectedItems],\n  );\n\n  const onAddToLibraryClick = useCallback(() => {\n    onAddToLibrary(pendingElements);\n  }, [pendingElements, onAddToLibrary]);\n\n  const onItemClick = useCallback(\n    (id: LibraryItem[\"id\"] | null) => {\n      if (id) {\n        onInsertLibraryItems(getInsertedElements(id));\n      }\n    },\n    [getInsertedElements, onInsertLibraryItems],\n  );\n\n  const itemsRenderedPerBatch =\n    svgCache.size >= libraryItems.length\n      ? CACHED_ITEMS_RENDERED_PER_BATCH\n      : ITEMS_RENDERED_PER_BATCH;\n\n  return (\n    <div\n      className=\"library-menu-items-container\"\n      style={\n        pendingElements.length ||\n        unpublishedItems.length ||\n        publishedItems.length\n          ? { justifyContent: \"flex-start\" }\n          : { borderBottom: 0 }\n      }\n    >\n      {!isLibraryEmpty && (\n        <LibraryDropdownMenu\n          selectedItems={selectedItems}\n          onSelectItems={onSelectItems}\n          className=\"library-menu-dropdown-container--in-heading\"\n        />\n      )}\n      <Stack.Col\n        className=\"library-menu-items-container__items\"\n        align=\"start\"\n        gap={1}\n        style={{\n          flex: publishedItems.length > 0 ? 1 : \"0 1 auto\",\n          marginBottom: 0,\n        }}\n        ref={libraryContainerRef}\n      >\n        <>\n          {!isLibraryEmpty && (\n            <div className=\"library-menu-items-container__header\">\n              {t(\"labels.personalLib\")}\n            </div>\n          )}\n          {isLoading && (\n            <div\n              style={{\n                position: \"absolute\",\n                top: \"var(--container-padding-y)\",\n                right: \"var(--container-padding-x)\",\n                transform: \"translateY(50%)\",\n              }}\n            >\n              <Spinner />\n            </div>\n          )}\n          {!pendingElements.length && !unpublishedItems.length ? (\n            <div className=\"library-menu-items__no-items\">\n              <div className=\"library-menu-items__no-items__label\">\n                {t(\"library.noItems\")}\n              </div>\n              <div className=\"library-menu-items__no-items__hint\">\n                {publishedItems.length > 0\n                  ? t(\"library.hint_emptyPrivateLibrary\")\n                  : t(\"library.hint_emptyLibrary\")}\n              </div>\n            </div>\n          ) : (\n            <LibraryMenuSectionGrid>\n              {pendingElements.length > 0 && (\n                <LibraryMenuSection\n                  itemsRenderedPerBatch={itemsRenderedPerBatch}\n                  items={[{ id: null, elements: pendingElements }]}\n                  onItemSelectToggle={onItemSelectToggle}\n                  onItemDrag={onItemDrag}\n                  onClick={onAddToLibraryClick}\n                  isItemSelected={isItemSelected}\n                  svgCache={svgCache}\n                />\n              )}\n              <LibraryMenuSection\n                itemsRenderedPerBatch={itemsRenderedPerBatch}\n                items={unpublishedItems}\n                onItemSelectToggle={onItemSelectToggle}\n                onItemDrag={onItemDrag}\n                onClick={onItemClick}\n                isItemSelected={isItemSelected}\n                svgCache={svgCache}\n              />\n            </LibraryMenuSectionGrid>\n          )}\n        </>\n\n        <>\n          {(publishedItems.length > 0 ||\n            pendingElements.length > 0 ||\n            unpublishedItems.length > 0) && (\n            <div className=\"library-menu-items-container__header library-menu-items-container__header--excal\">\n              {t(\"labels.excalidrawLib\")}\n            </div>\n          )}\n          {publishedItems.length > 0 ? (\n            <LibraryMenuSectionGrid>\n              <LibraryMenuSection\n                itemsRenderedPerBatch={itemsRenderedPerBatch}\n                items={publishedItems}\n                onItemSelectToggle={onItemSelectToggle}\n                onItemDrag={onItemDrag}\n                onClick={onItemClick}\n                isItemSelected={isItemSelected}\n                svgCache={svgCache}\n              />\n            </LibraryMenuSectionGrid>\n          ) : unpublishedItems.length > 0 ? (\n            <div\n              style={{\n                margin: \"1rem 0\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                width: \"100%\",\n                fontSize: \".9rem\",\n              }}\n            >\n              {t(\"library.noItems\")}\n            </div>\n          ) : null}\n        </>\n\n        {showBtn && (\n          <LibraryMenuControlButtons\n            style={{ padding: \"16px 0\", width: \"100%\" }}\n            id={id}\n            libraryReturnUrl={libraryReturnUrl}\n            theme={theme}\n          >\n            <LibraryDropdownMenu\n              selectedItems={selectedItems}\n              onSelectItems={onSelectItems}\n            />\n          </LibraryMenuControlButtons>\n        )}\n      </Stack.Col>\n    </div>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IACVC,WAAW,EACXC,SAAS,EACTC,OAAO,EACPC,MAAM,EACNC,QAAQ,QACH,OAAO;AACd,SAASC,sBAAsB,QAAQ,cAAc;AACrD,SAASC,CAAC,QAAQ,SAAS;AAO3B,SAASC,UAAU,QAAQ,UAAU;AACrC,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,iBAAiB,QAAQ,uBAAuB;AACzD,SAASC,yBAAyB,QAAQ,6BAA6B;AACvE,SAASC,mBAAmB,QAAQ,4BAA4B;AAChE,SACEC,kBAAkB,EAClBC,sBAAsB,QACjB,sBAAsB;AAC7B,SAASC,iBAAiB,QAAQ,4BAA4B;AAC9D,SAASC,eAAe,QAAQ,4BAA4B;AAE5D,OAAO,yBAAyB;;AAEhC;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,wBAAwB,GAAG,EAAE;AACnC;AACA;AACA,MAAMC,+BAA+B,GAAG,EAAE;AAE1C,eAAe,SAASC,gBAAgBA,CAAAC,IAAA,EAsBrC;EAAA,IAtBsC;IACvCC,SAAS;IACTC,YAAY;IACZC,cAAc;IACdC,oBAAoB;IACpBC,eAAe;IACfC,KAAK;IACLC,EAAE;IACFC,gBAAgB;IAChBC,aAAa;IACbC;EAYF,CAAC,GAAAV,IAAA;EACC,MAAMW,mBAAmB,GAAGjC,MAAM,CAAiB,IAAI,CAAC;EACxD,MAAMkC,cAAc,GAAGrB,iBAAiB,CAAiBoB,mBAAmB,CAAC;;EAE7E;EACAnC,SAAS,CAAC,MAAM;IACd,IAAIoC,cAAc,GAAG,CAAC,EAAE;MAAA,IAAAC,qBAAA;MACtB,CAAAA,qBAAA,GAAAF,mBAAmB,CAACG,OAAO,cAAAD,qBAAA,uBAA3BA,qBAAA,CAA6BE,QAAQ,CAAC,CAAC,EAAEH,cAAc,CAAC;IAC1D;EACF,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,MAAM;IAAEI;EAAS,CAAC,GAAGxB,eAAe,EAAE;EACtC,MAAMyB,gBAAgB,GAAGxC,OAAO,CAC9B,MAAMyB,YAAY,CAACgB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,MAAM,KAAK,WAAW,CAAC,EAChE,CAAClB,YAAY,CAAC,CACf;EAED,MAAMmB,cAAc,GAAG5C,OAAO,CAC5B,MAAMyB,YAAY,CAACgB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,MAAM,KAAK,WAAW,CAAC,EAChE,CAAClB,YAAY,CAAC,CACf;EAED,MAAMoB,OAAO,GAAG,CAACpB,YAAY,CAACqB,MAAM,IAAI,CAAClB,eAAe,CAACkB,MAAM;EAE/D,MAAMC,cAAc,GAClB,CAACnB,eAAe,CAACkB,MAAM,IACvB,CAACN,gBAAgB,CAACM,MAAM,IACxB,CAACF,cAAc,CAACE,MAAM;EAExB,MAAM,CAACE,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG/C,QAAQ,CAEtD,IAAI,CAAC;EAEP,MAAMgD,kBAAkB,GAAGpD,WAAW,CACpC,CAACgC,EAAqB,EAAEqB,KAAuB,KAAK;IAClD,MAAMC,YAAY,GAAG,CAACnB,aAAa,CAACoB,QAAQ,CAACvB,EAAE,CAAC;IAEhD,MAAMwB,YAAY,GAAG,CAAC,GAAGd,gBAAgB,EAAE,GAAGI,cAAc,CAAC;IAE7D,IAAIQ,YAAY,EAAE;MAChB,IAAID,KAAK,CAACI,QAAQ,IAAIP,gBAAgB,EAAE;QACtC,MAAMQ,UAAU,GAAGF,YAAY,CAACG,SAAS,CACtCf,IAAI,IAAKA,IAAI,CAACZ,EAAE,KAAKkB,gBAAgB,CACvC;QACD,MAAMU,QAAQ,GAAGJ,YAAY,CAACG,SAAS,CAAEf,IAAI,IAAKA,IAAI,CAACZ,EAAE,KAAKA,EAAE,CAAC;QAEjE,IAAI0B,UAAU,KAAK,CAAC,CAAC,IAAIE,QAAQ,KAAK,CAAC,CAAC,EAAE;UACxC1B,aAAa,CAAC,CAAC,GAAGC,aAAa,EAAEH,EAAE,CAAC,CAAC;UACrC;QACF;QAEA,MAAM6B,gBAAgB,GAAGtD,UAAU,CAAC4B,aAAa,CAAC;QAClD,MAAM2B,eAAe,GAAGN,YAAY,CAACO,MAAM,CACzC,CAACC,GAAwB,EAAEpB,IAAI,EAAEqB,GAAG,KAAK;UACvC,IACGA,GAAG,IAAIP,UAAU,IAAIO,GAAG,IAAIL,QAAQ,IACrCC,gBAAgB,CAACK,GAAG,CAACtB,IAAI,CAACZ,EAAE,CAAC,EAC7B;YACAgC,GAAG,CAACG,IAAI,CAACvB,IAAI,CAACZ,EAAE,CAAC;UACnB;UACA,OAAOgC,GAAG;QACZ,CAAC,EACD,EAAE,CACH;QAED9B,aAAa,CAAC4B,eAAe,CAAC;MAChC,CAAC,MAAM;QACL5B,aAAa,CAAC,CAAC,GAAGC,aAAa,EAAEH,EAAE,CAAC,CAAC;MACvC;MACAmB,mBAAmB,CAACnB,EAAE,CAAC;IACzB,CAAC,MAAM;MACLmB,mBAAmB,CAAC,IAAI,CAAC;MACzBjB,aAAa,CAACC,aAAa,CAACQ,MAAM,CAAEyB,GAAG,IAAKA,GAAG,KAAKpC,EAAE,CAAC,CAAC;IAC1D;EACF,CAAC,EACD,CACEkB,gBAAgB,EAChBhB,aAAa,EACbY,cAAc,EACdX,aAAa,EACbO,gBAAgB,CACjB,CACF;EAED,MAAM2B,mBAAmB,GAAGrE,WAAW,CACpCgC,EAAU,IAAK;IACd,IAAIsC,cAAc;IAClB,IAAInC,aAAa,CAACoB,QAAQ,CAACvB,EAAE,CAAC,EAAE;MAC9BsC,cAAc,GAAG3C,YAAY,CAACgB,MAAM,CAAEC,IAAI,IACxCT,aAAa,CAACoB,QAAQ,CAACX,IAAI,CAACZ,EAAE,CAAC,CAChC;IACH,CAAC,MAAM;MACLsC,cAAc,GAAG3C,YAAY,CAACgB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACZ,EAAE,KAAKA,EAAE,CAAC;IAChE;IACA,OAAOsC,cAAc,CAACC,GAAG,CAAE3B,IAAI,IAAK;MAClC,OAAO;QACL,GAAGA,IAAI;QACP;QACA;QACA4B,QAAQ,EAAE7D,iBAAiB,CAACiC,IAAI,CAAC4B,QAAQ,EAAE;UAAEC,aAAa,EAAE;QAAK,CAAC;MACpE,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EACD,CAAC9C,YAAY,EAAEQ,aAAa,CAAC,CAC9B;EAED,MAAMuC,UAAU,GAAG1E,WAAW,CAC5B,CAACgC,EAAqB,EAAEqB,KAAsB,KAAK;IACjDA,KAAK,CAACsB,YAAY,CAACC,OAAO,CACxBnE,UAAU,CAACoE,aAAa,EACxBxE,sBAAsB,CAACgE,mBAAmB,CAACrC,EAAE,CAAC,CAAC,CAChD;EACH,CAAC,EACD,CAACqC,mBAAmB,CAAC,CACtB;EAED,MAAMS,cAAc,GAAG9E,WAAW,CAC/BgC,EAA4B,IAAK;IAChC,IAAI,CAACA,EAAE,EAAE;MACP,OAAO,KAAK;IACd;IAEA,OAAOG,aAAa,CAACoB,QAAQ,CAACvB,EAAE,CAAC;EACnC,CAAC,EACD,CAACG,aAAa,CAAC,CAChB;EAED,MAAM4C,mBAAmB,GAAG/E,WAAW,CAAC,MAAM;IAC5C4B,cAAc,CAACE,eAAe,CAAC;EACjC,CAAC,EAAE,CAACA,eAAe,EAAEF,cAAc,CAAC,CAAC;EAErC,MAAMoD,WAAW,GAAGhF,WAAW,CAC5BgC,EAA4B,IAAK;IAChC,IAAIA,EAAE,EAAE;MACNH,oBAAoB,CAACwC,mBAAmB,CAACrC,EAAE,CAAC,CAAC;IAC/C;EACF,CAAC,EACD,CAACqC,mBAAmB,EAAExC,oBAAoB,CAAC,CAC5C;EAED,MAAMoD,qBAAqB,GACzBxC,QAAQ,CAACyC,IAAI,IAAIvD,YAAY,CAACqB,MAAM,GAChCzB,+BAA+B,GAC/BD,wBAAwB;EAE9B,oBACEH,OAAA;IACEgE,SAAS,EAAC,8BAA8B;IACxCC,KAAK,EACHtD,eAAe,CAACkB,MAAM,IACtBN,gBAAgB,CAACM,MAAM,IACvBF,cAAc,CAACE,MAAM,GACjB;MAAEqC,cAAc,EAAE;IAAa,CAAC,GAChC;MAAEC,YAAY,EAAE;IAAE,CACvB;IAAAC,QAAA,GAEA,CAACtC,cAAc,iBACd9B,OAAA,CAACN,mBAAmB;MAClBsB,aAAa,EAAEA,aAAc;MAC7BD,aAAa,EAAEA,aAAc;MAC7BiD,SAAS,EAAC;IAA6C;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAE1D,eACDxE,OAAA,CAACX,KAAK,CAACoF,GAAG;MACRT,SAAS,EAAC,qCAAqC;MAC/CU,KAAK,EAAC,OAAO;MACbC,GAAG,EAAE,CAAE;MACPV,KAAK,EAAE;QACLW,IAAI,EAAEjD,cAAc,CAACE,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,UAAU;QAChDgD,YAAY,EAAE;MAChB,CAAE;MACFC,GAAG,EAAE7D,mBAAoB;MAAAmD,QAAA,gBAEzBpE,OAAA,CAAAE,SAAA;QAAAkE,QAAA,GACG,CAACtC,cAAc,iBACd9B,OAAA;UAAKgE,SAAS,EAAC,sCAAsC;UAAAI,QAAA,EAClDjF,CAAC,CAAC,oBAAoB;QAAC;UAAAkF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAE3B,EACAjE,SAAS,iBACRP,OAAA;UACEiE,KAAK,EAAE;YACLc,QAAQ,EAAE,UAAU;YACpBC,GAAG,EAAE,4BAA4B;YACjCC,KAAK,EAAE,4BAA4B;YACnCC,SAAS,EAAE;UACb,CAAE;UAAAd,QAAA,eAEFpE,OAAA,CAACT,OAAO;YAAA8E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAG;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAEd,EACA,CAAC7D,eAAe,CAACkB,MAAM,IAAI,CAACN,gBAAgB,CAACM,MAAM,gBAClD7B,OAAA;UAAKgE,SAAS,EAAC,8BAA8B;UAAAI,QAAA,gBAC3CpE,OAAA;YAAKgE,SAAS,EAAC,qCAAqC;YAAAI,QAAA,EACjDjF,CAAC,CAAC,iBAAiB;UAAC;YAAAkF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACjB,eACNxE,OAAA;YAAKgE,SAAS,EAAC,oCAAoC;YAAAI,QAAA,EAChDzC,cAAc,CAACE,MAAM,GAAG,CAAC,GACtB1C,CAAC,CAAC,kCAAkC,CAAC,GACrCA,CAAC,CAAC,2BAA2B;UAAC;YAAAkF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAC9B;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACF,gBAENxE,OAAA,CAACJ,sBAAsB;UAAAwE,QAAA,GACpBzD,eAAe,CAACkB,MAAM,GAAG,CAAC,iBACzB7B,OAAA,CAACL,kBAAkB;YACjBmE,qBAAqB,EAAEA,qBAAsB;YAC7CqB,KAAK,EAAE,CAAC;cAAEtE,EAAE,EAAE,IAAI;cAAEwC,QAAQ,EAAE1C;YAAgB,CAAC,CAAE;YACjDsB,kBAAkB,EAAEA,kBAAmB;YACvCsB,UAAU,EAAEA,UAAW;YACvB6B,OAAO,EAAExB,mBAAoB;YAC7BD,cAAc,EAAEA,cAAe;YAC/BrC,QAAQ,EAAEA;UAAS;YAAA+C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAEtB,eACDxE,OAAA,CAACL,kBAAkB;YACjBmE,qBAAqB,EAAEA,qBAAsB;YAC7CqB,KAAK,EAAE5D,gBAAiB;YACxBU,kBAAkB,EAAEA,kBAAmB;YACvCsB,UAAU,EAAEA,UAAW;YACvB6B,OAAO,EAAEvB,WAAY;YACrBF,cAAc,EAAEA,cAAe;YAC/BrC,QAAQ,EAAEA;UAAS;YAAA+C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACnB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAEL;MAAA,gBACA,eAEHxE,OAAA,CAAAE,SAAA;QAAAkE,QAAA,GACG,CAACzC,cAAc,CAACE,MAAM,GAAG,CAAC,IACzBlB,eAAe,CAACkB,MAAM,GAAG,CAAC,IAC1BN,gBAAgB,CAACM,MAAM,GAAG,CAAC,kBAC3B7B,OAAA;UAAKgE,SAAS,EAAC,kFAAkF;UAAAI,QAAA,EAC9FjF,CAAC,CAAC,sBAAsB;QAAC;UAAAkF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAE7B,EACA7C,cAAc,CAACE,MAAM,GAAG,CAAC,gBACxB7B,OAAA,CAACJ,sBAAsB;UAAAwE,QAAA,eACrBpE,OAAA,CAACL,kBAAkB;YACjBmE,qBAAqB,EAAEA,qBAAsB;YAC7CqB,KAAK,EAAExD,cAAe;YACtBM,kBAAkB,EAAEA,kBAAmB;YACvCsB,UAAU,EAAEA,UAAW;YACvB6B,OAAO,EAAEvB,WAAY;YACrBF,cAAc,EAAEA,cAAe;YAC/BrC,QAAQ,EAAEA;UAAS;YAAA+C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QACnB;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACqB,GACvBjD,gBAAgB,CAACM,MAAM,GAAG,CAAC,gBAC7B7B,OAAA;UACEiE,KAAK,EAAE;YACLoB,MAAM,EAAE,QAAQ;YAChBC,OAAO,EAAE,MAAM;YACfC,aAAa,EAAE,QAAQ;YACvBC,UAAU,EAAE,QAAQ;YACpBtB,cAAc,EAAE,QAAQ;YACxBuB,KAAK,EAAE,MAAM;YACbC,QAAQ,EAAE;UACZ,CAAE;UAAAtB,QAAA,EAEDjF,CAAC,CAAC,iBAAiB;QAAC;UAAAkF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACjB,GACJ,IAAI;MAAA,gBACP,EAEF5C,OAAO,iBACN5B,OAAA,CAACP,yBAAyB;QACxBwE,KAAK,EAAE;UAAE0B,OAAO,EAAE,QAAQ;UAAEF,KAAK,EAAE;QAAO,CAAE;QAC5C5E,EAAE,EAAEA,EAAG;QACPC,gBAAgB,EAAEA,gBAAiB;QACnCF,KAAK,EAAEA,KAAM;QAAAwD,QAAA,eAEbpE,OAAA,CAACN,mBAAmB;UAClBsB,aAAa,EAAEA,aAAc;UAC7BD,aAAa,EAAEA;QAAc;UAAAsD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAC7B;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAEL;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACS;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACR;AAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}