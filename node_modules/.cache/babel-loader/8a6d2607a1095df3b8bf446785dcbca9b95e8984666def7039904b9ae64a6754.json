{"ast":null,"code":"import _regeneratorRuntime from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{atom}from\"jotai\";import{jotaiStore}from\"../../jotai\";export var overwriteConfirmStateAtom=atom({active:false});export function openConfirmModal(_x){return _openConfirmModal.apply(this,arguments);}function _openConfirmModal(){_openConfirmModal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var title,description,actionLabel,color;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:title=_ref.title,description=_ref.description,actionLabel=_ref.actionLabel,color=_ref.color;return _context.abrupt(\"return\",new Promise(function(resolve){jotaiStore.set(overwriteConfirmStateAtom,{active:true,onConfirm:function onConfirm(){return resolve(true);},onClose:function onClose(){return resolve(false);},onReject:function onReject(){return resolve(false);},title:title,description:description,actionLabel:actionLabel,color:color});}));case 2:case\"end\":return _context.stop();}},_callee);}));return _openConfirmModal.apply(this,arguments);}","map":{"version":3,"names":["atom","jotaiStore","overwriteConfirmStateAtom","active","openConfirmModal","_x","_openConfirmModal","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","title","description","actionLabel","color","wrap","_callee$","_context","prev","next","abrupt","Promise","resolve","set","onConfirm","onClose","onReject","stop"],"sources":["D:/project/excalidraw-cn/src/components/OverwriteConfirm/OverwriteConfirmState.ts"],"sourcesContent":["import { atom } from \"jotai\";\nimport { jotaiStore } from \"../../jotai\";\nimport React from \"react\";\n\nexport type OverwriteConfirmState =\n  | {\n      active: true;\n      title: string;\n      description: React.ReactNode;\n      actionLabel: string;\n      color: \"danger\" | \"warning\";\n\n      onClose: () => void;\n      onConfirm: () => void;\n      onReject: () => void;\n    }\n  | { active: false };\n\nexport const overwriteConfirmStateAtom = atom<OverwriteConfirmState>({\n  active: false,\n});\n\nexport async function openConfirmModal({\n  title,\n  description,\n  actionLabel,\n  color,\n}: {\n  title: string;\n  description: React.ReactNode;\n  actionLabel: string;\n  color: \"danger\" | \"warning\";\n}) {\n  return new Promise<boolean>((resolve) => {\n    jotaiStore.set(overwriteConfirmStateAtom, {\n      active: true,\n      onConfirm: () => resolve(true),\n      onClose: () => resolve(false),\n      onReject: () => resolve(false),\n      title,\n      description,\n      actionLabel,\n      color,\n    });\n  });\n}\n"],"mappings":"4OAAA,OAASA,IAAI,KAAQ,OAAO,CAC5B,OAASC,UAAU,KAAQ,aAAa,CAiBxC,MAAO,IAAM,CAAAC,yBAAyB,CAAGF,IAAI,CAAwB,CACnEG,MAAM,CAAE,KACV,CAAC,CAAC,CAEF,eAAsB,CAAAC,gBAAgBA,CAAAC,EAAA,SAAAC,iBAAA,CAAAC,KAAA,MAAAC,SAAA,GAuBrC,SAAAF,kBAAA,EAAAA,iBAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAvBM,SAAAC,QAAAC,IAAA,MAAAC,KAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,KAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACLR,KAAK,CAAAD,IAAA,CAALC,KAAK,CACLC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CACXC,WAAW,CAAAH,IAAA,CAAXG,WAAW,CACXC,KAAK,CAAAJ,IAAA,CAALI,KAAK,QAAAG,QAAA,CAAAG,MAAA,UAOE,GAAI,CAAAC,OAAO,CAAU,SAACC,OAAO,CAAK,CACvCxB,UAAU,CAACyB,GAAG,CAACxB,yBAAyB,CAAE,CACxCC,MAAM,CAAE,IAAI,CACZwB,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAF,OAAO,CAAC,IAAI,CAAC,GAC9BG,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAH,OAAO,CAAC,KAAK,CAAC,GAC7BI,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAJ,OAAO,CAAC,KAAK,CAAC,GAC9BX,KAAK,CAALA,KAAK,CACLC,WAAW,CAAXA,WAAW,CACXC,WAAW,CAAXA,WAAW,CACXC,KAAK,CAALA,KACF,CAAC,CAAC,CACJ,CAAC,CAAC,0BAAAG,QAAA,CAAAU,IAAA,MAAAlB,OAAA,GACH,UAAAN,iBAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}