{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\excalidraw-cn\\\\src\\\\packages\\\\excalidraw\\\\index.tsx\";\nimport React, { useEffect, forwardRef } from \"react\";\nimport { InitializeApp } from \"../../components/InitializeApp\";\nimport App from \"../../components/App\";\nimport { isShallowEqual } from \"../../utils\";\nimport \"../../css/app.scss\";\nimport \"../../css/styles.scss\";\nimport { defaultLang } from \"../../i18n\";\nimport { DEFAULT_UI_OPTIONS } from \"../../constants\";\nimport { Provider } from \"jotai\";\nimport { jotaiScope, jotaiStore } from \"../../jotai\";\nimport Footer from \"../../components/footer/FooterCenter\";\nimport MainMenu from \"../../components/main-menu/MainMenu\";\nimport WelcomeScreen from \"../../components/welcome-screen/WelcomeScreen\";\nimport LiveCollaborationTrigger from \"../../components/live-collaboration/LiveCollaborationTrigger\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExcalidrawBase = props => {\n  var _props$UIOptions;\n  const {\n    onChange,\n    initialData,\n    excalidrawRef,\n    isCollaborating = false,\n    onPointerUpdate,\n    renderTopRightUI,\n    langCode = defaultLang.code,\n    viewModeEnabled,\n    zenModeEnabled,\n    gridModeEnabled,\n    libraryReturnUrl,\n    theme,\n    name,\n    renderCustomStats,\n    onPaste,\n    detectScroll = true,\n    handleKeyboardGlobally = false,\n    onLibraryChange,\n    autoFocus = false,\n    generateIdForFile,\n    onLinkOpen,\n    onPointerDown,\n    onScrollChange,\n    children\n  } = props;\n  const canvasActions = (_props$UIOptions = props.UIOptions) === null || _props$UIOptions === void 0 ? void 0 : _props$UIOptions.canvasActions;\n\n  // FIXME normalize/set defaults in parent component so that the memo resolver\n  // compares the same values\n  const UIOptions = {\n    ...props.UIOptions,\n    canvasActions: {\n      ...DEFAULT_UI_OPTIONS.canvasActions,\n      ...canvasActions\n    }\n  };\n  if (canvasActions !== null && canvasActions !== void 0 && canvasActions.export) {\n    var _canvasActions$export, _canvasActions$export2;\n    UIOptions.canvasActions.export.saveFileToDisk = (_canvasActions$export = (_canvasActions$export2 = canvasActions.export) === null || _canvasActions$export2 === void 0 ? void 0 : _canvasActions$export2.saveFileToDisk) !== null && _canvasActions$export !== void 0 ? _canvasActions$export : DEFAULT_UI_OPTIONS.canvasActions.export.saveFileToDisk;\n  }\n  if (UIOptions.canvasActions.toggleTheme === null && typeof theme === \"undefined\") {\n    UIOptions.canvasActions.toggleTheme = true;\n  }\n  useEffect(() => {\n    // Block pinch-zooming on iOS outside of the content area\n    const handleTouchMove = event => {\n      // @ts-ignore\n      if (typeof event.scale === \"number\" && event.scale !== 1) {\n        event.preventDefault();\n      }\n    };\n    document.addEventListener(\"touchmove\", handleTouchMove, {\n      passive: false\n    });\n    return () => {\n      document.removeEventListener(\"touchmove\", handleTouchMove);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Provider, {\n    unstable_createStore: () => jotaiStore,\n    scope: jotaiScope,\n    children: /*#__PURE__*/_jsxDEV(InitializeApp, {\n      langCode: langCode,\n      theme: theme,\n      children: /*#__PURE__*/_jsxDEV(App, {\n        onChange: onChange,\n        initialData: initialData,\n        excalidrawRef: excalidrawRef,\n        isCollaborating: isCollaborating,\n        onPointerUpdate: onPointerUpdate,\n        renderTopRightUI: renderTopRightUI,\n        langCode: langCode,\n        viewModeEnabled: viewModeEnabled,\n        zenModeEnabled: zenModeEnabled,\n        gridModeEnabled: gridModeEnabled,\n        libraryReturnUrl: libraryReturnUrl,\n        theme: theme,\n        name: name,\n        renderCustomStats: renderCustomStats,\n        UIOptions: UIOptions,\n        onPaste: onPaste,\n        detectScroll: detectScroll,\n        handleKeyboardGlobally: handleKeyboardGlobally,\n        onLibraryChange: onLibraryChange,\n        autoFocus: autoFocus,\n        generateIdForFile: generateIdForFile,\n        onLinkOpen: onLinkOpen,\n        onPointerDown: onPointerDown,\n        onScrollChange: onScrollChange,\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\nconst areEqual = (prevProps, nextProps) => {\n  // short-circuit early\n  if (prevProps.children !== nextProps.children) {\n    return false;\n  }\n  const {\n    initialData: prevInitialData,\n    UIOptions: prevUIOptions = {},\n    ...prev\n  } = prevProps;\n  const {\n    initialData: nextInitialData,\n    UIOptions: nextUIOptions = {},\n    ...next\n  } = nextProps;\n\n  // comparing UIOptions\n  const prevUIOptionsKeys = Object.keys(prevUIOptions);\n  const nextUIOptionsKeys = Object.keys(nextUIOptions);\n  if (prevUIOptionsKeys.length !== nextUIOptionsKeys.length) {\n    return false;\n  }\n  const isUIOptionsSame = prevUIOptionsKeys.every(key => {\n    if (key === \"canvasActions\") {\n      const canvasOptionKeys = Object.keys(prevUIOptions.canvasActions);\n      return canvasOptionKeys.every(key => {\n        var _prevUIOptions$canvas, _nextUIOptions$canvas, _prevUIOptions$canvas2, _nextUIOptions$canvas2;\n        if (key === \"export\" && prevUIOptions !== null && prevUIOptions !== void 0 && (_prevUIOptions$canvas = prevUIOptions.canvasActions) !== null && _prevUIOptions$canvas !== void 0 && _prevUIOptions$canvas.export && nextUIOptions !== null && nextUIOptions !== void 0 && (_nextUIOptions$canvas = nextUIOptions.canvasActions) !== null && _nextUIOptions$canvas !== void 0 && _nextUIOptions$canvas.export) {\n          return prevUIOptions.canvasActions.export.saveFileToDisk === nextUIOptions.canvasActions.export.saveFileToDisk;\n        }\n        return (prevUIOptions === null || prevUIOptions === void 0 ? void 0 : (_prevUIOptions$canvas2 = prevUIOptions.canvasActions) === null || _prevUIOptions$canvas2 === void 0 ? void 0 : _prevUIOptions$canvas2[key]) === (nextUIOptions === null || nextUIOptions === void 0 ? void 0 : (_nextUIOptions$canvas2 = nextUIOptions.canvasActions) === null || _nextUIOptions$canvas2 === void 0 ? void 0 : _nextUIOptions$canvas2[key]);\n      });\n    }\n    return prevUIOptions[key] === nextUIOptions[key];\n  });\n  return isUIOptionsSame && isShallowEqual(prev, next);\n};\nconst forwardedRefComp = /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ExcalidrawBase, {\n  ...props,\n  excalidrawRef: ref\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 191,\n  columnNumber: 19\n}, this));\nexport const Excalidraw = /*#__PURE__*/React.memo(forwardedRefComp, areEqual);\nExcalidraw.displayName = \"Excalidraw\";\nexport { getSceneVersion, isInvisiblySmallElement, getNonDeletedElements } from \"../../element\";\nexport { defaultLang, useI18n, languages } from \"../../i18n\";\nexport { restore, restoreAppState, restoreElements, restoreLibraryItems } from \"../../data/restore\";\nexport { exportToCanvas, exportToBlob, exportToSvg, serializeAsJSON, serializeLibraryAsJSON, loadLibraryFromBlob, loadFromBlob, loadSceneOrLibraryFromBlob, getFreeDrawSvgPath, exportToClipboard, mergeLibraryItems } from \"../../packages/utils\";\nexport { isLinearElement } from \"../../element/typeChecks\";\nexport { FONT_FAMILY, THEME, MIME_TYPES } from \"../../constants\";\nexport { mutateElement, newElementWith, bumpVersion } from \"../../element/mutateElement\";\nexport { parseLibraryTokensFromUrl, useHandleLibrary } from \"../../data/library\";\nexport { sceneCoordsToViewportCoords, viewportCoordsToSceneCoords } from \"../../utils\";\nexport { Sidebar } from \"../../components/Sidebar/Sidebar\";\nexport { Button } from \"../../components/Button\";\nexport { Footer };\nexport { MainMenu };\nexport { useDevice } from \"../../components/App\";\nexport { WelcomeScreen };\nexport { LiveCollaborationTrigger };\nexport { DefaultSidebar } from \"../../components/DefaultSidebar\";\nexport { normalizeLink } from \"../../data/url\";","map":{"version":3,"names":["React","useEffect","forwardRef","InitializeApp","App","isShallowEqual","defaultLang","DEFAULT_UI_OPTIONS","Provider","jotaiScope","jotaiStore","Footer","MainMenu","WelcomeScreen","LiveCollaborationTrigger","jsxDEV","_jsxDEV","ExcalidrawBase","props","_props$UIOptions","onChange","initialData","excalidrawRef","isCollaborating","onPointerUpdate","renderTopRightUI","langCode","code","viewModeEnabled","zenModeEnabled","gridModeEnabled","libraryReturnUrl","theme","name","renderCustomStats","onPaste","detectScroll","handleKeyboardGlobally","onLibraryChange","autoFocus","generateIdForFile","onLinkOpen","onPointerDown","onScrollChange","children","canvasActions","UIOptions","export","_canvasActions$export","_canvasActions$export2","saveFileToDisk","toggleTheme","handleTouchMove","event","scale","preventDefault","document","addEventListener","passive","removeEventListener","unstable_createStore","scope","fileName","_jsxFileName","lineNumber","columnNumber","areEqual","prevProps","nextProps","prevInitialData","prevUIOptions","prev","nextInitialData","nextUIOptions","next","prevUIOptionsKeys","Object","keys","nextUIOptionsKeys","length","isUIOptionsSame","every","key","canvasOptionKeys","_prevUIOptions$canvas","_nextUIOptions$canvas","_prevUIOptions$canvas2","_nextUIOptions$canvas2","forwardedRefComp","ref","Excalidraw","memo","displayName","getSceneVersion","isInvisiblySmallElement","getNonDeletedElements","useI18n","languages","restore","restoreAppState","restoreElements","restoreLibraryItems","exportToCanvas","exportToBlob","exportToSvg","serializeAsJSON","serializeLibraryAsJSON","loadLibraryFromBlob","loadFromBlob","loadSceneOrLibraryFromBlob","getFreeDrawSvgPath","exportToClipboard","mergeLibraryItems","isLinearElement","FONT_FAMILY","THEME","MIME_TYPES","mutateElement","newElementWith","bumpVersion","parseLibraryTokensFromUrl","useHandleLibrary","sceneCoordsToViewportCoords","viewportCoordsToSceneCoords","Sidebar","Button","useDevice","DefaultSidebar","normalizeLink"],"sources":["D:/project/excalidraw-cn/src/packages/excalidraw/index.tsx"],"sourcesContent":["import React, { useEffect, forwardRef } from \"react\";\nimport { InitializeApp } from \"../../components/InitializeApp\";\nimport App from \"../../components/App\";\nimport { isShallowEqual } from \"../../utils\";\n\nimport \"../../css/app.scss\";\nimport \"../../css/styles.scss\";\n\nimport { AppProps, ExcalidrawAPIRefValue, ExcalidrawProps } from \"../../types\";\nimport { defaultLang } from \"../../i18n\";\nimport { DEFAULT_UI_OPTIONS } from \"../../constants\";\nimport { Provider } from \"jotai\";\nimport { jotaiScope, jotaiStore } from \"../../jotai\";\nimport Footer from \"../../components/footer/FooterCenter\";\nimport MainMenu from \"../../components/main-menu/MainMenu\";\nimport WelcomeScreen from \"../../components/welcome-screen/WelcomeScreen\";\nimport LiveCollaborationTrigger from \"../../components/live-collaboration/LiveCollaborationTrigger\";\n\nconst ExcalidrawBase = (props: ExcalidrawProps) => {\n  const {\n    onChange,\n    initialData,\n    excalidrawRef,\n    isCollaborating = false,\n    onPointerUpdate,\n    renderTopRightUI,\n    langCode = defaultLang.code,\n    viewModeEnabled,\n    zenModeEnabled,\n    gridModeEnabled,\n    libraryReturnUrl,\n    theme,\n    name,\n    renderCustomStats,\n    onPaste,\n    detectScroll = true,\n    handleKeyboardGlobally = false,\n    onLibraryChange,\n    autoFocus = false,\n    generateIdForFile,\n    onLinkOpen,\n    onPointerDown,\n    onScrollChange,\n    children,\n  } = props;\n\n  const canvasActions = props.UIOptions?.canvasActions;\n\n  // FIXME normalize/set defaults in parent component so that the memo resolver\n  // compares the same values\n  const UIOptions: AppProps[\"UIOptions\"] = {\n    ...props.UIOptions,\n    canvasActions: {\n      ...DEFAULT_UI_OPTIONS.canvasActions,\n      ...canvasActions,\n    },\n  };\n\n  if (canvasActions?.export) {\n    UIOptions.canvasActions.export.saveFileToDisk =\n      canvasActions.export?.saveFileToDisk ??\n      DEFAULT_UI_OPTIONS.canvasActions.export.saveFileToDisk;\n  }\n\n  if (\n    UIOptions.canvasActions.toggleTheme === null &&\n    typeof theme === \"undefined\"\n  ) {\n    UIOptions.canvasActions.toggleTheme = true;\n  }\n\n  useEffect(() => {\n    // Block pinch-zooming on iOS outside of the content area\n    const handleTouchMove = (event: TouchEvent) => {\n      // @ts-ignore\n      if (typeof event.scale === \"number\" && event.scale !== 1) {\n        event.preventDefault();\n      }\n    };\n\n    document.addEventListener(\"touchmove\", handleTouchMove, {\n      passive: false,\n    });\n\n    return () => {\n      document.removeEventListener(\"touchmove\", handleTouchMove);\n    };\n  }, []);\n\n  return (\n    <Provider unstable_createStore={() => jotaiStore} scope={jotaiScope}>\n      <InitializeApp langCode={langCode} theme={theme}>\n        <App\n          onChange={onChange}\n          initialData={initialData}\n          excalidrawRef={excalidrawRef}\n          isCollaborating={isCollaborating}\n          onPointerUpdate={onPointerUpdate}\n          renderTopRightUI={renderTopRightUI}\n          langCode={langCode}\n          viewModeEnabled={viewModeEnabled}\n          zenModeEnabled={zenModeEnabled}\n          gridModeEnabled={gridModeEnabled}\n          libraryReturnUrl={libraryReturnUrl}\n          theme={theme}\n          name={name}\n          renderCustomStats={renderCustomStats}\n          UIOptions={UIOptions}\n          onPaste={onPaste}\n          detectScroll={detectScroll}\n          handleKeyboardGlobally={handleKeyboardGlobally}\n          onLibraryChange={onLibraryChange}\n          autoFocus={autoFocus}\n          generateIdForFile={generateIdForFile}\n          onLinkOpen={onLinkOpen}\n          onPointerDown={onPointerDown}\n          onScrollChange={onScrollChange}\n        >\n          {children}\n        </App>\n      </InitializeApp>\n    </Provider>\n  );\n};\n\ntype PublicExcalidrawProps = Omit<ExcalidrawProps, \"forwardedRef\">;\n\nconst areEqual = (\n  prevProps: PublicExcalidrawProps,\n  nextProps: PublicExcalidrawProps,\n) => {\n  // short-circuit early\n  if (prevProps.children !== nextProps.children) {\n    return false;\n  }\n\n  const {\n    initialData: prevInitialData,\n    UIOptions: prevUIOptions = {},\n    ...prev\n  } = prevProps;\n  const {\n    initialData: nextInitialData,\n    UIOptions: nextUIOptions = {},\n    ...next\n  } = nextProps;\n\n  // comparing UIOptions\n  const prevUIOptionsKeys = Object.keys(prevUIOptions) as (keyof Partial<\n    typeof DEFAULT_UI_OPTIONS\n  >)[];\n  const nextUIOptionsKeys = Object.keys(nextUIOptions) as (keyof Partial<\n    typeof DEFAULT_UI_OPTIONS\n  >)[];\n\n  if (prevUIOptionsKeys.length !== nextUIOptionsKeys.length) {\n    return false;\n  }\n\n  const isUIOptionsSame = prevUIOptionsKeys.every((key) => {\n    if (key === \"canvasActions\") {\n      const canvasOptionKeys = Object.keys(\n        prevUIOptions.canvasActions!,\n      ) as (keyof Partial<typeof DEFAULT_UI_OPTIONS.canvasActions>)[];\n      return canvasOptionKeys.every((key) => {\n        if (\n          key === \"export\" &&\n          prevUIOptions?.canvasActions?.export &&\n          nextUIOptions?.canvasActions?.export\n        ) {\n          return (\n            prevUIOptions.canvasActions.export.saveFileToDisk ===\n            nextUIOptions.canvasActions.export.saveFileToDisk\n          );\n        }\n        return (\n          prevUIOptions?.canvasActions?.[key] ===\n          nextUIOptions?.canvasActions?.[key]\n        );\n      });\n    }\n    return prevUIOptions[key] === nextUIOptions[key];\n  });\n\n  return isUIOptionsSame && isShallowEqual(prev, next);\n};\n\nconst forwardedRefComp = forwardRef<\n  ExcalidrawAPIRefValue,\n  PublicExcalidrawProps\n>((props, ref) => <ExcalidrawBase {...props} excalidrawRef={ref} />);\n\nexport const Excalidraw = React.memo(forwardedRefComp, areEqual);\nExcalidraw.displayName = \"Excalidraw\";\n\nexport {\n  getSceneVersion,\n  isInvisiblySmallElement,\n  getNonDeletedElements,\n} from \"../../element\";\nexport { defaultLang, useI18n, languages } from \"../../i18n\";\nexport {\n  restore,\n  restoreAppState,\n  restoreElements,\n  restoreLibraryItems,\n} from \"../../data/restore\";\nexport {\n  exportToCanvas,\n  exportToBlob,\n  exportToSvg,\n  serializeAsJSON,\n  serializeLibraryAsJSON,\n  loadLibraryFromBlob,\n  loadFromBlob,\n  loadSceneOrLibraryFromBlob,\n  getFreeDrawSvgPath,\n  exportToClipboard,\n  mergeLibraryItems,\n} from \"../../packages/utils\";\nexport { isLinearElement } from \"../../element/typeChecks\";\n\nexport { FONT_FAMILY, THEME, MIME_TYPES } from \"../../constants\";\n\nexport {\n  mutateElement,\n  newElementWith,\n  bumpVersion,\n} from \"../../element/mutateElement\";\n\nexport {\n  parseLibraryTokensFromUrl,\n  useHandleLibrary,\n} from \"../../data/library\";\n\nexport {\n  sceneCoordsToViewportCoords,\n  viewportCoordsToSceneCoords,\n} from \"../../utils\";\n\nexport { Sidebar } from \"../../components/Sidebar/Sidebar\";\nexport { Button } from \"../../components/Button\";\nexport { Footer };\nexport { MainMenu };\nexport { useDevice } from \"../../components/App\";\nexport { WelcomeScreen };\nexport { LiveCollaborationTrigger };\n\nexport { DefaultSidebar } from \"../../components/DefaultSidebar\";\n\nexport { normalizeLink } from \"../../data/url\";\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}