{"ast":null,"code":"import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./Avatar.scss\";import React,{useState}from\"react\";import{getNameInitial}from\"../clients\";import{jsx as _jsx}from\"react/jsx-runtime\";export var Avatar=function Avatar(_ref){var color=_ref.color,onClick=_ref.onClick,name=_ref.name,src=_ref.src;var shortName=getNameInitial(name);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var loadImg=!error&&src;var style=loadImg?undefined:{background:color};return/*#__PURE__*/_jsx(\"div\",{className:\"Avatar\",style:style,onClick:onClick,children:loadImg?/*#__PURE__*/_jsx(\"img\",{className:\"Avatar-img\",src:src,alt:shortName,referrerPolicy:\"no-referrer\",onError:function onError(){return setError(true);}}):shortName});};","map":{"version":3,"names":["React","useState","getNameInitial","jsx","_jsx","Avatar","_ref","color","onClick","name","src","shortName","_useState","_useState2","_slicedToArray","error","setError","loadImg","style","undefined","background","className","children","alt","referrerPolicy","onError"],"sources":["D:/project/excalidraw-cn/src/components/Avatar.tsx"],"sourcesContent":["import \"./Avatar.scss\";\n\nimport React, { useState } from \"react\";\nimport { getNameInitial } from \"../clients\";\n\ntype AvatarProps = {\n  onClick: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n  color: string;\n  name: string;\n  src?: string;\n};\n\nexport const Avatar = ({ color, onClick, name, src }: AvatarProps) => {\n  const shortName = getNameInitial(name);\n  const [error, setError] = useState(false);\n  const loadImg = !error && src;\n  const style = loadImg ? undefined : { background: color };\n  return (\n    <div className=\"Avatar\" style={style} onClick={onClick}>\n      {loadImg ? (\n        <img\n          className=\"Avatar-img\"\n          src={src}\n          alt={shortName}\n          referrerPolicy=\"no-referrer\"\n          onError={() => setError(true)}\n        />\n      ) : (\n        shortName\n      )}\n    </div>\n  );\n};\n"],"mappings":"8GAAA,MAAO,eAAe,CAEtB,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,cAAc,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAS5C,MAAO,IAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAAC,IAAA,CAAmD,IAA7C,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,IAAI,CAAAH,IAAA,CAAJG,IAAI,CAAEC,GAAG,CAAAJ,IAAA,CAAHI,GAAG,CAChD,GAAM,CAAAC,SAAS,CAAGT,cAAc,CAACO,IAAI,CAAC,CACtC,IAAAG,SAAA,CAA0BX,QAAQ,CAAC,KAAK,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,GAAM,CAAAI,OAAO,CAAG,CAACF,KAAK,EAAIL,GAAG,CAC7B,GAAM,CAAAQ,KAAK,CAAGD,OAAO,CAAGE,SAAS,CAAG,CAAEC,UAAU,CAAEb,KAAM,CAAC,CACzD,mBACEH,IAAA,QAAKiB,SAAS,CAAC,QAAQ,CAACH,KAAK,CAAEA,KAAM,CAACV,OAAO,CAAEA,OAAQ,CAAAc,QAAA,CACpDL,OAAO,cACNb,IAAA,QACEiB,SAAS,CAAC,YAAY,CACtBX,GAAG,CAAEA,GAAI,CACTa,GAAG,CAAEZ,SAAU,CACfa,cAAc,CAAC,aAAa,CAC5BC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAT,QAAQ,CAAC,IAAI,CAAC,EAAC,EAC9B,CAEFL,SACD,EACG,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}