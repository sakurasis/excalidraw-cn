{"ast":null,"code":"import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import clsx from\"clsx\";import{useAtom}from\"jotai\";import{useEffect,useRef}from\"react\";import{activeColorPickerSectionAtom}from\"./colorPickerUtils\";import HotkeyLabel from\"./HotkeyLabel\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CustomColorList=function CustomColorList(_ref){var colors=_ref.colors,color=_ref.color,onChange=_ref.onChange,label=_ref.label;var _useAtom=useAtom(activeColorPickerSectionAtom),_useAtom2=_slicedToArray(_useAtom,2),activeColorPickerSection=_useAtom2[0],setActiveColorPickerSection=_useAtom2[1];var btnRef=useRef(null);useEffect(function(){if(btnRef.current){btnRef.current.focus();}},[color,activeColorPickerSection]);return/*#__PURE__*/_jsx(\"div\",{className:\"color-picker-content--default\",children:colors.map(function(c,i){return/*#__PURE__*/_jsxs(\"button\",{ref:color===c?btnRef:undefined,tabIndex:-1,type:\"button\",className:clsx(\"color-picker__button color-picker__button--large\",{active:color===c,\"is-transparent\":c===\"transparent\"||!c}),onClick:function onClick(){onChange(c);setActiveColorPickerSection(\"custom\");},title:c,\"aria-label\":label,style:{\"--swatch-color\":c},children:[/*#__PURE__*/_jsx(\"div\",{className:\"color-picker__button-outline\"}),/*#__PURE__*/_jsx(HotkeyLabel,{color:c,keyLabel:i+1,isCustomColor:true})]},i);})});};","map":{"version":3,"names":["clsx","useAtom","useEffect","useRef","activeColorPickerSectionAtom","HotkeyLabel","jsx","_jsx","jsxs","_jsxs","CustomColorList","_ref","colors","color","onChange","label","_useAtom","_useAtom2","_slicedToArray","activeColorPickerSection","setActiveColorPickerSection","btnRef","current","focus","className","children","map","c","i","ref","undefined","tabIndex","type","active","onClick","title","style","keyLabel","isCustomColor"],"sources":["D:/project/excalidraw-cn/src/components/ColorPicker/CustomColorList.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport { useAtom } from \"jotai\";\nimport { useEffect, useRef } from \"react\";\nimport { activeColorPickerSectionAtom } from \"./colorPickerUtils\";\nimport HotkeyLabel from \"./HotkeyLabel\";\n\ninterface CustomColorListProps {\n  colors: string[];\n  color: string;\n  onChange: (color: string) => void;\n  label: string;\n}\n\nexport const CustomColorList = ({\n  colors,\n  color,\n  onChange,\n  label,\n}: CustomColorListProps) => {\n  const [activeColorPickerSection, setActiveColorPickerSection] = useAtom(\n    activeColorPickerSectionAtom,\n  );\n\n  const btnRef = useRef<HTMLButtonElement>(null);\n\n  useEffect(() => {\n    if (btnRef.current) {\n      btnRef.current.focus();\n    }\n  }, [color, activeColorPickerSection]);\n\n  return (\n    <div className=\"color-picker-content--default\">\n      {colors.map((c, i) => {\n        return (\n          <button\n            ref={color === c ? btnRef : undefined}\n            tabIndex={-1}\n            type=\"button\"\n            className={clsx(\n              \"color-picker__button color-picker__button--large\",\n              {\n                active: color === c,\n                \"is-transparent\": c === \"transparent\" || !c,\n              },\n            )}\n            onClick={() => {\n              onChange(c);\n              setActiveColorPickerSection(\"custom\");\n            }}\n            title={c}\n            aria-label={label}\n            style={{ \"--swatch-color\": c }}\n            key={i}\n          >\n            <div className=\"color-picker__button-outline\" />\n            <HotkeyLabel color={c} keyLabel={i + 1} isCustomColor />\n          </button>\n        );\n      })}\n    </div>\n  );\n};\n"],"mappings":"8GAAA,MAAO,CAAAA,IAAI,KAAM,MAAM,CACvB,OAASC,OAAO,KAAQ,OAAO,CAC/B,OAASC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACzC,OAASC,4BAA4B,KAAQ,oBAAoB,CACjE,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBASxC,MAAO,IAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,IAAA,CAKA,IAJ1B,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CACNC,KAAK,CAAAF,IAAA,CAALE,KAAK,CACLC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CACRC,KAAK,CAAAJ,IAAA,CAALI,KAAK,CAEL,IAAAC,QAAA,CAAgEf,OAAO,CACrEG,4BAA4B,CAC7B,CAAAa,SAAA,CAAAC,cAAA,CAAAF,QAAA,IAFMG,wBAAwB,CAAAF,SAAA,IAAEG,2BAA2B,CAAAH,SAAA,IAI5D,GAAM,CAAAI,MAAM,CAAGlB,MAAM,CAAoB,IAAI,CAAC,CAE9CD,SAAS,CAAC,UAAM,CACd,GAAImB,MAAM,CAACC,OAAO,CAAE,CAClBD,MAAM,CAACC,OAAO,CAACC,KAAK,EAAE,CACxB,CACF,CAAC,CAAE,CAACV,KAAK,CAAEM,wBAAwB,CAAC,CAAC,CAErC,mBACEZ,IAAA,QAAKiB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAC3Cb,MAAM,CAACc,GAAG,CAAC,SAACC,CAAC,CAAEC,CAAC,CAAK,CACpB,mBACEnB,KAAA,WACEoB,GAAG,CAAEhB,KAAK,GAAKc,CAAC,CAAGN,MAAM,CAAGS,SAAU,CACtCC,QAAQ,CAAE,CAAC,CAAE,CACbC,IAAI,CAAC,QAAQ,CACbR,SAAS,CAAExB,IAAI,CACb,kDAAkD,CAClD,CACEiC,MAAM,CAAEpB,KAAK,GAAKc,CAAC,CACnB,gBAAgB,CAAEA,CAAC,GAAK,aAAa,EAAI,CAACA,CAC5C,CAAC,CACD,CACFO,OAAO,CAAE,SAAAA,QAAA,CAAM,CACbpB,QAAQ,CAACa,CAAC,CAAC,CACXP,2BAA2B,CAAC,QAAQ,CAAC,CACvC,CAAE,CACFe,KAAK,CAAER,CAAE,CACT,aAAYZ,KAAM,CAClBqB,KAAK,CAAE,CAAE,gBAAgB,CAAET,CAAE,CAAE,CAAAF,QAAA,eAG/BlB,IAAA,QAAKiB,SAAS,CAAC,8BAA8B,EAAG,cAChDjB,IAAA,CAACF,WAAW,EAACQ,KAAK,CAAEc,CAAE,CAACU,QAAQ,CAAET,CAAC,CAAG,CAAE,CAACU,aAAa,OAAG,GAHnDV,CAAC,CAIC,CAEb,CAAC,CAAC,EACE,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}