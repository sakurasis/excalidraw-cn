{"ast":null,"code":"import _defineProperty from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useCallback,useEffect,useRef,useState}from\"react\";import OpenColor from\"open-color\";import{Dialog}from\"./Dialog\";import{t}from\"../i18n\";import Trans from\"./Trans\";import{exportToCanvas,exportToSvg}from\"../packages/utils\";import{EXPORT_DATA_TYPES,EXPORT_SOURCE,MIME_TYPES,VERSIONS}from\"../constants\";import{canvasToBlob,resizeImageFile}from\"../data/blob\";import{chunk}from\"../utils\";import DialogActionButton from\"./DialogActionButton\";import{CloseIcon}from\"./icons\";import{ToolButton}from\"./ToolButton\";import\"./PublishLibrary.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LOCAL_STORAGE_KEY_PUBLISH_LIBRARY=\"publish-library-data\";var savePublishLibDataToStorage=function savePublishLibDataToStorage(data){try{localStorage.setItem(LOCAL_STORAGE_KEY_PUBLISH_LIBRARY,JSON.stringify(data));}catch(error){// Unable to access window.localStorage\nconsole.error(error);}};var importPublishLibDataFromStorage=function importPublishLibDataFromStorage(){try{var _data=localStorage.getItem(LOCAL_STORAGE_KEY_PUBLISH_LIBRARY);if(_data){return JSON.parse(_data);}}catch(error){// Unable to access localStorage\nconsole.error(error);}return null;};var generatePreviewImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(libraryItems){var MAX_ITEMS_PER_ROW,BOX_SIZE,BOX_PADDING,BORDER_WIDTH,rows,canvas,ctx,_iterator,_step,_step$value,index,item,itemCanvas,width,height,rowOffset,colOffset;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:MAX_ITEMS_PER_ROW=6;BOX_SIZE=128;BOX_PADDING=Math.round(BOX_SIZE/16);BORDER_WIDTH=Math.max(Math.round(BOX_SIZE/64),2);rows=chunk(libraryItems,MAX_ITEMS_PER_ROW);canvas=document.createElement(\"canvas\");canvas.width=rows[0].length*BOX_SIZE+(rows[0].length+1)*(BOX_PADDING*2)-BOX_PADDING*2;canvas.height=rows.length*BOX_SIZE+(rows.length+1)*(BOX_PADDING*2)-BOX_PADDING*2;ctx=canvas.getContext(\"2d\");ctx.fillStyle=OpenColor.white;ctx.fillRect(0,0,canvas.width,canvas.height);// draw items\n// ---------------------------------------------------------------------------\n_iterator=_createForOfIteratorHelper(libraryItems.entries());_context.prev=12;_iterator.s();case 14:if((_step=_iterator.n()).done){_context.next=28;break;}_step$value=_slicedToArray(_step.value,2),index=_step$value[0],item=_step$value[1];_context.next=18;return exportToCanvas({elements:item.elements,files:null,maxWidthOrHeight:BOX_SIZE});case 18:itemCanvas=_context.sent;width=itemCanvas.width,height=itemCanvas.height;// draw item\n// -------------------------------------------------------------------------\nrowOffset=Math.floor(index/MAX_ITEMS_PER_ROW)*(BOX_SIZE+BOX_PADDING*2);colOffset=index%MAX_ITEMS_PER_ROW*(BOX_SIZE+BOX_PADDING*2);ctx.drawImage(itemCanvas,colOffset+(BOX_SIZE-width)/2+BOX_PADDING,rowOffset+(BOX_SIZE-height)/2+BOX_PADDING);// draw item border\n// -------------------------------------------------------------------------\nctx.lineWidth=BORDER_WIDTH;ctx.strokeStyle=OpenColor.gray[4];ctx.strokeRect(colOffset+BOX_PADDING/2,rowOffset+BOX_PADDING/2,BOX_SIZE+BOX_PADDING,BOX_SIZE+BOX_PADDING);case 26:_context.next=14;break;case 28:_context.next=33;break;case 30:_context.prev=30;_context.t0=_context[\"catch\"](12);_iterator.e(_context.t0);case 33:_context.prev=33;_iterator.f();return _context.finish(33);case 36:_context.t1=resizeImageFile;_context.t2=File;_context.next=40;return canvasToBlob(canvas);case 40:_context.t3=_context.sent;_context.t4=[_context.t3];_context.t5={type:MIME_TYPES.png};_context.t6=new _context.t2(_context.t4,\"preview\",_context.t5);_context.t7={outputType:MIME_TYPES.jpg,maxWidthOrHeight:5000};_context.next=47;return(0,_context.t1)(_context.t6,_context.t7);case 47:return _context.abrupt(\"return\",_context.sent);case 48:case\"end\":return _context.stop();}},_callee,null,[[12,30,33,36]]);}));return function generatePreviewImage(_x){return _ref.apply(this,arguments);};}();var SingleLibraryItem=function SingleLibraryItem(_ref2){var libItem=_ref2.libItem,appState=_ref2.appState,index=_ref2.index,_onChange=_ref2.onChange,onRemove=_ref2.onRemove;var svgRef=useRef(null);var inputRef=useRef(null);useEffect(function(){var node=svgRef.current;if(!node){return;}_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var svg;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return exportToSvg({elements:libItem.elements,appState:_objectSpread(_objectSpread({},appState),{},{viewBackgroundColor:OpenColor.white,exportBackground:true}),files:null});case 2:svg=_context2.sent;node.innerHTML=svg.outerHTML;case 4:case\"end\":return _context2.stop();}},_callee2);}))();},[libItem.elements,appState]);return/*#__PURE__*/_jsxs(\"div\",{className:\"single-library-item\",children:[libItem.status===\"published\"&&/*#__PURE__*/_jsx(\"span\",{className:\"single-library-item-status\",children:t(\"labels.statusPublished\")}),/*#__PURE__*/_jsx(\"div\",{ref:svgRef,className:\"single-library-item__svg\"}),/*#__PURE__*/_jsx(ToolButton,{\"aria-label\":t(\"buttons.remove\"),type:\"button\",icon:CloseIcon,className:\"single-library-item--remove\",onClick:onRemove.bind(null,libItem.id),title:t(\"buttons.remove\")}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",margin:\"0.8rem 0\",width:\"100%\",fontSize:\"14px\",fontWeight:500,flexDirection:\"column\"},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:\"flex\",justifyContent:\"space-between\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"0.5em 0\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:500,color:OpenColor.gray[6]},children:t(\"publishDialog.itemName\")}),/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:inputRef,style:{width:\"80%\",padding:\"0.2rem\"},defaultValue:libItem.name,placeholder:\"Item name\",onChange:function onChange(event){_onChange(event.target.value,index);}})]}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:libItem.error})]})]});};var PublishLibrary=function PublishLibrary(_ref4){var onClose=_ref4.onClose,libraryItems=_ref4.libraryItems,appState=_ref4.appState,onSuccess=_ref4.onSuccess,onError=_ref4.onError,updateItemsInStorage=_ref4.updateItemsInStorage,onRemove=_ref4.onRemove;var _useState=useState({authorName:\"\",githubHandle:\"\",name:\"\",description:\"\",twitterHandle:\"\",website:\"\"}),_useState2=_slicedToArray(_useState,2),libraryData=_useState2[0],setLibraryData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSubmitting=_useState4[0],setIsSubmitting=_useState4[1];useEffect(function(){var data=importPublishLibDataFromStorage();if(data){setLibraryData(data);}},[]);var _useState5=useState(libraryItems.slice()),_useState6=_slicedToArray(_useState5,2),clonedLibItems=_useState6[0],setClonedLibItems=_useState6[1];useEffect(function(){setClonedLibItems(libraryItems.slice());},[libraryItems]);var onInputChange=function onInputChange(event){setLibraryData(_objectSpread(_objectSpread({},libraryData),{},_defineProperty({},event.target.name,event.target.value)));};var onSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event){var erroredLibItems,isError,previewImage,libContent,content,lib,formData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:event.preventDefault();setIsSubmitting(true);erroredLibItems=[];isError=false;clonedLibItems.forEach(function(libItem){var error=\"\";if(!libItem.name){error=t(\"publishDialog.errors.required\");isError=true;}erroredLibItems.push(_objectSpread(_objectSpread({},libItem),{},{error:error}));});if(!isError){_context3.next=9;break;}setClonedLibItems(erroredLibItems);setIsSubmitting(false);return _context3.abrupt(\"return\");case 9:_context3.next=11;return generatePreviewImage(clonedLibItems);case 11:previewImage=_context3.sent;libContent={type:EXPORT_DATA_TYPES.excalidrawLibrary,version:VERSIONS.excalidrawLibrary,source:EXPORT_SOURCE,libraryItems:clonedLibItems};content=JSON.stringify(libContent,null,2);lib=new Blob([content],{type:\"application/json\"});formData=new FormData();formData.append(\"excalidrawLib\",lib);formData.append(\"previewImage\",previewImage);formData.append(\"previewImageType\",previewImage.type);formData.append(\"title\",libraryData.name);formData.append(\"authorName\",libraryData.authorName);formData.append(\"githubHandle\",libraryData.githubHandle);formData.append(\"name\",libraryData.name);formData.append(\"description\",libraryData.description);formData.append(\"twitterHandle\",libraryData.twitterHandle);formData.append(\"website\",libraryData.website);fetch(\"\".concat(process.env.REACT_APP_LIBRARY_BACKEND,\"/submit\"),{method:\"post\",body:formData}).then(function(response){if(response.ok){return response.json().then(function(_ref6){var url=_ref6.url;// flush data from local storage\nlocalStorage.removeItem(LOCAL_STORAGE_KEY_PUBLISH_LIBRARY);onSuccess({url:url,authorName:libraryData.authorName,items:clonedLibItems});});}return response.json().catch(function(){throw new Error(response.statusText||\"something went wrong\");}).then(function(error){throw new Error(error.message||response.statusText||\"something went wrong\");});},function(err){console.error(err);onError(err);setIsSubmitting(false);}).catch(function(err){console.error(err);onError(err);setIsSubmitting(false);});case 27:case\"end\":return _context3.stop();}},_callee3);}));return function onSubmit(_x2){return _ref5.apply(this,arguments);};}();var renderLibraryItems=function renderLibraryItems(){var items=[];clonedLibItems.forEach(function(libItem,index){items.push(/*#__PURE__*/_jsx(\"div\",{className:\"single-library-item-wrapper\",children:/*#__PURE__*/_jsx(SingleLibraryItem,{libItem:libItem,appState:appState,index:index,onChange:function onChange(val,index){var items=clonedLibItems.slice();items[index].name=val;setClonedLibItems(items);},onRemove:onRemove})},index));});return/*#__PURE__*/_jsx(\"div\",{className:\"selected-library-items\",children:items});};var onDialogClose=useCallback(function(){updateItemsInStorage(clonedLibItems);savePublishLibDataToStorage(libraryData);onClose();},[clonedLibItems,onClose,updateItemsInStorage,libraryData]);var shouldRenderForm=!!libraryItems.length;var containsPublishedItems=libraryItems.some(function(item){return item.status===\"published\";});return/*#__PURE__*/_jsx(Dialog,{onCloseRequest:onDialogClose,title:t(\"publishDialog.title\"),className:\"publish-library\",children:shouldRenderForm?/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"publish-library-note\",children:/*#__PURE__*/_jsx(Trans,{i18nKey:\"publishDialog.noteDescription\",link:function link(el){return/*#__PURE__*/_jsx(\"a\",{href:\"https://libraries.excalidraw.com\",target:\"_blank\",rel:\"noopener noreferrer\",children:el});}})}),/*#__PURE__*/_jsx(\"span\",{className:\"publish-library-note\",children:/*#__PURE__*/_jsx(Trans,{i18nKey:\"publishDialog.noteGuidelines\",link:function link(el){return/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/excalidraw/excalidraw-libraries#guidelines\",target:\"_blank\",rel:\"noopener noreferrer\",children:el});}})}),/*#__PURE__*/_jsx(\"div\",{className:\"publish-library-note\",children:t(\"publishDialog.noteItems\")}),containsPublishedItems&&/*#__PURE__*/_jsx(\"span\",{className:\"publish-library-note publish-library-warning\",children:t(\"publishDialog.republishWarning\")}),renderLibraryItems(),/*#__PURE__*/_jsxs(\"div\",{className:\"publish-library__fields\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:t(\"publishDialog.libraryName\")}),/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",required:true,value:libraryData.name,onChange:onInputChange,placeholder:t(\"publishDialog.placeholder.libraryName\")})]}),/*#__PURE__*/_jsxs(\"label\",{style:{alignItems:\"flex-start\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:t(\"publishDialog.libraryDesc\")}),/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",rows:4,required:true,value:libraryData.description,onChange:onInputChange,placeholder:t(\"publishDialog.placeholder.libraryDesc\")})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:t(\"publishDialog.authorName\")}),/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"authorName\",required:true,value:libraryData.authorName,onChange:onInputChange,placeholder:t(\"publishDialog.placeholder.authorName\")})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:t(\"publishDialog.githubUsername\")}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"githubHandle\",value:libraryData.githubHandle,onChange:onInputChange,placeholder:t(\"publishDialog.placeholder.githubHandle\")})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:t(\"publishDialog.twitterUsername\")}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"twitterHandle\",value:libraryData.twitterHandle,onChange:onInputChange,placeholder:t(\"publishDialog.placeholder.twitterHandle\")})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:t(\"publishDialog.website\")}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"website\",pattern:\"https?://.+\",title:t(\"publishDialog.errors.website\"),value:libraryData.website,onChange:onInputChange,placeholder:t(\"publishDialog.placeholder.website\")})]}),/*#__PURE__*/_jsx(\"span\",{className:\"publish-library-note\",children:/*#__PURE__*/_jsx(Trans,{i18nKey:\"publishDialog.noteLicense\",link:function link(el){return/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE\",target:\"_blank\",rel:\"noopener noreferrer\",children:el});}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"publish-library__buttons\",children:[/*#__PURE__*/_jsx(DialogActionButton,{label:t(\"buttons.cancel\"),onClick:onDialogClose,\"data-testid\":\"cancel-clear-canvas-button\"}),/*#__PURE__*/_jsx(DialogActionButton,{type:\"submit\",label:t(\"buttons.submit\"),actionType:\"primary\",isLoading:isSubmitting})]})]}):/*#__PURE__*/_jsx(\"p\",{style:{padding:\"1em\",textAlign:\"center\",fontWeight:500},children:t(\"publishDialog.atleastOneLibItem\")})});};export default PublishLibrary;","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","OpenColor","Dialog","t","Trans","exportToCanvas","exportToSvg","EXPORT_DATA_TYPES","EXPORT_SOURCE","MIME_TYPES","VERSIONS","canvasToBlob","resizeImageFile","chunk","DialogActionButton","CloseIcon","ToolButton","jsx","_jsx","jsxs","_jsxs","LOCAL_STORAGE_KEY_PUBLISH_LIBRARY","savePublishLibDataToStorage","data","localStorage","setItem","JSON","stringify","error","console","importPublishLibDataFromStorage","getItem","parse","generatePreviewImage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","libraryItems","MAX_ITEMS_PER_ROW","BOX_SIZE","BOX_PADDING","BORDER_WIDTH","rows","canvas","ctx","_iterator","_step","_step$value","index","item","itemCanvas","width","height","rowOffset","colOffset","wrap","_callee$","_context","prev","next","Math","round","max","document","createElement","length","getContext","fillStyle","white","fillRect","_createForOfIteratorHelper","entries","s","n","done","_slicedToArray","value","elements","files","maxWidthOrHeight","sent","floor","drawImage","lineWidth","strokeStyle","gray","strokeRect","t0","e","f","finish","t1","t2","File","t3","t4","t5","type","png","t6","t7","outputType","jpg","abrupt","stop","_x","apply","arguments","SingleLibraryItem","_ref2","libItem","appState","onChange","onRemove","svgRef","inputRef","node","current","_callee2","svg","_callee2$","_context2","_objectSpread","viewBackgroundColor","exportBackground","innerHTML","outerHTML","className","children","status","ref","icon","onClick","bind","id","title","style","display","margin","fontSize","fontWeight","flexDirection","justifyContent","padding","color","defaultValue","name","placeholder","event","target","PublishLibrary","_ref4","onClose","onSuccess","onError","updateItemsInStorage","_useState","authorName","githubHandle","description","twitterHandle","website","_useState2","libraryData","setLibraryData","_useState3","_useState4","isSubmitting","setIsSubmitting","_useState5","slice","_useState6","clonedLibItems","setClonedLibItems","onInputChange","_defineProperty","onSubmit","_ref5","_callee3","erroredLibItems","isError","previewImage","libContent","content","lib","formData","_callee3$","_context3","preventDefault","forEach","push","excalidrawLibrary","version","source","Blob","FormData","append","fetch","concat","process","env","REACT_APP_LIBRARY_BACKEND","method","body","then","response","ok","json","_ref6","url","removeItem","items","catch","Error","statusText","message","err","_x2","renderLibraryItems","val","onDialogClose","shouldRenderForm","containsPublishedItems","some","onCloseRequest","i18nKey","link","el","href","rel","required","alignItems","pattern","label","actionType","isLoading","textAlign"],"sources":["D:/project/excalidraw-cn/src/components/PublishLibrary.tsx"],"sourcesContent":["import { ReactNode, useCallback, useEffect, useRef, useState } from \"react\";\nimport OpenColor from \"open-color\";\n\nimport { Dialog } from \"./Dialog\";\nimport { t } from \"../i18n\";\nimport Trans from \"./Trans\";\n\nimport { LibraryItems, LibraryItem, UIAppState } from \"../types\";\nimport { exportToCanvas, exportToSvg } from \"../packages/utils\";\nimport {\n  EXPORT_DATA_TYPES,\n  EXPORT_SOURCE,\n  MIME_TYPES,\n  VERSIONS,\n} from \"../constants\";\nimport { ExportedLibraryData } from \"../data/types\";\nimport { canvasToBlob, resizeImageFile } from \"../data/blob\";\nimport { chunk } from \"../utils\";\nimport DialogActionButton from \"./DialogActionButton\";\nimport { CloseIcon } from \"./icons\";\nimport { ToolButton } from \"./ToolButton\";\n\nimport \"./PublishLibrary.scss\";\n\ninterface PublishLibraryDataParams {\n  authorName: string;\n  githubHandle: string;\n  name: string;\n  description: string;\n  twitterHandle: string;\n  website: string;\n}\n\nconst LOCAL_STORAGE_KEY_PUBLISH_LIBRARY = \"publish-library-data\";\n\nconst savePublishLibDataToStorage = (data: PublishLibraryDataParams) => {\n  try {\n    localStorage.setItem(\n      LOCAL_STORAGE_KEY_PUBLISH_LIBRARY,\n      JSON.stringify(data),\n    );\n  } catch (error: any) {\n    // Unable to access window.localStorage\n    console.error(error);\n  }\n};\n\nconst importPublishLibDataFromStorage = () => {\n  try {\n    const data = localStorage.getItem(LOCAL_STORAGE_KEY_PUBLISH_LIBRARY);\n    if (data) {\n      return JSON.parse(data);\n    }\n  } catch (error: any) {\n    // Unable to access localStorage\n    console.error(error);\n  }\n\n  return null;\n};\n\nconst generatePreviewImage = async (libraryItems: LibraryItems) => {\n  const MAX_ITEMS_PER_ROW = 6;\n  const BOX_SIZE = 128;\n  const BOX_PADDING = Math.round(BOX_SIZE / 16);\n  const BORDER_WIDTH = Math.max(Math.round(BOX_SIZE / 64), 2);\n\n  const rows = chunk(libraryItems, MAX_ITEMS_PER_ROW);\n\n  const canvas = document.createElement(\"canvas\");\n\n  canvas.width =\n    rows[0].length * BOX_SIZE +\n    (rows[0].length + 1) * (BOX_PADDING * 2) -\n    BOX_PADDING * 2;\n  canvas.height =\n    rows.length * BOX_SIZE +\n    (rows.length + 1) * (BOX_PADDING * 2) -\n    BOX_PADDING * 2;\n\n  const ctx = canvas.getContext(\"2d\")!;\n\n  ctx.fillStyle = OpenColor.white;\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  // draw items\n  // ---------------------------------------------------------------------------\n  for (const [index, item] of libraryItems.entries()) {\n    const itemCanvas = await exportToCanvas({\n      elements: item.elements,\n      files: null,\n      maxWidthOrHeight: BOX_SIZE,\n    });\n\n    const { width, height } = itemCanvas;\n\n    // draw item\n    // -------------------------------------------------------------------------\n    const rowOffset =\n      Math.floor(index / MAX_ITEMS_PER_ROW) * (BOX_SIZE + BOX_PADDING * 2);\n    const colOffset =\n      (index % MAX_ITEMS_PER_ROW) * (BOX_SIZE + BOX_PADDING * 2);\n\n    ctx.drawImage(\n      itemCanvas,\n      colOffset + (BOX_SIZE - width) / 2 + BOX_PADDING,\n      rowOffset + (BOX_SIZE - height) / 2 + BOX_PADDING,\n    );\n\n    // draw item border\n    // -------------------------------------------------------------------------\n    ctx.lineWidth = BORDER_WIDTH;\n    ctx.strokeStyle = OpenColor.gray[4];\n    ctx.strokeRect(\n      colOffset + BOX_PADDING / 2,\n      rowOffset + BOX_PADDING / 2,\n      BOX_SIZE + BOX_PADDING,\n      BOX_SIZE + BOX_PADDING,\n    );\n  }\n\n  return await resizeImageFile(\n    new File([await canvasToBlob(canvas)], \"preview\", { type: MIME_TYPES.png }),\n    {\n      outputType: MIME_TYPES.jpg,\n      maxWidthOrHeight: 5000,\n    },\n  );\n};\n\nconst SingleLibraryItem = ({\n  libItem,\n  appState,\n  index,\n  onChange,\n  onRemove,\n}: {\n  libItem: LibraryItem;\n  appState: UIAppState;\n  index: number;\n  onChange: (val: string, index: number) => void;\n  onRemove: (id: string) => void;\n}) => {\n  const svgRef = useRef<HTMLDivElement | null>(null);\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    const node = svgRef.current;\n    if (!node) {\n      return;\n    }\n    (async () => {\n      const svg = await exportToSvg({\n        elements: libItem.elements,\n        appState: {\n          ...appState,\n          viewBackgroundColor: OpenColor.white,\n          exportBackground: true,\n        },\n        files: null,\n      });\n      node.innerHTML = svg.outerHTML;\n    })();\n  }, [libItem.elements, appState]);\n\n  return (\n    <div className=\"single-library-item\">\n      {libItem.status === \"published\" && (\n        <span className=\"single-library-item-status\">\n          {t(\"labels.statusPublished\")}\n        </span>\n      )}\n      <div ref={svgRef} className=\"single-library-item__svg\" />\n      <ToolButton\n        aria-label={t(\"buttons.remove\")}\n        type=\"button\"\n        icon={CloseIcon}\n        className=\"single-library-item--remove\"\n        onClick={onRemove.bind(null, libItem.id)}\n        title={t(\"buttons.remove\")}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          margin: \"0.8rem 0\",\n          width: \"100%\",\n          fontSize: \"14px\",\n          fontWeight: 500,\n          flexDirection: \"column\",\n        }}\n      >\n        <label\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            flexDirection: \"column\",\n          }}\n        >\n          <div style={{ padding: \"0.5em 0\" }}>\n            <span style={{ fontWeight: 500, color: OpenColor.gray[6] }}>\n              {t(\"publishDialog.itemName\")}\n            </span>\n            <span aria-hidden=\"true\" className=\"required\">\n              *\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            ref={inputRef}\n            style={{ width: \"80%\", padding: \"0.2rem\" }}\n            defaultValue={libItem.name}\n            placeholder=\"Item name\"\n            onChange={(event) => {\n              onChange(event.target.value, index);\n            }}\n          />\n        </label>\n        <span className=\"error\">{libItem.error}</span>\n      </div>\n    </div>\n  );\n};\n\nconst PublishLibrary = ({\n  onClose,\n  libraryItems,\n  appState,\n  onSuccess,\n  onError,\n  updateItemsInStorage,\n  onRemove,\n}: {\n  onClose: () => void;\n  libraryItems: LibraryItems;\n  appState: UIAppState;\n  onSuccess: (data: {\n    url: string;\n    authorName: string;\n    items: LibraryItems;\n  }) => void;\n\n  onError: (error: Error) => void;\n  updateItemsInStorage: (items: LibraryItems) => void;\n  onRemove: (id: string) => void;\n}) => {\n  const [libraryData, setLibraryData] = useState<PublishLibraryDataParams>({\n    authorName: \"\",\n    githubHandle: \"\",\n    name: \"\",\n    description: \"\",\n    twitterHandle: \"\",\n    website: \"\",\n  });\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    const data = importPublishLibDataFromStorage();\n    if (data) {\n      setLibraryData(data);\n    }\n  }, []);\n\n  const [clonedLibItems, setClonedLibItems] = useState<LibraryItems>(\n    libraryItems.slice(),\n  );\n\n  useEffect(() => {\n    setClonedLibItems(libraryItems.slice());\n  }, [libraryItems]);\n\n  const onInputChange = (event: any) => {\n    setLibraryData({\n      ...libraryData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setIsSubmitting(true);\n    const erroredLibItems: LibraryItem[] = [];\n    let isError = false;\n    clonedLibItems.forEach((libItem) => {\n      let error = \"\";\n      if (!libItem.name) {\n        error = t(\"publishDialog.errors.required\");\n        isError = true;\n      }\n      erroredLibItems.push({ ...libItem, error });\n    });\n\n    if (isError) {\n      setClonedLibItems(erroredLibItems);\n      setIsSubmitting(false);\n      return;\n    }\n\n    const previewImage = await generatePreviewImage(clonedLibItems);\n\n    const libContent: ExportedLibraryData = {\n      type: EXPORT_DATA_TYPES.excalidrawLibrary,\n      version: VERSIONS.excalidrawLibrary,\n      source: EXPORT_SOURCE,\n      libraryItems: clonedLibItems,\n    };\n    const content = JSON.stringify(libContent, null, 2);\n    const lib = new Blob([content], { type: \"application/json\" });\n\n    const formData = new FormData();\n    formData.append(\"excalidrawLib\", lib);\n    formData.append(\"previewImage\", previewImage);\n    formData.append(\"previewImageType\", previewImage.type);\n    formData.append(\"title\", libraryData.name);\n    formData.append(\"authorName\", libraryData.authorName);\n    formData.append(\"githubHandle\", libraryData.githubHandle);\n    formData.append(\"name\", libraryData.name);\n    formData.append(\"description\", libraryData.description);\n    formData.append(\"twitterHandle\", libraryData.twitterHandle);\n    formData.append(\"website\", libraryData.website);\n\n    fetch(`${process.env.REACT_APP_LIBRARY_BACKEND}/submit`, {\n      method: \"post\",\n      body: formData,\n    })\n      .then(\n        (response) => {\n          if (response.ok) {\n            return response.json().then(({ url }) => {\n              // flush data from local storage\n              localStorage.removeItem(LOCAL_STORAGE_KEY_PUBLISH_LIBRARY);\n              onSuccess({\n                url,\n                authorName: libraryData.authorName,\n                items: clonedLibItems,\n              });\n            });\n          }\n          return response\n            .json()\n            .catch(() => {\n              throw new Error(response.statusText || \"something went wrong\");\n            })\n            .then((error) => {\n              throw new Error(\n                error.message || response.statusText || \"something went wrong\",\n              );\n            });\n        },\n        (err) => {\n          console.error(err);\n          onError(err);\n          setIsSubmitting(false);\n        },\n      )\n      .catch((err) => {\n        console.error(err);\n        onError(err);\n        setIsSubmitting(false);\n      });\n  };\n\n  const renderLibraryItems = () => {\n    const items: ReactNode[] = [];\n    clonedLibItems.forEach((libItem, index) => {\n      items.push(\n        <div className=\"single-library-item-wrapper\" key={index}>\n          <SingleLibraryItem\n            libItem={libItem}\n            appState={appState}\n            index={index}\n            onChange={(val, index) => {\n              const items = clonedLibItems.slice();\n              items[index].name = val;\n              setClonedLibItems(items);\n            }}\n            onRemove={onRemove}\n          />\n        </div>,\n      );\n    });\n    return <div className=\"selected-library-items\">{items}</div>;\n  };\n\n  const onDialogClose = useCallback(() => {\n    updateItemsInStorage(clonedLibItems);\n    savePublishLibDataToStorage(libraryData);\n    onClose();\n  }, [clonedLibItems, onClose, updateItemsInStorage, libraryData]);\n\n  const shouldRenderForm = !!libraryItems.length;\n\n  const containsPublishedItems = libraryItems.some(\n    (item) => item.status === \"published\",\n  );\n\n  return (\n    <Dialog\n      onCloseRequest={onDialogClose}\n      title={t(\"publishDialog.title\")}\n      className=\"publish-library\"\n    >\n      {shouldRenderForm ? (\n        <form onSubmit={onSubmit}>\n          <div className=\"publish-library-note\">\n            <Trans\n              i18nKey=\"publishDialog.noteDescription\"\n              link={(el) => (\n                <a\n                  href=\"https://libraries.excalidraw.com\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {el}\n                </a>\n              )}\n            />\n          </div>\n          <span className=\"publish-library-note\">\n            <Trans\n              i18nKey=\"publishDialog.noteGuidelines\"\n              link={(el) => (\n                <a\n                  href=\"https://github.com/excalidraw/excalidraw-libraries#guidelines\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {el}\n                </a>\n              )}\n            />\n          </span>\n\n          <div className=\"publish-library-note\">\n            {t(\"publishDialog.noteItems\")}\n          </div>\n          {containsPublishedItems && (\n            <span className=\"publish-library-note publish-library-warning\">\n              {t(\"publishDialog.republishWarning\")}\n            </span>\n          )}\n          {renderLibraryItems()}\n          <div className=\"publish-library__fields\">\n            <label>\n              <div>\n                <span>{t(\"publishDialog.libraryName\")}</span>\n                <span aria-hidden=\"true\" className=\"required\">\n                  *\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                name=\"name\"\n                required\n                value={libraryData.name}\n                onChange={onInputChange}\n                placeholder={t(\"publishDialog.placeholder.libraryName\")}\n              />\n            </label>\n            <label style={{ alignItems: \"flex-start\" }}>\n              <div>\n                <span>{t(\"publishDialog.libraryDesc\")}</span>\n                <span aria-hidden=\"true\" className=\"required\">\n                  *\n                </span>\n              </div>\n              <textarea\n                name=\"description\"\n                rows={4}\n                required\n                value={libraryData.description}\n                onChange={onInputChange}\n                placeholder={t(\"publishDialog.placeholder.libraryDesc\")}\n              />\n            </label>\n            <label>\n              <div>\n                <span>{t(\"publishDialog.authorName\")}</span>\n                <span aria-hidden=\"true\" className=\"required\">\n                  *\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                name=\"authorName\"\n                required\n                value={libraryData.authorName}\n                onChange={onInputChange}\n                placeholder={t(\"publishDialog.placeholder.authorName\")}\n              />\n            </label>\n            <label>\n              <span>{t(\"publishDialog.githubUsername\")}</span>\n              <input\n                type=\"text\"\n                name=\"githubHandle\"\n                value={libraryData.githubHandle}\n                onChange={onInputChange}\n                placeholder={t(\"publishDialog.placeholder.githubHandle\")}\n              />\n            </label>\n            <label>\n              <span>{t(\"publishDialog.twitterUsername\")}</span>\n              <input\n                type=\"text\"\n                name=\"twitterHandle\"\n                value={libraryData.twitterHandle}\n                onChange={onInputChange}\n                placeholder={t(\"publishDialog.placeholder.twitterHandle\")}\n              />\n            </label>\n            <label>\n              <span>{t(\"publishDialog.website\")}</span>\n              <input\n                type=\"text\"\n                name=\"website\"\n                pattern=\"https?://.+\"\n                title={t(\"publishDialog.errors.website\")}\n                value={libraryData.website}\n                onChange={onInputChange}\n                placeholder={t(\"publishDialog.placeholder.website\")}\n              />\n            </label>\n            <span className=\"publish-library-note\">\n              <Trans\n                i18nKey=\"publishDialog.noteLicense\"\n                link={(el) => (\n                  <a\n                    href=\"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {el}\n                  </a>\n                )}\n              />\n            </span>\n          </div>\n          <div className=\"publish-library__buttons\">\n            <DialogActionButton\n              label={t(\"buttons.cancel\")}\n              onClick={onDialogClose}\n              data-testid=\"cancel-clear-canvas-button\"\n            />\n            <DialogActionButton\n              type=\"submit\"\n              label={t(\"buttons.submit\")}\n              actionType=\"primary\"\n              isLoading={isSubmitting}\n            />\n          </div>\n        </form>\n      ) : (\n        <p style={{ padding: \"1em\", textAlign: \"center\", fontWeight: 500 }}>\n          {t(\"publishDialog.atleastOneLibItem\")}\n        </p>\n      )}\n    </Dialog>\n  );\n};\n\nexport default PublishLibrary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}