{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\excalidraw-cn\\\\src\\\\components\\\\Modal.tsx\";\nimport \"./Modal.scss\";\nimport React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport clsx from \"clsx\";\nimport { KEYS } from \"../keys\";\nimport { useCreatePortalContainer } from \"../hooks/useCreatePortalContainer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Modal = props => {\n  const {\n    closeOnClickOutside = true\n  } = props;\n  const modalRoot = useCreatePortalContainer({\n    className: \"excalidraw-modal-container\"\n  });\n  if (!modalRoot) {\n    return null;\n  }\n  const handleKeydown = event => {\n    if (event.key === KEYS.ESCAPE) {\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n      props.onCloseRequest();\n    }\n  };\n  return /*#__PURE__*/createPortal( /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(\"Modal\", props.className),\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    onKeyDown: handleKeydown,\n    \"aria-labelledby\": props.labelledBy,\n    \"data-prevent-outside-click\": true,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Modal__background\",\n      onClick: closeOnClickOutside ? props.onCloseRequest : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Modal__content\",\n      style: {\n        \"--max-width\": `${props.maxWidth}px`\n      },\n      tabIndex: 0,\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this), modalRoot);\n};","map":{"version":3,"names":["React","createPortal","clsx","KEYS","useCreatePortalContainer","jsxDEV","_jsxDEV","Modal","props","closeOnClickOutside","modalRoot","className","handleKeydown","event","key","ESCAPE","nativeEvent","stopImmediatePropagation","stopPropagation","onCloseRequest","role","onKeyDown","labelledBy","children","onClick","undefined","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","tabIndex"],"sources":["D:/project/excalidraw-cn/src/components/Modal.tsx"],"sourcesContent":["import \"./Modal.scss\";\n\nimport React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport clsx from \"clsx\";\nimport { KEYS } from \"../keys\";\nimport { AppState } from \"../types\";\nimport { useCreatePortalContainer } from \"../hooks/useCreatePortalContainer\";\n\nexport const Modal: React.FC<{\n  className?: string;\n  children: React.ReactNode;\n  maxWidth?: number;\n  onCloseRequest(): void;\n  labelledBy: string;\n  theme?: AppState[\"theme\"];\n  closeOnClickOutside?: boolean;\n}> = (props) => {\n  const { closeOnClickOutside = true } = props;\n  const modalRoot = useCreatePortalContainer({\n    className: \"excalidraw-modal-container\",\n  });\n\n  if (!modalRoot) {\n    return null;\n  }\n\n  const handleKeydown = (event: React.KeyboardEvent) => {\n    if (event.key === KEYS.ESCAPE) {\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n      props.onCloseRequest();\n    }\n  };\n\n  return createPortal(\n    <div\n      className={clsx(\"Modal\", props.className)}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      onKeyDown={handleKeydown}\n      aria-labelledby={props.labelledBy}\n      data-prevent-outside-click\n    >\n      <div\n        className=\"Modal__background\"\n        onClick={closeOnClickOutside ? props.onCloseRequest : undefined}\n      />\n      <div\n        className=\"Modal__content\"\n        style={{ \"--max-width\": `${props.maxWidth}px` }}\n        tabIndex={0}\n      >\n        {props.children}\n      </div>\n    </div>,\n    modalRoot,\n  );\n};\n"],"mappings":";AAAA,OAAO,cAAc;AAErB,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,WAAW;AACxC,OAAOC,IAAI,MAAM,MAAM;AACvB,SAASC,IAAI,QAAQ,SAAS;AAE9B,SAASC,wBAAwB,QAAQ,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7E,OAAO,MAAMC,KAQX,GAAIC,KAAK,IAAK;EACd,MAAM;IAAEC,mBAAmB,GAAG;EAAK,CAAC,GAAGD,KAAK;EAC5C,MAAME,SAAS,GAAGN,wBAAwB,CAAC;IACzCO,SAAS,EAAE;EACb,CAAC,CAAC;EAEF,IAAI,CAACD,SAAS,EAAE;IACd,OAAO,IAAI;EACb;EAEA,MAAME,aAAa,GAAIC,KAA0B,IAAK;IACpD,IAAIA,KAAK,CAACC,GAAG,KAAKX,IAAI,CAACY,MAAM,EAAE;MAC7BF,KAAK,CAACG,WAAW,CAACC,wBAAwB,EAAE;MAC5CJ,KAAK,CAACK,eAAe,EAAE;MACvBV,KAAK,CAACW,cAAc,EAAE;IACxB;EACF,CAAC;EAED,oBAAOlB,YAAY,eACjBK,OAAA;IACEK,SAAS,EAAET,IAAI,CAAC,OAAO,EAAEM,KAAK,CAACG,SAAS,CAAE;IAC1CS,IAAI,EAAC,QAAQ;IACb,cAAW,MAAM;IACjBC,SAAS,EAAET,aAAc;IACzB,mBAAiBJ,KAAK,CAACc,UAAW;IAClC,kCAA0B;IAAAC,QAAA,gBAE1BjB,OAAA;MACEK,SAAS,EAAC,mBAAmB;MAC7Ba,OAAO,EAAEf,mBAAmB,GAAGD,KAAK,CAACW,cAAc,GAAGM;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAChE,eACFvB,OAAA;MACEK,SAAS,EAAC,gBAAgB;MAC1BmB,KAAK,EAAE;QAAE,aAAa,EAAG,GAAEtB,KAAK,CAACuB,QAAS;MAAI,CAAE;MAChDC,QAAQ,EAAE,CAAE;MAAAT,QAAA,EAEXf,KAAK,CAACe;IAAQ;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACX;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACF,EACNnB,SAAS,CACV;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}