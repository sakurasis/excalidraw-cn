{"ast":null,"code":"import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{unstable_createStore,useAtom}from\"jotai\";import{useLayoutEffect}from\"react\";export var jotaiScope=Symbol();export var jotaiStore=unstable_createStore();export var useAtomWithInitialValue=function useAtomWithInitialValue(atom,initialValue){var _useAtom=useAtom(atom),_useAtom2=_slicedToArray(_useAtom,2),value=_useAtom2[0],setValue=_useAtom2[1];useLayoutEffect(function(){if(typeof initialValue===\"function\"){// @ts-ignore\nsetValue(initialValue());}else{setValue(initialValue);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return[value,setValue];};","map":{"version":3,"names":["unstable_createStore","useAtom","useLayoutEffect","jotaiScope","Symbol","jotaiStore","useAtomWithInitialValue","atom","initialValue","_useAtom","_useAtom2","_slicedToArray","value","setValue"],"sources":["D:/project/excalidraw-cn/src/jotai.ts"],"sourcesContent":["import { PrimitiveAtom, unstable_createStore, useAtom } from \"jotai\";\nimport { useLayoutEffect } from \"react\";\n\nexport const jotaiScope = Symbol();\nexport const jotaiStore = unstable_createStore();\n\nexport const useAtomWithInitialValue = <\n  T extends unknown,\n  A extends PrimitiveAtom<T>,\n>(\n  atom: A,\n  initialValue: T | (() => T),\n) => {\n  const [value, setValue] = useAtom(atom);\n\n  useLayoutEffect(() => {\n    if (typeof initialValue === \"function\") {\n      // @ts-ignore\n      setValue(initialValue());\n    } else {\n      setValue(initialValue);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return [value, setValue] as const;\n};\n"],"mappings":"8GAAA,OAAwBA,oBAAoB,CAAEC,OAAO,KAAQ,OAAO,CACpE,OAASC,eAAe,KAAQ,OAAO,CAEvC,MAAO,IAAM,CAAAC,UAAU,CAAGC,MAAM,EAAE,CAClC,MAAO,IAAM,CAAAC,UAAU,CAAGL,oBAAoB,EAAE,CAEhD,MAAO,IAAM,CAAAM,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAIlCC,IAAO,CACPC,YAA2B,CACxB,CACH,IAAAC,QAAA,CAA0BR,OAAO,CAACM,IAAI,CAAC,CAAAG,SAAA,CAAAC,cAAA,CAAAF,QAAA,IAAhCG,KAAK,CAAAF,SAAA,IAAEG,QAAQ,CAAAH,SAAA,IAEtBR,eAAe,CAAC,UAAM,CACpB,GAAI,MAAO,CAAAM,YAAY,GAAK,UAAU,CAAE,CACtC;AACAK,QAAQ,CAACL,YAAY,EAAE,CAAC,CAC1B,CAAC,IAAM,CACLK,QAAQ,CAACL,YAAY,CAAC,CACxB,CACA;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAACI,KAAK,CAAEC,QAAQ,CAAC,CAC1B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}