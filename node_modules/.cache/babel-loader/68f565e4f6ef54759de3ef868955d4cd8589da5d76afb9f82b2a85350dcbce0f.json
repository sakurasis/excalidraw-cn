{"ast":null,"code":"import { COLOR_PALETTE } from \"./colors\";\nimport { DEFAULT_ELEMENT_PROPS, DEFAULT_FONT_FAMILY, DEFAULT_FONT_SIZE, DEFAULT_TEXT_ALIGN, EXPORT_SCALES, THEME } from \"./constants\";\nimport { t } from \"./i18n\";\nimport { getDateTime } from \"./utils\";\nconst defaultExportScale = EXPORT_SCALES.includes(devicePixelRatio) ? devicePixelRatio : 1;\nexport const getDefaultAppState = () => {\n  return {\n    showWelcomeScreen: false,\n    theme: THEME.LIGHT,\n    collaborators: new Map(),\n    currentChartType: \"bar\",\n    currentItemBackgroundColor: DEFAULT_ELEMENT_PROPS.backgroundColor,\n    currentItemEndArrowhead: \"arrow\",\n    currentItemFillStyle: DEFAULT_ELEMENT_PROPS.fillStyle,\n    currentItemFontFamily: DEFAULT_FONT_FAMILY,\n    currentItemFontSize: DEFAULT_FONT_SIZE,\n    currentItemOpacity: DEFAULT_ELEMENT_PROPS.opacity,\n    currentItemRoughness: DEFAULT_ELEMENT_PROPS.roughness,\n    currentItemStartArrowhead: null,\n    currentItemStrokeColor: DEFAULT_ELEMENT_PROPS.strokeColor,\n    currentItemRoundness: \"round\",\n    currentItemStrokeStyle: DEFAULT_ELEMENT_PROPS.strokeStyle,\n    currentItemStrokeWidth: DEFAULT_ELEMENT_PROPS.strokeWidth,\n    currentItemTextAlign: DEFAULT_TEXT_ALIGN,\n    cursorButton: \"up\",\n    draggingElement: null,\n    editingElement: null,\n    editingGroupId: null,\n    editingLinearElement: null,\n    activeTool: {\n      type: \"selection\",\n      customType: null,\n      locked: DEFAULT_ELEMENT_PROPS.locked,\n      lastActiveTool: null\n    },\n    penMode: false,\n    penDetected: false,\n    errorMessage: null,\n    exportBackground: true,\n    exportScale: defaultExportScale,\n    exportEmbedScene: false,\n    exportWithDarkMode: false,\n    fileHandle: null,\n    gridSize: null,\n    isBindingEnabled: true,\n    defaultSidebarDockedPreference: false,\n    isLoading: false,\n    isResizing: false,\n    isRotating: false,\n    lastPointerDownWith: \"mouse\",\n    multiElement: null,\n    name: `${t(\"labels.untitled\")}-${getDateTime()}`,\n    contextMenu: null,\n    openMenu: null,\n    openPopup: null,\n    openSidebar: null,\n    openDialog: null,\n    pasteDialog: {\n      shown: false,\n      data: null\n    },\n    previousSelectedElementIds: {},\n    resizingElement: null,\n    scrolledOutside: false,\n    scrollX: 0,\n    scrollY: 0,\n    selectedElementIds: {},\n    selectedGroupIds: {},\n    selectedElementsAreBeingDragged: false,\n    selectionElement: null,\n    shouldCacheIgnoreZoom: false,\n    showStats: false,\n    startBoundElement: null,\n    suggestedBindings: [],\n    frameRendering: {\n      enabled: true,\n      clip: true,\n      name: true,\n      outline: true\n    },\n    frameToHighlight: null,\n    editingFrame: null,\n    elementsToHighlight: null,\n    toast: null,\n    viewBackgroundColor: COLOR_PALETTE.white,\n    zenModeEnabled: false,\n    zoom: {\n      value: 1\n    },\n    viewModeEnabled: false,\n    pendingImageElementId: null,\n    showHyperlinkPopup: false,\n    selectedLinearElement: null\n  };\n};\n\n/**\n * Config containing all AppState keys. Used to determine whether given state\n *  prop should be stripped when exporting to given storage type.\n */\nconst APP_STATE_STORAGE_CONF = (config => config)({\n  showWelcomeScreen: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  theme: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  collaborators: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  currentChartType: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemBackgroundColor: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemEndArrowhead: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemFillStyle: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemFontFamily: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemFontSize: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemRoundness: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemOpacity: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemRoughness: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemStartArrowhead: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemStrokeColor: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemStrokeStyle: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemStrokeWidth: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  currentItemTextAlign: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  cursorButton: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  draggingElement: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  editingElement: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  editingGroupId: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  editingLinearElement: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  activeTool: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  penMode: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  penDetected: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  errorMessage: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  exportBackground: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  exportEmbedScene: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  exportScale: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  exportWithDarkMode: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  fileHandle: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  gridSize: {\n    browser: true,\n    export: true,\n    server: true\n  },\n  height: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  isBindingEnabled: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  defaultSidebarDockedPreference: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  isLoading: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  isResizing: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  isRotating: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  lastPointerDownWith: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  multiElement: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  name: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  offsetLeft: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  offsetTop: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  contextMenu: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  openMenu: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  openPopup: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  openSidebar: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  openDialog: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  pasteDialog: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  previousSelectedElementIds: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  resizingElement: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  scrolledOutside: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  scrollX: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  scrollY: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  selectedElementIds: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  selectedGroupIds: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  selectedElementsAreBeingDragged: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  selectionElement: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  shouldCacheIgnoreZoom: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  showStats: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  startBoundElement: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  suggestedBindings: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  frameRendering: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  frameToHighlight: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  editingFrame: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  elementsToHighlight: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  toast: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  viewBackgroundColor: {\n    browser: true,\n    export: true,\n    server: true\n  },\n  width: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  zenModeEnabled: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  zoom: {\n    browser: true,\n    export: false,\n    server: false\n  },\n  viewModeEnabled: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  pendingImageElementId: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  showHyperlinkPopup: {\n    browser: false,\n    export: false,\n    server: false\n  },\n  selectedLinearElement: {\n    browser: true,\n    export: false,\n    server: false\n  }\n});\nconst _clearAppStateForStorage = (appState, exportType) => {\n  const stateForExport = {};\n  for (const key of Object.keys(appState)) {\n    const propConfig = APP_STATE_STORAGE_CONF[key];\n    if (propConfig !== null && propConfig !== void 0 && propConfig[exportType]) {\n      const nextValue = appState[key];\n\n      // https://github.com/microsoft/TypeScript/issues/31445\n      stateForExport[key] = nextValue;\n    }\n  }\n  return stateForExport;\n};\nexport const clearAppStateForLocalStorage = appState => {\n  return _clearAppStateForStorage(appState, \"browser\");\n};\nexport const cleanAppStateForExport = appState => {\n  return _clearAppStateForStorage(appState, \"export\");\n};\nexport const clearAppStateForDatabase = appState => {\n  return _clearAppStateForStorage(appState, \"server\");\n};\nexport const isEraserActive = _ref => {\n  let {\n    activeTool\n  } = _ref;\n  return activeTool.type === \"eraser\";\n};\nexport const isHandToolActive = _ref2 => {\n  let {\n    activeTool\n  } = _ref2;\n  return activeTool.type === \"hand\";\n};","map":{"version":3,"names":["COLOR_PALETTE","DEFAULT_ELEMENT_PROPS","DEFAULT_FONT_FAMILY","DEFAULT_FONT_SIZE","DEFAULT_TEXT_ALIGN","EXPORT_SCALES","THEME","t","getDateTime","defaultExportScale","includes","devicePixelRatio","getDefaultAppState","showWelcomeScreen","theme","LIGHT","collaborators","Map","currentChartType","currentItemBackgroundColor","backgroundColor","currentItemEndArrowhead","currentItemFillStyle","fillStyle","currentItemFontFamily","currentItemFontSize","currentItemOpacity","opacity","currentItemRoughness","roughness","currentItemStartArrowhead","currentItemStrokeColor","strokeColor","currentItemRoundness","currentItemStrokeStyle","strokeStyle","currentItemStrokeWidth","strokeWidth","currentItemTextAlign","cursorButton","draggingElement","editingElement","editingGroupId","editingLinearElement","activeTool","type","customType","locked","lastActiveTool","penMode","penDetected","errorMessage","exportBackground","exportScale","exportEmbedScene","exportWithDarkMode","fileHandle","gridSize","isBindingEnabled","defaultSidebarDockedPreference","isLoading","isResizing","isRotating","lastPointerDownWith","multiElement","name","contextMenu","openMenu","openPopup","openSidebar","openDialog","pasteDialog","shown","data","previousSelectedElementIds","resizingElement","scrolledOutside","scrollX","scrollY","selectedElementIds","selectedGroupIds","selectedElementsAreBeingDragged","selectionElement","shouldCacheIgnoreZoom","showStats","startBoundElement","suggestedBindings","frameRendering","enabled","clip","outline","frameToHighlight","editingFrame","elementsToHighlight","toast","viewBackgroundColor","white","zenModeEnabled","zoom","value","viewModeEnabled","pendingImageElementId","showHyperlinkPopup","selectedLinearElement","APP_STATE_STORAGE_CONF","config","browser","export","server","height","offsetLeft","offsetTop","width","_clearAppStateForStorage","appState","exportType","stateForExport","key","Object","keys","propConfig","nextValue","clearAppStateForLocalStorage","cleanAppStateForExport","clearAppStateForDatabase","isEraserActive","_ref","isHandToolActive","_ref2"],"sources":["D:/project/excalidraw-cn/src/appState.ts"],"sourcesContent":["import { COLOR_PALETTE } from \"./colors\";\nimport {\n  DEFAULT_ELEMENT_PROPS,\n  DEFAULT_FONT_FAMILY,\n  DEFAULT_FONT_SIZE,\n  DEFAULT_TEXT_ALIGN,\n  EXPORT_SCALES,\n  THEME,\n} from \"./constants\";\nimport { t } from \"./i18n\";\nimport { AppState, NormalizedZoomValue } from \"./types\";\nimport { getDateTime } from \"./utils\";\n\nconst defaultExportScale = EXPORT_SCALES.includes(devicePixelRatio)\n  ? devicePixelRatio\n  : 1;\n\nexport const getDefaultAppState = (): Omit<\n  AppState,\n  \"offsetTop\" | \"offsetLeft\" | \"width\" | \"height\"\n> => {\n  return {\n    showWelcomeScreen: false,\n    theme: THEME.LIGHT,\n    collaborators: new Map(),\n    currentChartType: \"bar\",\n    currentItemBackgroundColor: DEFAULT_ELEMENT_PROPS.backgroundColor,\n    currentItemEndArrowhead: \"arrow\",\n    currentItemFillStyle: DEFAULT_ELEMENT_PROPS.fillStyle,\n    currentItemFontFamily: DEFAULT_FONT_FAMILY,\n    currentItemFontSize: DEFAULT_FONT_SIZE,\n    currentItemOpacity: DEFAULT_ELEMENT_PROPS.opacity,\n    currentItemRoughness: DEFAULT_ELEMENT_PROPS.roughness,\n    currentItemStartArrowhead: null,\n    currentItemStrokeColor: DEFAULT_ELEMENT_PROPS.strokeColor,\n    currentItemRoundness: \"round\",\n    currentItemStrokeStyle: DEFAULT_ELEMENT_PROPS.strokeStyle,\n    currentItemStrokeWidth: DEFAULT_ELEMENT_PROPS.strokeWidth,\n    currentItemTextAlign: DEFAULT_TEXT_ALIGN,\n    cursorButton: \"up\",\n    draggingElement: null,\n    editingElement: null,\n    editingGroupId: null,\n    editingLinearElement: null,\n    activeTool: {\n      type: \"selection\",\n      customType: null,\n      locked: DEFAULT_ELEMENT_PROPS.locked,\n      lastActiveTool: null,\n    },\n    penMode: false,\n    penDetected: false,\n    errorMessage: null,\n    exportBackground: true,\n    exportScale: defaultExportScale,\n    exportEmbedScene: false,\n    exportWithDarkMode: false,\n    fileHandle: null,\n    gridSize: null,\n    isBindingEnabled: true,\n    defaultSidebarDockedPreference: false,\n    isLoading: false,\n    isResizing: false,\n    isRotating: false,\n    lastPointerDownWith: \"mouse\",\n    multiElement: null,\n    name: `${t(\"labels.untitled\")}-${getDateTime()}`,\n    contextMenu: null,\n    openMenu: null,\n    openPopup: null,\n    openSidebar: null,\n    openDialog: null,\n    pasteDialog: { shown: false, data: null },\n    previousSelectedElementIds: {},\n    resizingElement: null,\n    scrolledOutside: false,\n    scrollX: 0,\n    scrollY: 0,\n    selectedElementIds: {},\n    selectedGroupIds: {},\n    selectedElementsAreBeingDragged: false,\n    selectionElement: null,\n    shouldCacheIgnoreZoom: false,\n    showStats: false,\n    startBoundElement: null,\n    suggestedBindings: [],\n    frameRendering: { enabled: true, clip: true, name: true, outline: true },\n    frameToHighlight: null,\n    editingFrame: null,\n    elementsToHighlight: null,\n    toast: null,\n    viewBackgroundColor: COLOR_PALETTE.white,\n    zenModeEnabled: false,\n    zoom: {\n      value: 1 as NormalizedZoomValue,\n    },\n    viewModeEnabled: false,\n    pendingImageElementId: null,\n    showHyperlinkPopup: false,\n    selectedLinearElement: null,\n  };\n};\n\n/**\n * Config containing all AppState keys. Used to determine whether given state\n *  prop should be stripped when exporting to given storage type.\n */\nconst APP_STATE_STORAGE_CONF = (<\n  Values extends {\n    /** whether to keep when storing to browser storage (localStorage/IDB) */\n    browser: boolean;\n    /** whether to keep when exporting to file/database */\n    export: boolean;\n    /** server (shareLink/collab/...) */\n    server: boolean;\n  },\n  T extends Record<keyof AppState, Values>,\n>(config: { [K in keyof T]: K extends keyof AppState ? T[K] : never }) =>\n  config)({\n  showWelcomeScreen: { browser: true, export: false, server: false },\n  theme: { browser: true, export: false, server: false },\n  collaborators: { browser: false, export: false, server: false },\n  currentChartType: { browser: true, export: false, server: false },\n  currentItemBackgroundColor: { browser: true, export: false, server: false },\n  currentItemEndArrowhead: { browser: true, export: false, server: false },\n  currentItemFillStyle: { browser: true, export: false, server: false },\n  currentItemFontFamily: { browser: true, export: false, server: false },\n  currentItemFontSize: { browser: true, export: false, server: false },\n  currentItemRoundness: {\n    browser: true,\n    export: false,\n    server: false,\n  },\n  currentItemOpacity: { browser: true, export: false, server: false },\n  currentItemRoughness: { browser: true, export: false, server: false },\n  currentItemStartArrowhead: { browser: true, export: false, server: false },\n  currentItemStrokeColor: { browser: true, export: false, server: false },\n  currentItemStrokeStyle: { browser: true, export: false, server: false },\n  currentItemStrokeWidth: { browser: true, export: false, server: false },\n  currentItemTextAlign: { browser: true, export: false, server: false },\n  cursorButton: { browser: true, export: false, server: false },\n  draggingElement: { browser: false, export: false, server: false },\n  editingElement: { browser: false, export: false, server: false },\n  editingGroupId: { browser: true, export: false, server: false },\n  editingLinearElement: { browser: false, export: false, server: false },\n  activeTool: { browser: true, export: false, server: false },\n  penMode: { browser: true, export: false, server: false },\n  penDetected: { browser: true, export: false, server: false },\n  errorMessage: { browser: false, export: false, server: false },\n  exportBackground: { browser: true, export: false, server: false },\n  exportEmbedScene: { browser: true, export: false, server: false },\n  exportScale: { browser: true, export: false, server: false },\n  exportWithDarkMode: { browser: true, export: false, server: false },\n  fileHandle: { browser: false, export: false, server: false },\n  gridSize: { browser: true, export: true, server: true },\n  height: { browser: false, export: false, server: false },\n  isBindingEnabled: { browser: false, export: false, server: false },\n  defaultSidebarDockedPreference: {\n    browser: true,\n    export: false,\n    server: false,\n  },\n  isLoading: { browser: false, export: false, server: false },\n  isResizing: { browser: false, export: false, server: false },\n  isRotating: { browser: false, export: false, server: false },\n  lastPointerDownWith: { browser: true, export: false, server: false },\n  multiElement: { browser: false, export: false, server: false },\n  name: { browser: true, export: false, server: false },\n  offsetLeft: { browser: false, export: false, server: false },\n  offsetTop: { browser: false, export: false, server: false },\n  contextMenu: { browser: false, export: false, server: false },\n  openMenu: { browser: true, export: false, server: false },\n  openPopup: { browser: false, export: false, server: false },\n  openSidebar: { browser: true, export: false, server: false },\n  openDialog: { browser: false, export: false, server: false },\n  pasteDialog: { browser: false, export: false, server: false },\n  previousSelectedElementIds: { browser: true, export: false, server: false },\n  resizingElement: { browser: false, export: false, server: false },\n  scrolledOutside: { browser: true, export: false, server: false },\n  scrollX: { browser: true, export: false, server: false },\n  scrollY: { browser: true, export: false, server: false },\n  selectedElementIds: { browser: true, export: false, server: false },\n  selectedGroupIds: { browser: true, export: false, server: false },\n  selectedElementsAreBeingDragged: {\n    browser: false,\n    export: false,\n    server: false,\n  },\n  selectionElement: { browser: false, export: false, server: false },\n  shouldCacheIgnoreZoom: { browser: true, export: false, server: false },\n  showStats: { browser: true, export: false, server: false },\n  startBoundElement: { browser: false, export: false, server: false },\n  suggestedBindings: { browser: false, export: false, server: false },\n  frameRendering: { browser: false, export: false, server: false },\n  frameToHighlight: { browser: false, export: false, server: false },\n  editingFrame: { browser: false, export: false, server: false },\n  elementsToHighlight: { browser: false, export: false, server: false },\n  toast: { browser: false, export: false, server: false },\n  viewBackgroundColor: { browser: true, export: true, server: true },\n  width: { browser: false, export: false, server: false },\n  zenModeEnabled: { browser: true, export: false, server: false },\n  zoom: { browser: true, export: false, server: false },\n  viewModeEnabled: { browser: false, export: false, server: false },\n  pendingImageElementId: { browser: false, export: false, server: false },\n  showHyperlinkPopup: { browser: false, export: false, server: false },\n  selectedLinearElement: { browser: true, export: false, server: false },\n});\n\nconst _clearAppStateForStorage = <\n  ExportType extends \"export\" | \"browser\" | \"server\",\n>(\n  appState: Partial<AppState>,\n  exportType: ExportType,\n) => {\n  type ExportableKeys = {\n    [K in keyof typeof APP_STATE_STORAGE_CONF]: typeof APP_STATE_STORAGE_CONF[K][ExportType] extends true\n      ? K\n      : never;\n  }[keyof typeof APP_STATE_STORAGE_CONF];\n  const stateForExport = {} as { [K in ExportableKeys]?: typeof appState[K] };\n  for (const key of Object.keys(appState) as (keyof typeof appState)[]) {\n    const propConfig = APP_STATE_STORAGE_CONF[key];\n    if (propConfig?.[exportType]) {\n      const nextValue = appState[key];\n\n      // https://github.com/microsoft/TypeScript/issues/31445\n      (stateForExport as any)[key] = nextValue;\n    }\n  }\n  return stateForExport;\n};\n\nexport const clearAppStateForLocalStorage = (appState: Partial<AppState>) => {\n  return _clearAppStateForStorage(appState, \"browser\");\n};\n\nexport const cleanAppStateForExport = (appState: Partial<AppState>) => {\n  return _clearAppStateForStorage(appState, \"export\");\n};\n\nexport const clearAppStateForDatabase = (appState: Partial<AppState>) => {\n  return _clearAppStateForStorage(appState, \"server\");\n};\n\nexport const isEraserActive = ({\n  activeTool,\n}: {\n  activeTool: AppState[\"activeTool\"];\n}) => activeTool.type === \"eraser\";\n\nexport const isHandToolActive = ({\n  activeTool,\n}: {\n  activeTool: AppState[\"activeTool\"];\n}) => {\n  return activeTool.type === \"hand\";\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}