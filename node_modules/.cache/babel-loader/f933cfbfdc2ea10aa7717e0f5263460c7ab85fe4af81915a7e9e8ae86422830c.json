{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\excalidraw-cn\\\\src\\\\components\\\\ProjectName.tsx\";\nimport \"./TextInput.scss\";\nimport React, { useState } from \"react\";\nimport { focusNearestParent } from \"../utils\";\nimport \"./ProjectName.scss\";\nimport { useExcalidrawContainer } from \"./App\";\nimport { KEYS } from \"../keys\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProjectName = props => {\n  const {\n    id\n  } = useExcalidrawContainer();\n  const [fileName, setFileName] = useState(props.value);\n  const handleBlur = event => {\n    if (!props.ignoreFocus) {\n      focusNearestParent(event.target);\n    }\n    const value = event.target.value;\n    if (value !== props.value) {\n      props.onChange(value);\n    }\n  };\n  const handleKeyDown = event => {\n    if (event.key === KEYS.ENTER) {\n      event.preventDefault();\n      if (event.nativeEvent.isComposing || event.keyCode === 229) {\n        return;\n      }\n      event.currentTarget.blur();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ProjectName\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"ProjectName-label\",\n      htmlFor: \"filename\",\n      children: `${props.label}${props.isNameEditable ? \"\" : \":\"}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), props.isNameEditable ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"TextInput\",\n      onBlur: handleBlur,\n      onKeyDown: handleKeyDown,\n      id: `${id}-filename`,\n      value: fileName,\n      onChange: event => setFileName(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"TextInput TextInput--readonly\",\n      id: `${id}-filename`,\n      children: props.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};","map":{"version":3,"names":["React","useState","focusNearestParent","useExcalidrawContainer","KEYS","jsxDEV","_jsxDEV","ProjectName","props","id","fileName","setFileName","value","handleBlur","event","ignoreFocus","target","onChange","handleKeyDown","key","ENTER","preventDefault","nativeEvent","isComposing","keyCode","currentTarget","blur","className","children","htmlFor","label","isNameEditable","_jsxFileName","lineNumber","columnNumber","type","onBlur","onKeyDown"],"sources":["D:/project/excalidraw-cn/src/components/ProjectName.tsx"],"sourcesContent":["import \"./TextInput.scss\";\n\nimport React, { useState } from \"react\";\nimport { focusNearestParent } from \"../utils\";\n\nimport \"./ProjectName.scss\";\nimport { useExcalidrawContainer } from \"./App\";\nimport { KEYS } from \"../keys\";\n\ntype Props = {\n  value: string;\n  onChange: (value: string) => void;\n  label: string;\n  isNameEditable: boolean;\n  ignoreFocus?: boolean;\n};\n\nexport const ProjectName = (props: Props) => {\n  const { id } = useExcalidrawContainer();\n  const [fileName, setFileName] = useState<string>(props.value);\n\n  const handleBlur = (event: any) => {\n    if (!props.ignoreFocus) {\n      focusNearestParent(event.target);\n    }\n    const value = event.target.value;\n    if (value !== props.value) {\n      props.onChange(value);\n    }\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLElement>) => {\n    if (event.key === KEYS.ENTER) {\n      event.preventDefault();\n      if (event.nativeEvent.isComposing || event.keyCode === 229) {\n        return;\n      }\n      event.currentTarget.blur();\n    }\n  };\n\n  return (\n    <div className=\"ProjectName\">\n      <label className=\"ProjectName-label\" htmlFor=\"filename\">\n        {`${props.label}${props.isNameEditable ? \"\" : \":\"}`}\n      </label>\n      {props.isNameEditable ? (\n        <input\n          type=\"text\"\n          className=\"TextInput\"\n          onBlur={handleBlur}\n          onKeyDown={handleKeyDown}\n          id={`${id}-filename`}\n          value={fileName}\n          onChange={(event) => setFileName(event.target.value)}\n        />\n      ) : (\n        <span className=\"TextInput TextInput--readonly\" id={`${id}-filename`}>\n          {props.value}\n        </span>\n      )}\n    </div>\n  );\n};\n"],"mappings":";AAAA,OAAO,kBAAkB;AAEzB,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,kBAAkB,QAAQ,UAAU;AAE7C,OAAO,oBAAoB;AAC3B,SAASC,sBAAsB,QAAQ,OAAO;AAC9C,SAASC,IAAI,QAAQ,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAU/B,OAAO,MAAMC,WAAW,GAAIC,KAAY,IAAK;EAC3C,MAAM;IAAEC;EAAG,CAAC,GAAGN,sBAAsB,EAAE;EACvC,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAASO,KAAK,CAACI,KAAK,CAAC;EAE7D,MAAMC,UAAU,GAAIC,KAAU,IAAK;IACjC,IAAI,CAACN,KAAK,CAACO,WAAW,EAAE;MACtBb,kBAAkB,CAACY,KAAK,CAACE,MAAM,CAAC;IAClC;IACA,MAAMJ,KAAK,GAAGE,KAAK,CAACE,MAAM,CAACJ,KAAK;IAChC,IAAIA,KAAK,KAAKJ,KAAK,CAACI,KAAK,EAAE;MACzBJ,KAAK,CAACS,QAAQ,CAACL,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMM,aAAa,GAAIJ,KAAuC,IAAK;IACjE,IAAIA,KAAK,CAACK,GAAG,KAAKf,IAAI,CAACgB,KAAK,EAAE;MAC5BN,KAAK,CAACO,cAAc,EAAE;MACtB,IAAIP,KAAK,CAACQ,WAAW,CAACC,WAAW,IAAIT,KAAK,CAACU,OAAO,KAAK,GAAG,EAAE;QAC1D;MACF;MACAV,KAAK,CAACW,aAAa,CAACC,IAAI,EAAE;IAC5B;EACF,CAAC;EAED,oBACEpB,OAAA;IAAKqB,SAAS,EAAC,aAAa;IAAAC,QAAA,gBAC1BtB,OAAA;MAAOqB,SAAS,EAAC,mBAAmB;MAACE,OAAO,EAAC,UAAU;MAAAD,QAAA,EACnD,GAAEpB,KAAK,CAACsB,KAAM,GAAEtB,KAAK,CAACuB,cAAc,GAAG,EAAE,GAAG,GAAI;IAAC;MAAArB,QAAA,EAAAsB,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAC7C,EACP1B,KAAK,CAACuB,cAAc,gBACnBzB,OAAA;MACE6B,IAAI,EAAC,MAAM;MACXR,SAAS,EAAC,WAAW;MACrBS,MAAM,EAAEvB,UAAW;MACnBwB,SAAS,EAAEnB,aAAc;MACzBT,EAAE,EAAG,GAAEA,EAAG,WAAW;MACrBG,KAAK,EAAEF,QAAS;MAChBO,QAAQ,EAAGH,KAAK,IAAKH,WAAW,CAACG,KAAK,CAACE,MAAM,CAACJ,KAAK;IAAE;MAAAF,QAAA,EAAAsB,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACrD,gBAEF5B,OAAA;MAAMqB,SAAS,EAAC,+BAA+B;MAAClB,EAAE,EAAG,GAAEA,EAAG,WAAW;MAAAmB,QAAA,EAClEpB,KAAK,CAACI;IAAK;MAAAF,QAAA,EAAAsB,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAEf;EAAA;IAAAxB,QAAA,EAAAsB,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}