{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\excalidraw-cn\\\\src\\\\components\\\\ColorPicker\\\\ShadeList.tsx\";\nimport clsx from \"clsx\";\nimport { useAtom } from \"jotai\";\nimport { useEffect, useRef } from \"react\";\nimport { activeColorPickerSectionAtom, getColorNameAndShadeFromColor } from \"./colorPickerUtils\";\nimport HotkeyLabel from \"./HotkeyLabel\";\nimport { t } from \"../../i18n\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShadeList = _ref => {\n  let {\n    hex,\n    onChange,\n    palette\n  } = _ref;\n  const colorObj = getColorNameAndShadeFromColor({\n    color: hex || \"transparent\",\n    palette\n  });\n  const [activeColorPickerSection, setActiveColorPickerSection] = useAtom(activeColorPickerSectionAtom);\n  const btnRef = useRef(null);\n  useEffect(() => {\n    if (btnRef.current && activeColorPickerSection === \"shades\") {\n      btnRef.current.focus();\n    }\n  }, [colorObj, activeColorPickerSection]);\n  if (colorObj) {\n    const {\n      colorName,\n      shade\n    } = colorObj;\n    const shades = palette[colorName];\n    if (Array.isArray(shades)) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"color-picker-content--default shades\",\n        children: shades.map((color, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: i === shade && activeColorPickerSection === \"shades\" ? btnRef : undefined,\n          tabIndex: -1,\n          type: \"button\",\n          className: clsx(\"color-picker__button color-picker__button--large\", {\n            active: i === shade\n          }),\n          \"aria-label\": \"Shade\",\n          title: `${colorName} - ${i + 1}`,\n          style: color ? {\n            \"--swatch-color\": color\n          } : undefined,\n          onClick: () => {\n            onChange(color);\n            setActiveColorPickerSection(\"shades\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"color-picker__button-outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(HotkeyLabel, {\n            color: color,\n            keyLabel: i + 1,\n            isShade: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"color-picker-content--default\",\n    style: {\n      position: \"relative\"\n    },\n    tabIndex: -1,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      tabIndex: -1,\n      className: \"color-picker__button color-picker__button--large color-picker__button--no-focus-visible\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      tabIndex: -1,\n      style: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        textAlign: \"center\",\n        fontSize: \"0.75rem\"\n      },\n      children: t(\"colorPicker.noShades\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};","map":{"version":3,"names":["clsx","useAtom","useEffect","useRef","activeColorPickerSectionAtom","getColorNameAndShadeFromColor","HotkeyLabel","t","jsxDEV","_jsxDEV","ShadeList","_ref","hex","onChange","palette","colorObj","color","activeColorPickerSection","setActiveColorPickerSection","btnRef","current","focus","colorName","shade","shades","Array","isArray","className","children","map","i","ref","undefined","tabIndex","type","active","title","style","onClick","fileName","_jsxFileName","lineNumber","columnNumber","keyLabel","isShade","position","top","left","right","bottom","display","alignItems","justifyContent","textAlign","fontSize"],"sources":["D:/project/excalidraw-cn/src/components/ColorPicker/ShadeList.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport { useAtom } from \"jotai\";\nimport { useEffect, useRef } from \"react\";\nimport {\n  activeColorPickerSectionAtom,\n  getColorNameAndShadeFromColor,\n} from \"./colorPickerUtils\";\nimport HotkeyLabel from \"./HotkeyLabel\";\nimport { t } from \"../../i18n\";\nimport { ColorPaletteCustom } from \"../../colors\";\n\ninterface ShadeListProps {\n  hex: string;\n  onChange: (color: string) => void;\n  palette: ColorPaletteCustom;\n}\n\nexport const ShadeList = ({ hex, onChange, palette }: ShadeListProps) => {\n  const colorObj = getColorNameAndShadeFromColor({\n    color: hex || \"transparent\",\n    palette,\n  });\n\n  const [activeColorPickerSection, setActiveColorPickerSection] = useAtom(\n    activeColorPickerSectionAtom,\n  );\n\n  const btnRef = useRef<HTMLButtonElement>(null);\n\n  useEffect(() => {\n    if (btnRef.current && activeColorPickerSection === \"shades\") {\n      btnRef.current.focus();\n    }\n  }, [colorObj, activeColorPickerSection]);\n\n  if (colorObj) {\n    const { colorName, shade } = colorObj;\n\n    const shades = palette[colorName];\n\n    if (Array.isArray(shades)) {\n      return (\n        <div className=\"color-picker-content--default shades\">\n          {shades.map((color, i) => (\n            <button\n              ref={\n                i === shade && activeColorPickerSection === \"shades\"\n                  ? btnRef\n                  : undefined\n              }\n              tabIndex={-1}\n              key={i}\n              type=\"button\"\n              className={clsx(\n                \"color-picker__button color-picker__button--large\",\n                { active: i === shade },\n              )}\n              aria-label=\"Shade\"\n              title={`${colorName} - ${i + 1}`}\n              style={color ? { \"--swatch-color\": color } : undefined}\n              onClick={() => {\n                onChange(color);\n                setActiveColorPickerSection(\"shades\");\n              }}\n            >\n              <div className=\"color-picker__button-outline\" />\n              <HotkeyLabel color={color} keyLabel={i + 1} isShade />\n            </button>\n          ))}\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div\n      className=\"color-picker-content--default\"\n      style={{ position: \"relative\" }}\n      tabIndex={-1}\n    >\n      <button\n        type=\"button\"\n        tabIndex={-1}\n        className=\"color-picker__button color-picker__button--large color-picker__button--no-focus-visible\"\n      />\n      <div\n        tabIndex={-1}\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          textAlign: \"center\",\n          fontSize: \"0.75rem\",\n        }}\n      >\n        {t(\"colorPicker.noShades\")}\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}