{"ast":null,"code":"import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{atom,useAtom}from\"jotai\";import{actionClearCanvas}from\"../actions\";import{t}from\"../i18n\";import{jotaiScope}from\"../jotai\";import{useExcalidrawActionManager}from\"./App\";import ConfirmDialog from\"./ConfirmDialog\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var activeConfirmDialogAtom=atom(null);export var ActiveConfirmDialog=function ActiveConfirmDialog(){var _useAtom=useAtom(activeConfirmDialogAtom,jotaiScope),_useAtom2=_slicedToArray(_useAtom,2),activeConfirmDialog=_useAtom2[0],setActiveConfirmDialog=_useAtom2[1];var actionManager=useExcalidrawActionManager();if(!activeConfirmDialog){return null;}if(activeConfirmDialog===\"clearCanvas\"){return/*#__PURE__*/_jsx(ConfirmDialog,{onConfirm:function onConfirm(){actionManager.executeAction(actionClearCanvas);setActiveConfirmDialog(null);},onCancel:function onCancel(){return setActiveConfirmDialog(null);},title:t(\"clearCanvasDialog.title\"),children:/*#__PURE__*/_jsxs(\"p\",{className:\"clear-canvas__content\",children:[\" \",t(\"alerts.clearReset\")]})});}return null;};","map":{"version":3,"names":["atom","useAtom","actionClearCanvas","t","jotaiScope","useExcalidrawActionManager","ConfirmDialog","jsxs","_jsxs","jsx","_jsx","activeConfirmDialogAtom","ActiveConfirmDialog","_useAtom","_useAtom2","_slicedToArray","activeConfirmDialog","setActiveConfirmDialog","actionManager","onConfirm","executeAction","onCancel","title","children","className"],"sources":["D:/project/excalidraw-cn/src/components/ActiveConfirmDialog.tsx"],"sourcesContent":["import { atom, useAtom } from \"jotai\";\nimport { actionClearCanvas } from \"../actions\";\nimport { t } from \"../i18n\";\nimport { jotaiScope } from \"../jotai\";\nimport { useExcalidrawActionManager } from \"./App\";\nimport ConfirmDialog from \"./ConfirmDialog\";\n\nexport const activeConfirmDialogAtom = atom<\"clearCanvas\" | null>(null);\n\nexport const ActiveConfirmDialog = () => {\n  const [activeConfirmDialog, setActiveConfirmDialog] = useAtom(\n    activeConfirmDialogAtom,\n    jotaiScope,\n  );\n  const actionManager = useExcalidrawActionManager();\n\n  if (!activeConfirmDialog) {\n    return null;\n  }\n\n  if (activeConfirmDialog === \"clearCanvas\") {\n    return (\n      <ConfirmDialog\n        onConfirm={() => {\n          actionManager.executeAction(actionClearCanvas);\n          setActiveConfirmDialog(null);\n        }}\n        onCancel={() => setActiveConfirmDialog(null)}\n        title={t(\"clearCanvasDialog.title\")}\n      >\n        <p className=\"clear-canvas__content\"> {t(\"alerts.clearReset\")}</p>\n      </ConfirmDialog>\n    );\n  }\n\n  return null;\n};\n"],"mappings":"8GAAA,OAASA,IAAI,CAAEC,OAAO,KAAQ,OAAO,CACrC,OAASC,iBAAiB,KAAQ,YAAY,CAC9C,OAASC,CAAC,KAAQ,SAAS,CAC3B,OAASC,UAAU,KAAQ,UAAU,CACrC,OAASC,0BAA0B,KAAQ,OAAO,CAClD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE5C,MAAO,IAAM,CAAAC,uBAAuB,CAAGX,IAAI,CAAuB,IAAI,CAAC,CAEvE,MAAO,IAAM,CAAAY,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAA,CAAS,CACvC,IAAAC,QAAA,CAAsDZ,OAAO,CAC3DU,uBAAuB,CACvBP,UAAU,CACX,CAAAU,SAAA,CAAAC,cAAA,CAAAF,QAAA,IAHMG,mBAAmB,CAAAF,SAAA,IAAEG,sBAAsB,CAAAH,SAAA,IAIlD,GAAM,CAAAI,aAAa,CAAGb,0BAA0B,EAAE,CAElD,GAAI,CAACW,mBAAmB,CAAE,CACxB,MAAO,KAAI,CACb,CAEA,GAAIA,mBAAmB,GAAK,aAAa,CAAE,CACzC,mBACEN,IAAA,CAACJ,aAAa,EACZa,SAAS,CAAE,SAAAA,UAAA,CAAM,CACfD,aAAa,CAACE,aAAa,CAAClB,iBAAiB,CAAC,CAC9Ce,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CAAE,CACFI,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAJ,sBAAsB,CAAC,IAAI,CAAC,EAAC,CAC7CK,KAAK,CAAEnB,CAAC,CAAC,yBAAyB,CAAE,CAAAoB,QAAA,cAEpCf,KAAA,MAAGgB,SAAS,CAAC,uBAAuB,CAAAD,QAAA,EAAC,GAAC,CAACpB,CAAC,CAAC,mBAAmB,CAAC,GAAK,EACpD,CAEpB,CAEA,MAAO,KAAI,CACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}