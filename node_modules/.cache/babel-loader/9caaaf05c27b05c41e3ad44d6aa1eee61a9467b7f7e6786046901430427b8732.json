{"ast":null,"code":"import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{KEYS}from\"../../keys\";import{COLORS_PER_ROW,COLOR_PALETTE}from\"../../colors\";import{colorPickerHotkeyBindings,getColorNameAndShadeFromColor}from\"./colorPickerUtils\";var arrowHandler=function arrowHandler(eventKey,currentIndex,length){var _currentIndex;var rows=Math.ceil(length/COLORS_PER_ROW);currentIndex=(_currentIndex=currentIndex)!==null&&_currentIndex!==void 0?_currentIndex:-1;switch(eventKey){case\"ArrowLeft\":{var prevIndex=currentIndex-1;return prevIndex<0?length-1:prevIndex;}case\"ArrowRight\":{return(currentIndex+1)%length;}case\"ArrowDown\":{var nextIndex=currentIndex+COLORS_PER_ROW;return nextIndex>=length?currentIndex%COLORS_PER_ROW:nextIndex;}case\"ArrowUp\":{var _prevIndex=currentIndex-COLORS_PER_ROW;var newIndex=_prevIndex<0?COLORS_PER_ROW*rows+_prevIndex:_prevIndex;return newIndex>=length?undefined:newIndex;}}};/**\n * @returns true if the event was handled\n */var hotkeyHandler=function hotkeyHandler(_ref){var e=_ref.e,colorObj=_ref.colorObj,onChange=_ref.onChange,palette=_ref.palette,customColors=_ref.customColors,setActiveColorPickerSection=_ref.setActiveColorPickerSection,activeShade=_ref.activeShade;if((colorObj===null||colorObj===void 0?void 0:colorObj.shade)!=null){// shift + numpad is extremely messed up on windows apparently\nif([\"Digit1\",\"Digit2\",\"Digit3\",\"Digit4\",\"Digit5\"].includes(e.code)&&e.shiftKey){var newShade=Number(e.code.slice(-1))-1;onChange(palette[colorObj.colorName][newShade]);setActiveColorPickerSection(\"shades\");return true;}}if([\"1\",\"2\",\"3\",\"4\",\"5\"].includes(e.key)){var c=customColors[Number(e.key)-1];if(c){onChange(customColors[Number(e.key)-1]);setActiveColorPickerSection(\"custom\");return true;}}if(colorPickerHotkeyBindings.includes(e.key)){var index=colorPickerHotkeyBindings.indexOf(e.key);var paletteKey=Object.keys(palette)[index];var paletteValue=palette[paletteKey];var r=Array.isArray(paletteValue)?paletteValue[activeShade]:paletteValue;onChange(r);setActiveColorPickerSection(\"baseColors\");return true;}return false;};/**\n * @returns true if the event was handled\n */export var colorPickerKeyNavHandler=function colorPickerKeyNavHandler(_ref2){var event=_ref2.event,activeColorPickerSection=_ref2.activeColorPickerSection,palette=_ref2.palette,color=_ref2.color,onChange=_ref2.onChange,customColors=_ref2.customColors,setActiveColorPickerSection=_ref2.setActiveColorPickerSection,updateData=_ref2.updateData,activeShade=_ref2.activeShade,onEyeDropperToggle=_ref2.onEyeDropperToggle,onEscape=_ref2.onEscape;if(event[KEYS.CTRL_OR_CMD]){return false;}if(event.key===KEYS.ESCAPE){onEscape(event);return true;}// checkt using `key` to ignore combos with Alt modifier\nif(event.key===KEYS.ALT){onEyeDropperToggle(true);return true;}if(event.key===KEYS.I){onEyeDropperToggle();return true;}var colorObj=getColorNameAndShadeFromColor({color:color,palette:palette});if(event.key===KEYS.TAB){var sectionsMap={custom:!!customColors.length,baseColors:true,shades:(colorObj===null||colorObj===void 0?void 0:colorObj.shade)!=null,hex:true};var sections=Object.entries(sectionsMap).reduce(function(acc,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];if(value){acc.push(key);}return acc;},[]);var activeSectionIndex=sections.indexOf(activeColorPickerSection);var indexOffset=event.shiftKey?-1:1;var nextSectionIndex=activeSectionIndex+indexOffset>sections.length-1?0:activeSectionIndex+indexOffset<0?sections.length-1:activeSectionIndex+indexOffset;var nextSection=sections[nextSectionIndex];if(nextSection){setActiveColorPickerSection(nextSection);}if(nextSection===\"custom\"){onChange(customColors[0]);}else if(nextSection===\"baseColors\"){var baseColorName=Object.entries(palette).find(function(_ref5){var _ref6=_slicedToArray(_ref5,2),name=_ref6[0],shades=_ref6[1];if(Array.isArray(shades)){return shades.includes(color);}else if(shades===color){return name;}return null;});if(!baseColorName){onChange(COLOR_PALETTE.black);}}event.preventDefault();event.stopPropagation();return true;}if(hotkeyHandler({e:event,colorObj:colorObj,onChange:onChange,palette:palette,customColors:customColors,setActiveColorPickerSection:setActiveColorPickerSection,activeShade:activeShade})){return true;}if(activeColorPickerSection===\"shades\"){if(colorObj){var shade=colorObj.shade;var newShade=arrowHandler(event.key,shade,COLORS_PER_ROW);if(newShade!==undefined){onChange(palette[colorObj.colorName][newShade]);return true;}}}if(activeColorPickerSection===\"baseColors\"){if(colorObj){var colorName=colorObj.colorName;var colorNames=Object.keys(palette);var indexOfColorName=colorNames.indexOf(colorName);var newColorIndex=arrowHandler(event.key,indexOfColorName,colorNames.length);if(newColorIndex!==undefined){var newColorName=colorNames[newColorIndex];var newColorNameValue=palette[newColorName];onChange(Array.isArray(newColorNameValue)?newColorNameValue[activeShade]:newColorNameValue);return true;}}}if(activeColorPickerSection===\"custom\"){var indexOfColor=customColors.indexOf(color);var _newColorIndex=arrowHandler(event.key,indexOfColor,customColors.length);if(_newColorIndex!==undefined){var newColor=customColors[_newColorIndex];onChange(newColor);return true;}}return false;};","map":{"version":3,"names":["KEYS","COLORS_PER_ROW","COLOR_PALETTE","colorPickerHotkeyBindings","getColorNameAndShadeFromColor","arrowHandler","eventKey","currentIndex","length","_currentIndex","rows","Math","ceil","prevIndex","nextIndex","newIndex","undefined","hotkeyHandler","_ref","e","colorObj","onChange","palette","customColors","setActiveColorPickerSection","activeShade","shade","includes","code","shiftKey","newShade","Number","slice","colorName","key","c","index","indexOf","paletteKey","Object","keys","paletteValue","r","Array","isArray","colorPickerKeyNavHandler","_ref2","event","activeColorPickerSection","color","updateData","onEyeDropperToggle","onEscape","CTRL_OR_CMD","ESCAPE","ALT","I","TAB","sectionsMap","custom","baseColors","shades","hex","sections","entries","reduce","acc","_ref3","_ref4","_slicedToArray","value","push","activeSectionIndex","indexOffset","nextSectionIndex","nextSection","baseColorName","find","_ref5","_ref6","name","black","preventDefault","stopPropagation","colorNames","indexOfColorName","newColorIndex","newColorName","newColorNameValue","indexOfColor","newColor"],"sources":["D:/project/excalidraw-cn/src/components/ColorPicker/keyboardNavHandlers.ts"],"sourcesContent":["import { KEYS } from \"../../keys\";\nimport {\n  ColorPickerColor,\n  ColorPalette,\n  ColorPaletteCustom,\n  COLORS_PER_ROW,\n  COLOR_PALETTE,\n} from \"../../colors\";\nimport { ValueOf } from \"../../utility-types\";\nimport {\n  ActiveColorPickerSectionAtomType,\n  colorPickerHotkeyBindings,\n  getColorNameAndShadeFromColor,\n} from \"./colorPickerUtils\";\n\nconst arrowHandler = (\n  eventKey: string,\n  currentIndex: number | null,\n  length: number,\n) => {\n  const rows = Math.ceil(length / COLORS_PER_ROW);\n\n  currentIndex = currentIndex ?? -1;\n\n  switch (eventKey) {\n    case \"ArrowLeft\": {\n      const prevIndex = currentIndex - 1;\n      return prevIndex < 0 ? length - 1 : prevIndex;\n    }\n    case \"ArrowRight\": {\n      return (currentIndex + 1) % length;\n    }\n    case \"ArrowDown\": {\n      const nextIndex = currentIndex + COLORS_PER_ROW;\n      return nextIndex >= length ? currentIndex % COLORS_PER_ROW : nextIndex;\n    }\n    case \"ArrowUp\": {\n      const prevIndex = currentIndex - COLORS_PER_ROW;\n      const newIndex =\n        prevIndex < 0 ? COLORS_PER_ROW * rows + prevIndex : prevIndex;\n      return newIndex >= length ? undefined : newIndex;\n    }\n  }\n};\n\ninterface HotkeyHandlerProps {\n  e: React.KeyboardEvent;\n  colorObj: { colorName: ColorPickerColor; shade: number | null } | null;\n  onChange: (color: string) => void;\n  palette: ColorPaletteCustom;\n  customColors: string[];\n  setActiveColorPickerSection: (\n    update: React.SetStateAction<ActiveColorPickerSectionAtomType>,\n  ) => void;\n  activeShade: number;\n}\n\n/**\n * @returns true if the event was handled\n */\nconst hotkeyHandler = ({\n  e,\n  colorObj,\n  onChange,\n  palette,\n  customColors,\n  setActiveColorPickerSection,\n  activeShade,\n}: HotkeyHandlerProps): boolean => {\n  if (colorObj?.shade != null) {\n    // shift + numpad is extremely messed up on windows apparently\n    if (\n      [\"Digit1\", \"Digit2\", \"Digit3\", \"Digit4\", \"Digit5\"].includes(e.code) &&\n      e.shiftKey\n    ) {\n      const newShade = Number(e.code.slice(-1)) - 1;\n      onChange(palette[colorObj.colorName][newShade]);\n      setActiveColorPickerSection(\"shades\");\n      return true;\n    }\n  }\n\n  if ([\"1\", \"2\", \"3\", \"4\", \"5\"].includes(e.key)) {\n    const c = customColors[Number(e.key) - 1];\n    if (c) {\n      onChange(customColors[Number(e.key) - 1]);\n      setActiveColorPickerSection(\"custom\");\n      return true;\n    }\n  }\n\n  if (colorPickerHotkeyBindings.includes(e.key)) {\n    const index = colorPickerHotkeyBindings.indexOf(e.key);\n    const paletteKey = Object.keys(palette)[index] as keyof ColorPalette;\n    const paletteValue = palette[paletteKey];\n    const r = Array.isArray(paletteValue)\n      ? paletteValue[activeShade]\n      : paletteValue;\n    onChange(r);\n    setActiveColorPickerSection(\"baseColors\");\n    return true;\n  }\n  return false;\n};\n\ninterface ColorPickerKeyNavHandlerProps {\n  event: React.KeyboardEvent;\n  activeColorPickerSection: ActiveColorPickerSectionAtomType;\n  palette: ColorPaletteCustom;\n  color: string;\n  onChange: (color: string) => void;\n  customColors: string[];\n  setActiveColorPickerSection: (\n    update: React.SetStateAction<ActiveColorPickerSectionAtomType>,\n  ) => void;\n  updateData: (formData?: any) => void;\n  activeShade: number;\n  onEyeDropperToggle: (force?: boolean) => void;\n  onEscape: (event: React.KeyboardEvent | KeyboardEvent) => void;\n}\n\n/**\n * @returns true if the event was handled\n */\nexport const colorPickerKeyNavHandler = ({\n  event,\n  activeColorPickerSection,\n  palette,\n  color,\n  onChange,\n  customColors,\n  setActiveColorPickerSection,\n  updateData,\n  activeShade,\n  onEyeDropperToggle,\n  onEscape,\n}: ColorPickerKeyNavHandlerProps): boolean => {\n  if (event[KEYS.CTRL_OR_CMD]) {\n    return false;\n  }\n\n  if (event.key === KEYS.ESCAPE) {\n    onEscape(event);\n    return true;\n  }\n\n  // checkt using `key` to ignore combos with Alt modifier\n  if (event.key === KEYS.ALT) {\n    onEyeDropperToggle(true);\n    return true;\n  }\n\n  if (event.key === KEYS.I) {\n    onEyeDropperToggle();\n    return true;\n  }\n\n  const colorObj = getColorNameAndShadeFromColor({ color, palette });\n\n  if (event.key === KEYS.TAB) {\n    const sectionsMap: Record<\n      NonNullable<ActiveColorPickerSectionAtomType>,\n      boolean\n    > = {\n      custom: !!customColors.length,\n      baseColors: true,\n      shades: colorObj?.shade != null,\n      hex: true,\n    };\n\n    const sections = Object.entries(sectionsMap).reduce((acc, [key, value]) => {\n      if (value) {\n        acc.push(key as ActiveColorPickerSectionAtomType);\n      }\n      return acc;\n    }, [] as ActiveColorPickerSectionAtomType[]);\n\n    const activeSectionIndex = sections.indexOf(activeColorPickerSection);\n    const indexOffset = event.shiftKey ? -1 : 1;\n    const nextSectionIndex =\n      activeSectionIndex + indexOffset > sections.length - 1\n        ? 0\n        : activeSectionIndex + indexOffset < 0\n        ? sections.length - 1\n        : activeSectionIndex + indexOffset;\n\n    const nextSection = sections[nextSectionIndex];\n\n    if (nextSection) {\n      setActiveColorPickerSection(nextSection);\n    }\n\n    if (nextSection === \"custom\") {\n      onChange(customColors[0]);\n    } else if (nextSection === \"baseColors\") {\n      const baseColorName = (\n        Object.entries(palette) as [string, ValueOf<ColorPalette>][]\n      ).find(([name, shades]) => {\n        if (Array.isArray(shades)) {\n          return shades.includes(color);\n        } else if (shades === color) {\n          return name;\n        }\n        return null;\n      });\n\n      if (!baseColorName) {\n        onChange(COLOR_PALETTE.black);\n      }\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    return true;\n  }\n\n  if (\n    hotkeyHandler({\n      e: event,\n      colorObj,\n      onChange,\n      palette,\n      customColors,\n      setActiveColorPickerSection,\n      activeShade,\n    })\n  ) {\n    return true;\n  }\n\n  if (activeColorPickerSection === \"shades\") {\n    if (colorObj) {\n      const { shade } = colorObj;\n      const newShade = arrowHandler(event.key, shade, COLORS_PER_ROW);\n\n      if (newShade !== undefined) {\n        onChange(palette[colorObj.colorName][newShade]);\n        return true;\n      }\n    }\n  }\n\n  if (activeColorPickerSection === \"baseColors\") {\n    if (colorObj) {\n      const { colorName } = colorObj;\n      const colorNames = Object.keys(palette) as (keyof ColorPalette)[];\n      const indexOfColorName = colorNames.indexOf(colorName);\n\n      const newColorIndex = arrowHandler(\n        event.key,\n        indexOfColorName,\n        colorNames.length,\n      );\n\n      if (newColorIndex !== undefined) {\n        const newColorName = colorNames[newColorIndex];\n        const newColorNameValue = palette[newColorName];\n\n        onChange(\n          Array.isArray(newColorNameValue)\n            ? newColorNameValue[activeShade]\n            : newColorNameValue,\n        );\n        return true;\n      }\n    }\n  }\n\n  if (activeColorPickerSection === \"custom\") {\n    const indexOfColor = customColors.indexOf(color);\n\n    const newColorIndex = arrowHandler(\n      event.key,\n      indexOfColor,\n      customColors.length,\n    );\n\n    if (newColorIndex !== undefined) {\n      const newColor = customColors[newColorIndex];\n      onChange(newColor);\n      return true;\n    }\n  }\n\n  return false;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}