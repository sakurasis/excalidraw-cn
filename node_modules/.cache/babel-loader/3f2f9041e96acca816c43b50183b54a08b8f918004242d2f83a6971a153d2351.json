{"ast":null,"code":"import{Island}from\"../Island\";import{useDevice}from\"../App\";import clsx from\"clsx\";import Stack from\"../Stack\";import React,{useRef}from\"react\";import{DropdownMenuContentPropsContext}from\"./common\";import{useOutsideClick}from\"../../hooks/useOutsideClick\";import{jsx as _jsx}from\"react/jsx-runtime\";var MenuContent=function MenuContent(_ref){var children=_ref.children,onClickOutside=_ref.onClickOutside,_ref$className=_ref.className,className=_ref$className===void 0?\"\":_ref$className,onSelect=_ref.onSelect,style=_ref.style;var device=useDevice();var menuRef=useRef(null);useOutsideClick(menuRef,function(){onClickOutside===null||onClickOutside===void 0?void 0:onClickOutside();});var classNames=clsx(\"dropdown-menu \".concat(className),{\"dropdown-menu--mobile\":device.isMobile}).trim();return/*#__PURE__*/_jsx(DropdownMenuContentPropsContext.Provider,{value:{onSelect:onSelect},children:/*#__PURE__*/_jsx(\"div\",{ref:menuRef,className:classNames,style:style,\"data-testid\":\"dropdown-menu\",children:device.isMobile?/*#__PURE__*/_jsx(Stack.Col,{className:\"dropdown-menu-container\",children:children}):/*#__PURE__*/_jsx(Island,{className:\"dropdown-menu-container\",padding:2,style:{zIndex:2},children:children})})});};MenuContent.displayName=\"DropdownMenuContent\";export default MenuContent;","map":{"version":3,"names":["Island","useDevice","clsx","Stack","React","useRef","DropdownMenuContentPropsContext","useOutsideClick","jsx","_jsx","MenuContent","_ref","children","onClickOutside","_ref$className","className","onSelect","style","device","menuRef","classNames","concat","isMobile","trim","Provider","value","ref","Col","padding","zIndex","displayName"],"sources":["D:/project/excalidraw-cn/src/components/dropdownMenu/DropdownMenuContent.tsx"],"sourcesContent":["import { Island } from \"../Island\";\nimport { useDevice } from \"../App\";\nimport clsx from \"clsx\";\nimport Stack from \"../Stack\";\nimport React, { useRef } from \"react\";\nimport { DropdownMenuContentPropsContext } from \"./common\";\nimport { useOutsideClick } from \"../../hooks/useOutsideClick\";\n\nconst MenuContent = ({\n  children,\n  onClickOutside,\n  className = \"\",\n  onSelect,\n  style,\n}: {\n  children?: React.ReactNode;\n  onClickOutside?: () => void;\n  className?: string;\n  /**\n   * Called when any menu item is selected (clicked on).\n   */\n  onSelect?: (event: Event) => void;\n  style?: React.CSSProperties;\n}) => {\n  const device = useDevice();\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useOutsideClick(menuRef, () => {\n    onClickOutside?.();\n  });\n\n  const classNames = clsx(`dropdown-menu ${className}`, {\n    \"dropdown-menu--mobile\": device.isMobile,\n  }).trim();\n\n  return (\n    <DropdownMenuContentPropsContext.Provider value={{ onSelect }}>\n      <div\n        ref={menuRef}\n        className={classNames}\n        style={style}\n        data-testid=\"dropdown-menu\"\n      >\n        {/* the zIndex ensures this menu has higher stacking order,\n    see https://github.com/excalidraw/excalidraw/pull/1445 */}\n        {device.isMobile ? (\n          <Stack.Col className=\"dropdown-menu-container\">{children}</Stack.Col>\n        ) : (\n          <Island\n            className=\"dropdown-menu-container\"\n            padding={2}\n            style={{ zIndex: 2 }}\n          >\n            {children}\n          </Island>\n        )}\n      </div>\n    </DropdownMenuContentPropsContext.Provider>\n  );\n};\nMenuContent.displayName = \"DropdownMenuContent\";\n\nexport default MenuContent;\n"],"mappings":"AAAA,OAASA,MAAM,KAAQ,WAAW,CAClC,OAASC,SAAS,KAAQ,QAAQ,CAClC,MAAO,CAAAC,IAAI,KAAM,MAAM,CACvB,MAAO,CAAAC,KAAK,KAAM,UAAU,CAC5B,MAAO,CAAAC,KAAK,EAAIC,MAAM,KAAQ,OAAO,CACrC,OAASC,+BAA+B,KAAQ,UAAU,CAC1D,OAASC,eAAe,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9D,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAeX,IAdJ,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACRC,cAAc,CAAAF,IAAA,CAAdE,cAAc,CAAAC,cAAA,CAAAH,IAAA,CACdI,SAAS,CAATA,SAAS,CAAAD,cAAA,UAAG,EAAE,CAAAA,cAAA,CACdE,QAAQ,CAAAL,IAAA,CAARK,QAAQ,CACRC,KAAK,CAAAN,IAAA,CAALM,KAAK,CAWL,GAAM,CAAAC,MAAM,CAAGjB,SAAS,EAAE,CAC1B,GAAM,CAAAkB,OAAO,CAAGd,MAAM,CAAiB,IAAI,CAAC,CAE5CE,eAAe,CAACY,OAAO,CAAE,UAAM,CAC7BN,cAAc,SAAdA,cAAc,iBAAdA,cAAc,EAAI,CACpB,CAAC,CAAC,CAEF,GAAM,CAAAO,UAAU,CAAGlB,IAAI,kBAAAmB,MAAA,CAAkBN,SAAS,EAAI,CACpD,uBAAuB,CAAEG,MAAM,CAACI,QAClC,CAAC,CAAC,CAACC,IAAI,EAAE,CAET,mBACEd,IAAA,CAACH,+BAA+B,CAACkB,QAAQ,EAACC,KAAK,CAAE,CAAET,QAAQ,CAARA,QAAS,CAAE,CAAAJ,QAAA,cAC5DH,IAAA,QACEiB,GAAG,CAAEP,OAAQ,CACbJ,SAAS,CAAEK,UAAW,CACtBH,KAAK,CAAEA,KAAM,CACb,cAAY,eAAe,CAAAL,QAAA,CAI1BM,MAAM,CAACI,QAAQ,cACdb,IAAA,CAACN,KAAK,CAACwB,GAAG,EAACZ,SAAS,CAAC,yBAAyB,CAAAH,QAAA,CAAEA,QAAQ,EAAa,cAErEH,IAAA,CAACT,MAAM,EACLe,SAAS,CAAC,yBAAyB,CACnCa,OAAO,CAAE,CAAE,CACXX,KAAK,CAAE,CAAEY,MAAM,CAAE,CAAE,CAAE,CAAAjB,QAAA,CAEpBA,QAAQ,EAEZ,EACG,EACmC,CAE/C,CAAC,CACDF,WAAW,CAACoB,WAAW,CAAG,qBAAqB,CAE/C,cAAe,CAAApB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}