{"ast":null,"code":"import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{t}from\"../i18n\";import{useState,useEffect}from\"react\";import Spinner from\"./Spinner\";import clsx from\"clsx\";import{THEME}from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LoadingMessage=function LoadingMessage(_ref){var delay=_ref.delay,theme=_ref.theme;var _useState=useState(!!delay),_useState2=_slicedToArray(_useState,2),isWaiting=_useState2[0],setIsWaiting=_useState2[1];useEffect(function(){if(!delay){return;}var timer=setTimeout(function(){setIsWaiting(false);},delay);return function(){return clearTimeout(timer);};},[delay]);if(isWaiting){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:clsx(\"LoadingMessage\",{\"LoadingMessage--dark\":theme===THEME.DARK}),children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Spinner,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"LoadingMessage-text\",children:t(\"labels.loadingScene\")})]});};","map":{"version":3,"names":["t","useState","useEffect","Spinner","clsx","THEME","jsx","_jsx","jsxs","_jsxs","LoadingMessage","_ref","delay","theme","_useState","_useState2","_slicedToArray","isWaiting","setIsWaiting","timer","setTimeout","clearTimeout","className","DARK","children"],"sources":["D:/project/excalidraw-cn/src/components/LoadingMessage.tsx"],"sourcesContent":["import { t } from \"../i18n\";\nimport { useState, useEffect } from \"react\";\nimport Spinner from \"./Spinner\";\nimport clsx from \"clsx\";\nimport { THEME } from \"../constants\";\nimport { Theme } from \"../element/types\";\n\nexport const LoadingMessage: React.FC<{ delay?: number; theme?: Theme }> = ({\n  delay,\n  theme,\n}) => {\n  const [isWaiting, setIsWaiting] = useState(!!delay);\n\n  useEffect(() => {\n    if (!delay) {\n      return;\n    }\n    const timer = setTimeout(() => {\n      setIsWaiting(false);\n    }, delay);\n    return () => clearTimeout(timer);\n  }, [delay]);\n\n  if (isWaiting) {\n    return null;\n  }\n\n  return (\n    <div\n      className={clsx(\"LoadingMessage\", {\n        \"LoadingMessage--dark\": theme === THEME.DARK,\n      })}\n    >\n      <div>\n        <Spinner />\n      </div>\n      <div className=\"LoadingMessage-text\">{t(\"labels.loadingScene\")}</div>\n    </div>\n  );\n};\n"],"mappings":"8GAAA,OAASA,CAAC,KAAQ,SAAS,CAC3B,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,IAAI,KAAM,MAAM,CACvB,OAASC,KAAK,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGrC,MAAO,IAAM,CAAAC,cAA2D,CAAG,QAA9D,CAAAA,cAA2DA,CAAAC,IAAA,CAGlE,IAFJ,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CACLC,KAAK,CAAAF,IAAA,CAALE,KAAK,CAEL,IAAAC,SAAA,CAAkCb,QAAQ,CAAC,CAAC,CAACW,KAAK,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9Bb,SAAS,CAAC,UAAM,CACd,GAAI,CAACU,KAAK,CAAE,CACV,OACF,CACA,GAAM,CAAAO,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC7BF,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAEN,KAAK,CAAC,CACT,MAAO,kBAAM,CAAAS,YAAY,CAACF,KAAK,CAAC,GAClC,CAAC,CAAE,CAACP,KAAK,CAAC,CAAC,CAEX,GAAIK,SAAS,CAAE,CACb,MAAO,KAAI,CACb,CAEA,mBACER,KAAA,QACEa,SAAS,CAAElB,IAAI,CAAC,gBAAgB,CAAE,CAChC,sBAAsB,CAAES,KAAK,GAAKR,KAAK,CAACkB,IAC1C,CAAC,CAAE,CAAAC,QAAA,eAEHjB,IAAA,QAAAiB,QAAA,cACEjB,IAAA,CAACJ,OAAO,IAAG,EACP,cACNI,IAAA,QAAKe,SAAS,CAAC,qBAAqB,CAAAE,QAAA,CAAExB,CAAC,CAAC,qBAAqB,CAAC,EAAO,GACjE,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}