{"ast":null,"code":"import _objectSpread from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useAtom}from\"jotai\";import{useTunnels}from\"../../context/tunnels\";import{jotaiScope}from\"../../jotai\";import{Dialog}from\"../Dialog\";import{withInternalFallback}from\"../hoc/withInternalFallback\";import{overwriteConfirmStateAtom}from\"./OverwriteConfirmState\";import{FilledButton}from\"../FilledButton\";import{alertTriangleIcon}from\"../icons\";import{Actions,Action}from\"./OverwriteConfirmActions\";import\"./OverwriteConfirm.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OverwriteConfirmDialog=Object.assign(withInternalFallback(\"OverwriteConfirmDialog\",function(_ref){var children=_ref.children;var _useTunnels=useTunnels(),OverwriteConfirmDialogTunnel=_useTunnels.OverwriteConfirmDialogTunnel;var _useAtom=useAtom(overwriteConfirmStateAtom,jotaiScope),_useAtom2=_slicedToArray(_useAtom,2),overwriteConfirmState=_useAtom2[0],setState=_useAtom2[1];if(!overwriteConfirmState.active){return null;}var handleClose=function handleClose(){overwriteConfirmState.onClose();setState(function(state){return _objectSpread(_objectSpread({},state),{},{active:false});});};var handleConfirm=function handleConfirm(){overwriteConfirmState.onConfirm();setState(function(state){return _objectSpread(_objectSpread({},state),{},{active:false});});};return/*#__PURE__*/_jsx(OverwriteConfirmDialogTunnel.In,{children:/*#__PURE__*/_jsx(Dialog,{onCloseRequest:handleClose,title:false,size:916,children:/*#__PURE__*/_jsxs(\"div\",{className:\"OverwriteConfirm\",children:[/*#__PURE__*/_jsx(\"h3\",{children:overwriteConfirmState.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"OverwriteConfirm__Description OverwriteConfirm__Description--color-\".concat(overwriteConfirmState.color),children:[/*#__PURE__*/_jsx(\"div\",{className:\"OverwriteConfirm__Description__icon\",children:alertTriangleIcon}),/*#__PURE__*/_jsx(\"div\",{children:overwriteConfirmState.description}),/*#__PURE__*/_jsx(\"div\",{className:\"OverwriteConfirm__Description__spacer\"}),/*#__PURE__*/_jsx(FilledButton,{color:overwriteConfirmState.color,size:\"large\",label:overwriteConfirmState.actionLabel,onClick:handleConfirm})]}),/*#__PURE__*/_jsx(Actions,{children:children})]})})});}),{Actions:Actions,Action:Action});export{OverwriteConfirmDialog};","map":{"version":3,"names":["React","useAtom","useTunnels","jotaiScope","Dialog","withInternalFallback","overwriteConfirmStateAtom","FilledButton","alertTriangleIcon","Actions","Action","jsx","_jsx","jsxs","_jsxs","OverwriteConfirmDialog","Object","assign","_ref","children","_useTunnels","OverwriteConfirmDialogTunnel","_useAtom","_useAtom2","_slicedToArray","overwriteConfirmState","setState","active","handleClose","onClose","state","_objectSpread","handleConfirm","onConfirm","In","onCloseRequest","title","size","className","concat","color","description","label","actionLabel","onClick"],"sources":["D:/project/excalidraw-cn/src/components/OverwriteConfirm/OverwriteConfirm.tsx"],"sourcesContent":["import React from \"react\";\nimport { useAtom } from \"jotai\";\n\nimport { useTunnels } from \"../../context/tunnels\";\nimport { jotaiScope } from \"../../jotai\";\nimport { Dialog } from \"../Dialog\";\nimport { withInternalFallback } from \"../hoc/withInternalFallback\";\nimport { overwriteConfirmStateAtom } from \"./OverwriteConfirmState\";\n\nimport { FilledButton } from \"../FilledButton\";\nimport { alertTriangleIcon } from \"../icons\";\nimport { Actions, Action } from \"./OverwriteConfirmActions\";\nimport \"./OverwriteConfirm.scss\";\n\nexport type OverwriteConfirmDialogProps = {\n  children: React.ReactNode;\n};\n\nconst OverwriteConfirmDialog = Object.assign(\n  withInternalFallback(\n    \"OverwriteConfirmDialog\",\n    ({ children }: OverwriteConfirmDialogProps) => {\n      const { OverwriteConfirmDialogTunnel } = useTunnels();\n      const [overwriteConfirmState, setState] = useAtom(\n        overwriteConfirmStateAtom,\n        jotaiScope,\n      );\n\n      if (!overwriteConfirmState.active) {\n        return null;\n      }\n\n      const handleClose = () => {\n        overwriteConfirmState.onClose();\n        setState((state) => ({ ...state, active: false }));\n      };\n\n      const handleConfirm = () => {\n        overwriteConfirmState.onConfirm();\n        setState((state) => ({ ...state, active: false }));\n      };\n\n      return (\n        <OverwriteConfirmDialogTunnel.In>\n          <Dialog onCloseRequest={handleClose} title={false} size={916}>\n            <div className=\"OverwriteConfirm\">\n              <h3>{overwriteConfirmState.title}</h3>\n              <div\n                className={`OverwriteConfirm__Description OverwriteConfirm__Description--color-${overwriteConfirmState.color}`}\n              >\n                <div className=\"OverwriteConfirm__Description__icon\">\n                  {alertTriangleIcon}\n                </div>\n                <div>{overwriteConfirmState.description}</div>\n                <div className=\"OverwriteConfirm__Description__spacer\"></div>\n                <FilledButton\n                  color={overwriteConfirmState.color}\n                  size=\"large\"\n                  label={overwriteConfirmState.actionLabel}\n                  onClick={handleConfirm}\n                />\n              </div>\n              <Actions>{children}</Actions>\n            </div>\n          </Dialog>\n        </OverwriteConfirmDialogTunnel.In>\n      );\n    },\n  ),\n  {\n    Actions,\n    Action,\n  },\n);\n\nexport { OverwriteConfirmDialog };\n"],"mappings":"2NAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,OAAO,CAE/B,OAASC,UAAU,KAAQ,uBAAuB,CAClD,OAASC,UAAU,KAAQ,aAAa,CACxC,OAASC,MAAM,KAAQ,WAAW,CAClC,OAASC,oBAAoB,KAAQ,6BAA6B,CAClE,OAASC,yBAAyB,KAAQ,yBAAyB,CAEnE,OAASC,YAAY,KAAQ,iBAAiB,CAC9C,OAASC,iBAAiB,KAAQ,UAAU,CAC5C,OAASC,OAAO,CAAEC,MAAM,KAAQ,2BAA2B,CAC3D,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAMjC,GAAM,CAAAC,sBAAsB,CAAGC,MAAM,CAACC,MAAM,CAC1CZ,oBAAoB,CAClB,wBAAwB,CACxB,SAAAa,IAAA,CAA+C,IAA5C,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACT,IAAAC,WAAA,CAAyClB,UAAU,EAAE,CAA7CmB,4BAA4B,CAAAD,WAAA,CAA5BC,4BAA4B,CACpC,IAAAC,QAAA,CAA0CrB,OAAO,CAC/CK,yBAAyB,CACzBH,UAAU,CACX,CAAAoB,SAAA,CAAAC,cAAA,CAAAF,QAAA,IAHMG,qBAAqB,CAAAF,SAAA,IAAEG,QAAQ,CAAAH,SAAA,IAKtC,GAAI,CAACE,qBAAqB,CAACE,MAAM,CAAE,CACjC,MAAO,KAAI,CACb,CAEA,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxBH,qBAAqB,CAACI,OAAO,EAAE,CAC/BH,QAAQ,CAAC,SAACI,KAAK,SAAAC,aAAA,CAAAA,aAAA,IAAWD,KAAK,MAAEH,MAAM,CAAE,KAAK,IAAG,CAAC,CACpD,CAAC,CAED,GAAM,CAAAK,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1BP,qBAAqB,CAACQ,SAAS,EAAE,CACjCP,QAAQ,CAAC,SAACI,KAAK,SAAAC,aAAA,CAAAA,aAAA,IAAWD,KAAK,MAAEH,MAAM,CAAE,KAAK,IAAG,CAAC,CACpD,CAAC,CAED,mBACEf,IAAA,CAACS,4BAA4B,CAACa,EAAE,EAAAf,QAAA,cAC9BP,IAAA,CAACR,MAAM,EAAC+B,cAAc,CAAEP,WAAY,CAACQ,KAAK,CAAE,KAAM,CAACC,IAAI,CAAE,GAAI,CAAAlB,QAAA,cAC3DL,KAAA,QAAKwB,SAAS,CAAC,kBAAkB,CAAAnB,QAAA,eAC/BP,IAAA,OAAAO,QAAA,CAAKM,qBAAqB,CAACW,KAAK,EAAM,cACtCtB,KAAA,QACEwB,SAAS,uEAAAC,MAAA,CAAwEd,qBAAqB,CAACe,KAAK,CAAG,CAAArB,QAAA,eAE/GP,IAAA,QAAK0B,SAAS,CAAC,qCAAqC,CAAAnB,QAAA,CACjDX,iBAAiB,EACd,cACNI,IAAA,QAAAO,QAAA,CAAMM,qBAAqB,CAACgB,WAAW,EAAO,cAC9C7B,IAAA,QAAK0B,SAAS,CAAC,uCAAuC,EAAO,cAC7D1B,IAAA,CAACL,YAAY,EACXiC,KAAK,CAAEf,qBAAqB,CAACe,KAAM,CACnCH,IAAI,CAAC,OAAO,CACZK,KAAK,CAAEjB,qBAAqB,CAACkB,WAAY,CACzCC,OAAO,CAAEZ,aAAc,EACvB,GACE,cACNpB,IAAA,CAACH,OAAO,EAAAU,QAAA,CAAEA,QAAQ,EAAW,GACzB,EACC,EACuB,CAEtC,CAAC,CACF,CACD,CACEV,OAAO,CAAPA,OAAO,CACPC,MAAM,CAANA,MACF,CAAC,CACF,CAED,OAASK,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}