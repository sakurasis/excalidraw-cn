{"ast":null,"code":"import _regeneratorRuntime from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/project/excalidraw-cn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback,useMemo,useRef}from\"react\";import{distributeLibraryItemsOnSquareGrid,libraryItemsAtom}from\"../data/library\";import{t}from\"../i18n\";import{randomId}from\"../random\";import LibraryMenuItems from\"./LibraryMenuItems\";import{trackEvent}from\"../analytics\";import{atom,useAtom}from\"jotai\";import{jotaiScope}from\"../jotai\";import Spinner from\"./Spinner\";import{useApp,useAppProps,useExcalidrawElements,useExcalidrawSetAppState}from\"./App\";import{getSelectedElements}from\"../scene\";import{useUIAppState}from\"../context/ui-appState\";import\"./LibraryMenu.scss\";import{LibraryMenuControlButtons}from\"./LibraryMenuControlButtons\";import{isShallowEqual}from\"../utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var isLibraryMenuOpenAtom=atom(false);var LibraryMenuWrapper=function LibraryMenuWrapper(_ref){var children=_ref.children;return/*#__PURE__*/_jsx(\"div\",{className:\"layer-ui__library\",children:children});};export var LibraryMenuContent=function LibraryMenuContent(_ref2){var onInsertLibraryItems=_ref2.onInsertLibraryItems,pendingElements=_ref2.pendingElements,onAddToLibrary=_ref2.onAddToLibrary,setAppState=_ref2.setAppState,libraryReturnUrl=_ref2.libraryReturnUrl,library=_ref2.library,id=_ref2.id,theme=_ref2.theme,selectedItems=_ref2.selectedItems,onSelectItems=_ref2.onSelectItems;var _useAtom=useAtom(libraryItemsAtom,jotaiScope),_useAtom2=_slicedToArray(_useAtom,1),libraryItemsData=_useAtom2[0];var _onAddToLibrary=useCallback(function(elements){var addToLibrary=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(processedElements,libraryItems){var nextItems;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:trackEvent(\"element\",\"addToLibrary\",\"ui\");if(!processedElements.some(function(element){return element.type===\"image\";})){_context.next=3;break;}return _context.abrupt(\"return\",setAppState({errorMessage:\"Support for adding images to the library coming soon!\"}));case 3:nextItems=[{status:\"unpublished\",elements:processedElements,id:randomId(),created:Date.now()}].concat(_toConsumableArray(libraryItems));onAddToLibrary();library.setLibrary(nextItems).catch(function(){setAppState({errorMessage:t(\"alerts.errorAddingToLibrary\")});});case 6:case\"end\":return _context.stop();}},_callee);}));return function addToLibrary(_x,_x2){return _ref3.apply(this,arguments);};}();addToLibrary(elements,libraryItemsData.libraryItems);},[onAddToLibrary,library,setAppState,libraryItemsData.libraryItems]);var libraryItems=useMemo(function(){return libraryItemsData.libraryItems;},[libraryItemsData]);if(libraryItemsData.status===\"loading\"&&!libraryItemsData.isInitialized){return/*#__PURE__*/_jsx(LibraryMenuWrapper,{children:/*#__PURE__*/_jsx(\"div\",{className:\"layer-ui__library-message\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Spinner,{size:\"2em\"}),/*#__PURE__*/_jsx(\"span\",{children:t(\"labels.libraryLoadingMessage\")})]})})});}var showBtn=libraryItemsData.libraryItems.length>0||pendingElements.length>0;return/*#__PURE__*/_jsxs(LibraryMenuWrapper,{children:[/*#__PURE__*/_jsx(LibraryMenuItems,{isLoading:libraryItemsData.status===\"loading\",libraryItems:libraryItems,onAddToLibrary:_onAddToLibrary,onInsertLibraryItems:onInsertLibraryItems,pendingElements:pendingElements,id:id,libraryReturnUrl:libraryReturnUrl,theme:theme,onSelectItems:onSelectItems,selectedItems:selectedItems}),showBtn&&/*#__PURE__*/_jsx(LibraryMenuControlButtons,{className:\"library-menu-control-buttons--at-bottom\",style:{padding:\"16px 12px 0 12px\"},id:id,libraryReturnUrl:libraryReturnUrl,theme:theme})]});};var usePendingElementsMemo=function usePendingElementsMemo(appState,elements){var create=function create(){return getSelectedElements(elements,appState,{includeBoundTextElement:true,includeElementsInFrames:true});};var val=useRef(create());var prevAppState=useRef(appState);var prevElements=useRef(elements);if(!isShallowEqual(appState.selectedElementIds,prevAppState.current.selectedElementIds)||!isShallowEqual(elements,prevElements.current)){val.current=create();prevAppState.current=appState;prevElements.current=elements;}return val.current;};/**\n * This component is meant to be rendered inside <Sidebar.Tab/> inside our\n * <DefaultSidebar/> or host apps Sidebar components.\n */export var LibraryMenu=function LibraryMenu(){var _useApp=useApp(),library=_useApp.library,id=_useApp.id,onInsertElements=_useApp.onInsertElements;var appProps=useAppProps();var appState=useUIAppState();var setAppState=useExcalidrawSetAppState();var elements=useExcalidrawElements();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedItems=_useState2[0],setSelectedItems=_useState2[1];var memoizedLibrary=useMemo(function(){return library;},[library]);// BUG: pendingElements are still causing some unnecessary rerenders because clicking into canvas returns some ids even when no element is selected.\nvar pendingElements=usePendingElementsMemo(appState,elements);var onInsertLibraryItems=useCallback(function(libraryItems){onInsertElements(distributeLibraryItemsOnSquareGrid(libraryItems));},[onInsertElements]);var deselectItems=useCallback(function(){setAppState({selectedElementIds:{},selectedGroupIds:{}});},[setAppState]);return/*#__PURE__*/_jsx(LibraryMenuContent,{pendingElements:pendingElements,onInsertLibraryItems:onInsertLibraryItems,onAddToLibrary:deselectItems,setAppState:setAppState,libraryReturnUrl:appProps.libraryReturnUrl,library:memoizedLibrary,id:id,theme:appState.theme,selectedItems:selectedItems,onSelectItems:setSelectedItems});};","map":{"version":3,"names":["React","useState","useCallback","useMemo","useRef","distributeLibraryItemsOnSquareGrid","libraryItemsAtom","t","randomId","LibraryMenuItems","trackEvent","atom","useAtom","jotaiScope","Spinner","useApp","useAppProps","useExcalidrawElements","useExcalidrawSetAppState","getSelectedElements","useUIAppState","LibraryMenuControlButtons","isShallowEqual","jsx","_jsx","jsxs","_jsxs","isLibraryMenuOpenAtom","LibraryMenuWrapper","_ref","children","className","LibraryMenuContent","_ref2","onInsertLibraryItems","pendingElements","onAddToLibrary","setAppState","libraryReturnUrl","library","id","theme","selectedItems","onSelectItems","_useAtom","_useAtom2","_slicedToArray","libraryItemsData","_onAddToLibrary","elements","addToLibrary","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","processedElements","libraryItems","nextItems","wrap","_callee$","_context","prev","next","some","element","type","abrupt","errorMessage","status","created","Date","now","concat","_toConsumableArray","setLibrary","catch","stop","_x","_x2","apply","arguments","isInitialized","size","showBtn","length","isLoading","style","padding","usePendingElementsMemo","appState","create","includeBoundTextElement","includeElementsInFrames","val","prevAppState","prevElements","selectedElementIds","current","LibraryMenu","_useApp","onInsertElements","appProps","_useState","_useState2","setSelectedItems","memoizedLibrary","deselectItems","selectedGroupIds"],"sources":["D:/project/excalidraw-cn/src/components/LibraryMenu.tsx"],"sourcesContent":["import React, { useState, useCallback, useMemo, useRef } from \"react\";\nimport Library, {\n  distributeLibraryItemsOnSquareGrid,\n  libraryItemsAtom,\n} from \"../data/library\";\nimport { t } from \"../i18n\";\nimport { randomId } from \"../random\";\nimport {\n  LibraryItems,\n  LibraryItem,\n  ExcalidrawProps,\n  UIAppState,\n} from \"../types\";\nimport LibraryMenuItems from \"./LibraryMenuItems\";\nimport { trackEvent } from \"../analytics\";\nimport { atom, useAtom } from \"jotai\";\nimport { jotaiScope } from \"../jotai\";\nimport Spinner from \"./Spinner\";\nimport {\n  useApp,\n  useAppProps,\n  useExcalidrawElements,\n  useExcalidrawSetAppState,\n} from \"./App\";\nimport { getSelectedElements } from \"../scene\";\nimport { useUIAppState } from \"../context/ui-appState\";\n\nimport \"./LibraryMenu.scss\";\nimport { LibraryMenuControlButtons } from \"./LibraryMenuControlButtons\";\nimport { isShallowEqual } from \"../utils\";\nimport { NonDeletedExcalidrawElement } from \"../element/types\";\n\nexport const isLibraryMenuOpenAtom = atom(false);\n\nconst LibraryMenuWrapper = ({ children }: { children: React.ReactNode }) => {\n  return <div className=\"layer-ui__library\">{children}</div>;\n};\n\nexport const LibraryMenuContent = ({\n  onInsertLibraryItems,\n  pendingElements,\n  onAddToLibrary,\n  setAppState,\n  libraryReturnUrl,\n  library,\n  id,\n  theme,\n  selectedItems,\n  onSelectItems,\n}: {\n  pendingElements: LibraryItem[\"elements\"];\n  onInsertLibraryItems: (libraryItems: LibraryItems) => void;\n  onAddToLibrary: () => void;\n  setAppState: React.Component<any, UIAppState>[\"setState\"];\n  libraryReturnUrl: ExcalidrawProps[\"libraryReturnUrl\"];\n  library: Library;\n  id: string;\n  theme: UIAppState[\"theme\"];\n  selectedItems: LibraryItem[\"id\"][];\n  onSelectItems: (id: LibraryItem[\"id\"][]) => void;\n}) => {\n  const [libraryItemsData] = useAtom(libraryItemsAtom, jotaiScope);\n\n  const _onAddToLibrary = useCallback(\n    (elements: LibraryItem[\"elements\"]) => {\n      const addToLibrary = async (\n        processedElements: LibraryItem[\"elements\"],\n        libraryItems: LibraryItems,\n      ) => {\n        trackEvent(\"element\", \"addToLibrary\", \"ui\");\n        if (processedElements.some((element) => element.type === \"image\")) {\n          return setAppState({\n            errorMessage:\n              \"Support for adding images to the library coming soon!\",\n          });\n        }\n        const nextItems: LibraryItems = [\n          {\n            status: \"unpublished\",\n            elements: processedElements,\n            id: randomId(),\n            created: Date.now(),\n          },\n          ...libraryItems,\n        ];\n        onAddToLibrary();\n        library.setLibrary(nextItems).catch(() => {\n          setAppState({ errorMessage: t(\"alerts.errorAddingToLibrary\") });\n        });\n      };\n      addToLibrary(elements, libraryItemsData.libraryItems);\n    },\n    [onAddToLibrary, library, setAppState, libraryItemsData.libraryItems],\n  );\n\n  const libraryItems = useMemo(\n    () => libraryItemsData.libraryItems,\n    [libraryItemsData],\n  );\n\n  if (\n    libraryItemsData.status === \"loading\" &&\n    !libraryItemsData.isInitialized\n  ) {\n    return (\n      <LibraryMenuWrapper>\n        <div className=\"layer-ui__library-message\">\n          <div>\n            <Spinner size=\"2em\" />\n            <span>{t(\"labels.libraryLoadingMessage\")}</span>\n          </div>\n        </div>\n      </LibraryMenuWrapper>\n    );\n  }\n\n  const showBtn =\n    libraryItemsData.libraryItems.length > 0 || pendingElements.length > 0;\n\n  return (\n    <LibraryMenuWrapper>\n      <LibraryMenuItems\n        isLoading={libraryItemsData.status === \"loading\"}\n        libraryItems={libraryItems}\n        onAddToLibrary={_onAddToLibrary}\n        onInsertLibraryItems={onInsertLibraryItems}\n        pendingElements={pendingElements}\n        id={id}\n        libraryReturnUrl={libraryReturnUrl}\n        theme={theme}\n        onSelectItems={onSelectItems}\n        selectedItems={selectedItems}\n      />\n      {showBtn && (\n        <LibraryMenuControlButtons\n          className=\"library-menu-control-buttons--at-bottom\"\n          style={{ padding: \"16px 12px 0 12px\" }}\n          id={id}\n          libraryReturnUrl={libraryReturnUrl}\n          theme={theme}\n        />\n      )}\n    </LibraryMenuWrapper>\n  );\n};\n\nconst usePendingElementsMemo = (\n  appState: UIAppState,\n  elements: readonly NonDeletedExcalidrawElement[],\n) => {\n  const create = () =>\n    getSelectedElements(elements, appState, {\n      includeBoundTextElement: true,\n      includeElementsInFrames: true,\n    });\n  const val = useRef(create());\n  const prevAppState = useRef<UIAppState>(appState);\n  const prevElements = useRef(elements);\n\n  if (\n    !isShallowEqual(\n      appState.selectedElementIds,\n      prevAppState.current.selectedElementIds,\n    ) ||\n    !isShallowEqual(elements, prevElements.current)\n  ) {\n    val.current = create();\n    prevAppState.current = appState;\n    prevElements.current = elements;\n  }\n  return val.current;\n};\n\n/**\n * This component is meant to be rendered inside <Sidebar.Tab/> inside our\n * <DefaultSidebar/> or host apps Sidebar components.\n */\nexport const LibraryMenu = () => {\n  const { library, id, onInsertElements } = useApp();\n  const appProps = useAppProps();\n  const appState = useUIAppState();\n  const setAppState = useExcalidrawSetAppState();\n  const elements = useExcalidrawElements();\n  const [selectedItems, setSelectedItems] = useState<LibraryItem[\"id\"][]>([]);\n  const memoizedLibrary = useMemo(() => library, [library]);\n  // BUG: pendingElements are still causing some unnecessary rerenders because clicking into canvas returns some ids even when no element is selected.\n  const pendingElements = usePendingElementsMemo(appState, elements);\n\n  const onInsertLibraryItems = useCallback(\n    (libraryItems: LibraryItems) => {\n      onInsertElements(distributeLibraryItemsOnSquareGrid(libraryItems));\n    },\n    [onInsertElements],\n  );\n\n  const deselectItems = useCallback(() => {\n    setAppState({\n      selectedElementIds: {},\n      selectedGroupIds: {},\n    });\n  }, [setAppState]);\n\n  return (\n    <LibraryMenuContent\n      pendingElements={pendingElements}\n      onInsertLibraryItems={onInsertLibraryItems}\n      onAddToLibrary={deselectItems}\n      setAppState={setAppState}\n      libraryReturnUrl={appProps.libraryReturnUrl}\n      library={memoizedLibrary}\n      id={id}\n      theme={appState.theme}\n      selectedItems={selectedItems}\n      onSelectItems={setSelectedItems}\n    />\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}