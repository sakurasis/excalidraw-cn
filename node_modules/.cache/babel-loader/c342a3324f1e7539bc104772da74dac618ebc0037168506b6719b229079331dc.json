{"ast":null,"code":"/**\n * This was originally forked from https://github.com/occ/TraceKit, but has since been\n * largely modified and is now maintained as part of Sentry JS SDK.\n */\nimport { __assign } from \"tslib\";\n// global reference to slice\nvar UNKNOWN_FUNCTION = '?';\n// Chromium based browsers: Chrome, Brave, new Opera, new Edge\nvar chrome = /^\\s*at (?:(.*?) ?\\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\n// gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\nvar gecko = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nvar geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nvar chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n// Based on our own mapping pattern - https://github.com/getsentry/sentry/blob/9f08305e09866c8bd6d0c24f5b0aabdd7dd6c59c/src/sentry/lang/javascript/errormapping.py#L83-L108\nvar reactMinifiedRegexp = /Minified React error #\\d+;/i;\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function computeStackTrace(ex) {\n  var stack = null;\n  var popSize = 0;\n  if (ex) {\n    if (typeof ex.framesToPop === 'number') {\n      popSize = ex.framesToPop;\n    } else if (reactMinifiedRegexp.test(ex.message)) {\n      popSize = 1;\n    }\n  }\n  try {\n    // This must be tried first because Opera 10 *destroys*\n    // its stacktrace property if you try to access the stack\n    // property first!!\n    stack = computeStackTraceFromStacktraceProp(ex);\n    if (stack) {\n      return popFrames(stack, popSize);\n    }\n  } catch (e) {\n    // no-empty\n  }\n  try {\n    stack = computeStackTraceFromStackProp(ex);\n    if (stack) {\n      return popFrames(stack, popSize);\n    }\n  } catch (e) {\n    // no-empty\n  }\n  return {\n    message: extractMessage(ex),\n    name: ex && ex.name,\n    stack: [],\n    failed: true\n  };\n}\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, complexity\nfunction computeStackTraceFromStackProp(ex) {\n  if (!ex || !ex.stack) {\n    return null;\n  }\n  var stack = [];\n  var lines = ex.stack.split('\\n');\n  var isEval;\n  var submatch;\n  var parts;\n  var element;\n  for (var i = 0; i < lines.length; ++i) {\n    if (parts = chrome.exec(lines[i])) {\n      var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n      isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n      if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1]; // url\n        parts[3] = submatch[2]; // line\n        parts[4] = submatch[3]; // column\n      }\n\n      element = {\n        // working with the regexp above is super painful. it is quite a hack, but just stripping the `address at `\n        // prefix here seems like the quickest solution for now.\n        url: parts[2] && parts[2].indexOf('address at ') === 0 ? parts[2].substr('address at '.length) : parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: isNative ? [parts[2]] : [],\n        line: parts[3] ? +parts[3] : null,\n        column: parts[4] ? +parts[4] : null\n      };\n    } else if (parts = winjs.exec(lines[i])) {\n      element = {\n        url: parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: [],\n        line: +parts[3],\n        column: parts[4] ? +parts[4] : null\n      };\n    } else if (parts = gecko.exec(lines[i])) {\n      isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n      if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n        // throw out eval line/column and use top-most line number\n        parts[1] = parts[1] || \"eval\";\n        parts[3] = submatch[1];\n        parts[4] = submatch[2];\n        parts[5] = ''; // no column when eval\n      } else if (i === 0 && !parts[5] && ex.columnNumber !== void 0) {\n        // FireFox uses this awesome columnNumber property for its top frame\n        // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n        // so adding 1\n        // NOTE: this hack doesn't work if top-most frame is eval\n        stack[0].column = ex.columnNumber + 1;\n      }\n      element = {\n        url: parts[3],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: parts[2] ? parts[2].split(',') : [],\n        line: parts[4] ? +parts[4] : null,\n        column: parts[5] ? +parts[5] : null\n      };\n    } else {\n      continue;\n    }\n    if (!element.func && element.line) {\n      element.func = UNKNOWN_FUNCTION;\n    }\n    stack.push(element);\n  }\n  if (!stack.length) {\n    return null;\n  }\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack: stack\n  };\n}\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction computeStackTraceFromStacktraceProp(ex) {\n  if (!ex || !ex.stacktrace) {\n    return null;\n  }\n  // Access and store the stacktrace property before doing ANYTHING\n  // else to it because Opera is not very good at providing it\n  // reliably in other circumstances.\n  var stacktrace = ex.stacktrace;\n  var opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\n  var opera11Regex = / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\\((.*)\\))? in (.*):\\s*$/i;\n  var lines = stacktrace.split('\\n');\n  var stack = [];\n  var parts;\n  for (var line = 0; line < lines.length; line += 2) {\n    var element = null;\n    if (parts = opera10Regex.exec(lines[line])) {\n      element = {\n        url: parts[2],\n        func: parts[3],\n        args: [],\n        line: +parts[1],\n        column: null\n      };\n    } else if (parts = opera11Regex.exec(lines[line])) {\n      element = {\n        url: parts[6],\n        func: parts[3] || parts[4],\n        args: parts[5] ? parts[5].split(',') : [],\n        line: +parts[1],\n        column: +parts[2]\n      };\n    }\n    if (element) {\n      if (!element.func && element.line) {\n        element.func = UNKNOWN_FUNCTION;\n      }\n      stack.push(element);\n    }\n  }\n  if (!stack.length) {\n    return null;\n  }\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack: stack\n  };\n}\n/** Remove N number of frames from the stack */\nfunction popFrames(stacktrace, popSize) {\n  try {\n    return __assign(__assign({}, stacktrace), {\n      stack: stacktrace.stack.slice(popSize)\n    });\n  } catch (e) {\n    return stacktrace;\n  }\n}\n/**\n * There are cases where stacktrace.message is an Event object\n * https://github.com/getsentry/sentry-javascript/issues/1949\n * In this specific case we try to extract stacktrace.message.error.message\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction extractMessage(ex) {\n  var message = ex && ex.message;\n  if (!message) {\n    return 'No error message';\n  }\n  if (message.error && typeof message.error.message === 'string') {\n    return message.error.message;\n  }\n  return message;\n}","map":{"version":3,"names":["UNKNOWN_FUNCTION","chrome","gecko","winjs","geckoEval","chromeEval","reactMinifiedRegexp","computeStackTrace","ex","stack","popSize","framesToPop","test","message","computeStackTraceFromStacktraceProp","popFrames","e","computeStackTraceFromStackProp","extractMessage","name","failed","lines","split","isEval","submatch","parts","element","i","length","exec","isNative","indexOf","url","substr","func","args","line","column","columnNumber","push","stacktrace","opera10Regex","opera11Regex","__assign","slice","error"],"sources":["D:\\project\\excalidraw-cn\\node_modules\\@sentry\\browser\\src\\tracekit.ts"],"sourcesContent":["/**\n * This was originally forked from https://github.com/occ/TraceKit, but has since been\n * largely modified and is now maintained as part of Sentry JS SDK.\n */\n\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n\n/**\n * An object representing a single stack frame.\n * {Object} StackFrame\n * {string} url The JavaScript or HTML file URL.\n * {string} func The function name, or empty for anonymous functions (if guessing did not work).\n * {string[]?} args The arguments passed to the function, if known.\n * {number=} line The line number, if known.\n * {number=} column The column number, if known.\n * {string[]} context An array of source code lines; the middle element corresponds to the correct line#.\n */\nexport interface StackFrame {\n  url: string;\n  func: string;\n  args: string[];\n  line: number | null;\n  column: number | null;\n}\n\n/**\n * An object representing a JavaScript stack trace.\n * {Object} StackTrace\n * {string} name The name of the thrown exception.\n * {string} message The exception error message.\n * {TraceKit.StackFrame[]} stack An array of stack frames.\n */\nexport interface StackTrace {\n  name: string;\n  message: string;\n  mechanism?: string;\n  stack: StackFrame[];\n  failed?: boolean;\n}\n\n// global reference to slice\nconst UNKNOWN_FUNCTION = '?';\n\n// Chromium based browsers: Chrome, Brave, new Opera, new Edge\nconst chrome = /^\\s*at (?:(.*?) ?\\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\n// gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\nconst gecko = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nconst winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nconst geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nconst chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n// Based on our own mapping pattern - https://github.com/getsentry/sentry/blob/9f08305e09866c8bd6d0c24f5b0aabdd7dd6c59c/src/sentry/lang/javascript/errormapping.py#L83-L108\nconst reactMinifiedRegexp = /Minified React error #\\d+;/i;\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function computeStackTrace(ex: any): StackTrace {\n  let stack = null;\n  let popSize = 0;\n\n  if (ex) {\n    if (typeof ex.framesToPop === 'number') {\n      popSize = ex.framesToPop;\n    } else if (reactMinifiedRegexp.test(ex.message)) {\n      popSize = 1;\n    }\n  }\n\n  try {\n    // This must be tried first because Opera 10 *destroys*\n    // its stacktrace property if you try to access the stack\n    // property first!!\n    stack = computeStackTraceFromStacktraceProp(ex);\n    if (stack) {\n      return popFrames(stack, popSize);\n    }\n  } catch (e) {\n    // no-empty\n  }\n\n  try {\n    stack = computeStackTraceFromStackProp(ex);\n    if (stack) {\n      return popFrames(stack, popSize);\n    }\n  } catch (e) {\n    // no-empty\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex && ex.name,\n    stack: [],\n    failed: true,\n  };\n}\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, complexity\nfunction computeStackTraceFromStackProp(ex: any): StackTrace | null {\n  if (!ex || !ex.stack) {\n    return null;\n  }\n\n  const stack = [];\n  const lines = ex.stack.split('\\n');\n  let isEval;\n  let submatch;\n  let parts;\n  let element;\n\n  for (let i = 0; i < lines.length; ++i) {\n    if ((parts = chrome.exec(lines[i]))) {\n      const isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n      isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n      if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1]; // url\n        parts[3] = submatch[2]; // line\n        parts[4] = submatch[3]; // column\n      }\n      element = {\n        // working with the regexp above is super painful. it is quite a hack, but just stripping the `address at `\n        // prefix here seems like the quickest solution for now.\n        url: parts[2] && parts[2].indexOf('address at ') === 0 ? parts[2].substr('address at '.length) : parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: isNative ? [parts[2]] : [],\n        line: parts[3] ? +parts[3] : null,\n        column: parts[4] ? +parts[4] : null,\n      };\n    } else if ((parts = winjs.exec(lines[i]))) {\n      element = {\n        url: parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: [],\n        line: +parts[3],\n        column: parts[4] ? +parts[4] : null,\n      };\n    } else if ((parts = gecko.exec(lines[i]))) {\n      isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n      if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n        // throw out eval line/column and use top-most line number\n        parts[1] = parts[1] || `eval`;\n        parts[3] = submatch[1];\n        parts[4] = submatch[2];\n        parts[5] = ''; // no column when eval\n      } else if (i === 0 && !parts[5] && ex.columnNumber !== void 0) {\n        // FireFox uses this awesome columnNumber property for its top frame\n        // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n        // so adding 1\n        // NOTE: this hack doesn't work if top-most frame is eval\n        stack[0].column = (ex.columnNumber as number) + 1;\n      }\n      element = {\n        url: parts[3],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: parts[2] ? parts[2].split(',') : [],\n        line: parts[4] ? +parts[4] : null,\n        column: parts[5] ? +parts[5] : null,\n      };\n    } else {\n      continue;\n    }\n\n    if (!element.func && element.line) {\n      element.func = UNKNOWN_FUNCTION;\n    }\n\n    stack.push(element);\n  }\n\n  if (!stack.length) {\n    return null;\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack,\n  };\n}\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction computeStackTraceFromStacktraceProp(ex: any): StackTrace | null {\n  if (!ex || !ex.stacktrace) {\n    return null;\n  }\n  // Access and store the stacktrace property before doing ANYTHING\n  // else to it because Opera is not very good at providing it\n  // reliably in other circumstances.\n  const stacktrace = ex.stacktrace;\n  const opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\n  const opera11Regex = / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\\((.*)\\))? in (.*):\\s*$/i;\n  const lines = stacktrace.split('\\n');\n  const stack = [];\n  let parts;\n\n  for (let line = 0; line < lines.length; line += 2) {\n    let element = null;\n    if ((parts = opera10Regex.exec(lines[line]))) {\n      element = {\n        url: parts[2],\n        func: parts[3],\n        args: [],\n        line: +parts[1],\n        column: null,\n      };\n    } else if ((parts = opera11Regex.exec(lines[line]))) {\n      element = {\n        url: parts[6],\n        func: parts[3] || parts[4],\n        args: parts[5] ? parts[5].split(',') : [],\n        line: +parts[1],\n        column: +parts[2],\n      };\n    }\n\n    if (element) {\n      if (!element.func && element.line) {\n        element.func = UNKNOWN_FUNCTION;\n      }\n      stack.push(element);\n    }\n  }\n\n  if (!stack.length) {\n    return null;\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack,\n  };\n}\n\n/** Remove N number of frames from the stack */\nfunction popFrames(stacktrace: StackTrace, popSize: number): StackTrace {\n  try {\n    return {\n      ...stacktrace,\n      stack: stacktrace.stack.slice(popSize),\n    };\n  } catch (e) {\n    return stacktrace;\n  }\n}\n\n/**\n * There are cases where stacktrace.message is an Event object\n * https://github.com/getsentry/sentry-javascript/issues/1949\n * In this specific case we try to extract stacktrace.message.error.message\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction extractMessage(ex: any): string {\n  const message = ex && ex.message;\n  if (!message) {\n    return 'No error message';\n  }\n  if (message.error && typeof message.error.message === 'string') {\n    return message.error.message;\n  }\n  return message;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}